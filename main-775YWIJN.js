var n2=Object.defineProperty,r2=Object.defineProperties;var i2=Object.getOwnPropertyDescriptors;var mp=Object.getOwnPropertySymbols;var gS=Object.prototype.hasOwnProperty,yS=Object.prototype.propertyIsEnumerable;var mS=(n,e,t)=>e in n?n2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})gS.call(e,t)&&mS(n,t,e[t]);if(mp)for(var t of mp(e))yS.call(e,t)&&mS(n,t,e[t]);return n},oe=(n,e)=>r2(n,i2(e));var gp=(n,e)=>{var t={};for(var r in n)gS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&mp)for(var r of mp(n))e.indexOf(r)<0&&yS.call(n,r)&&(t[r]=n[r]);return t};var pn=null,yp=!1,Rv=1,s2=null,An=Symbol("SIGNAL");function Ie(n){let e=pn;return pn=n,e}function vp(){return pn}var od={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ad(n){if(yp)throw new Error("");if(pn===null)return;pn.consumerOnSignalRead(n);let e=pn.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=pn.recomputing;if(r&&(t=e!==void 0?e.nextProducer:pn.producers,t!==void 0&&t.producer===n)){pn.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===pn&&(!r||a2(i,pn)))return;let s=Jc(pn),o={producer:n,consumer:pn,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};pn.producersTail=o,e!==void 0?e.nextProducer=o:pn.producers=o,s&&wS(n,o)}function _S(){Rv++}function Nv(n){if(!(Jc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Rv)){if(!n.producerMustRecompute(n)&&!wp(n)){Av(n);return}n.producerRecomputeValue(n),Av(n)}}function Pv(n){if(n.consumers===void 0)return;let e=yp;yp=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||o2(r)}}finally{yp=e}}function Mv(){return pn?.consumerAllowSignalWrites!==!1}function o2(n){n.dirty=!0,Pv(n),n.consumerMarkedDirty?.(n)}function Av(n){n.dirty=!1,n.lastCleanEpoch=Rv}function cd(n){return n&&vS(n),Ie(n)}function vS(n){n.producersTail=void 0,n.recomputing=!0}function Ep(n,e){Ie(e),n&&ES(n)}function ES(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Jc(n))do t=xv(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function wp(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Nv(t),r!==t.version))return!0}return!1}function ud(n){if(Jc(n)){let e=n.producers;for(;e!==void 0;)e=xv(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function wS(n,e){let t=n.consumersTail,r=Jc(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)wS(i.producer,i)}function xv(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Jc(e)){let s=e.producers;for(;s!==void 0;)s=xv(s)}return t}function Jc(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function kv(n){s2?.(n)}function a2(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ov(n,e){return Object.is(n,e)}function Ip(n,e){let t=Object.create(c2);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Nv(t),ad(t),t.value===_p)throw t.error;return t.value};return r[An]=t,kv(t),r}var Dv=Symbol("UNSET"),Sv=Symbol("COMPUTING"),_p=Symbol("ERRORED"),c2=oe(F({},od),{value:Dv,dirty:!0,error:null,equal:Ov,kind:"computed",producerMustRecompute(n){return n.value===Dv||n.value===Sv},producerRecomputeValue(n){if(n.value===Sv)throw new Error("");let e=n.value;n.value=Sv;let t=cd(n),r,i=!1;try{r=n.computation(),Ie(null),i=e!==Dv&&e!==_p&&r!==_p&&n.equal(e,r)}catch(s){r=_p,n.error=s}finally{Ep(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function u2(){throw new Error}var IS=u2;function TS(n){IS(n)}function Fv(n){IS=n}var l2=null;function Vv(n,e){let t=Object.create(Tp);t.value=n,e!==void 0&&(t.equal=e);let r=()=>bS(t);return r[An]=t,kv(t),[r,o=>ld(t,o),o=>CS(t,o)]}function bS(n){return ad(n),n.value}function ld(n,e){Mv()||TS(n),n.equal(n.value,e)||(n.value=e,d2(n))}function CS(n,e){Mv()||TS(n),ld(n,e(n.value))}var Tp=oe(F({},od),{equal:Ov,value:void 0,kind:"signal"});function d2(n){n.version++,_S(),Pv(n),l2?.(n)}function Lv(n){let e=Ie(null);try{return n()}finally{Ie(e)}}function ge(n){return typeof n=="function"}function Xc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var bp=Xc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ua(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Bt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ge(r))try{r()}catch(s){e=s instanceof bp?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{DS(s)}catch(o){e=e??[],o instanceof bp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new bp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)DS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ua(t,e)}remove(e){let{_finalizers:t}=this;t&&ua(t,e),e instanceof n&&e._removeParent(this)}};Bt.EMPTY=(()=>{let n=new Bt;return n.closed=!0,n})();var Uv=Bt.EMPTY;function Cp(n){return n instanceof Bt||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function DS(n){ge(n)?n():n.unsubscribe()}var Dr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zc={setTimeout(n,e,...t){let{delegate:r}=Zc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Zc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Dp(n){Zc.setTimeout(()=>{let{onUnhandledError:e}=Dr;if(e)e(n);else throw n})}function la(){}var SS=jv("C",void 0,void 0);function AS(n){return jv("E",void 0,n)}function RS(n){return jv("N",n,void 0)}function jv(n,e,t){return{kind:n,value:e,error:t}}var da=null;function eu(n){if(Dr.useDeprecatedSynchronousErrorHandling){let e=!da;if(e&&(da={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=da;if(da=null,t)throw r}}else n()}function NS(n){Dr.useDeprecatedSynchronousErrorHandling&&da&&(da.errorThrown=!0,da.error=n)}var ha=class extends Bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cp(e)&&e.add(this)):this.destination=p2}static create(e,t,r){return new tu(e,t,r)}next(e){this.isStopped?$v(RS(e),this):this._next(e)}error(e){this.isStopped?$v(AS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$v(SS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},h2=Function.prototype.bind;function Bv(n,e){return h2.call(n,e)}var Hv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Sp(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Sp(r)}else Sp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Sp(t)}}},tu=class extends ha{constructor(e,t,r){super();let i;if(ge(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Dr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bv(e.next,s),error:e.error&&Bv(e.error,s),complete:e.complete&&Bv(e.complete,s)}):i=e}this.destination=new Hv(i)}};function Sp(n){Dr.useDeprecatedSynchronousErrorHandling?NS(n):Dp(n)}function f2(n){throw n}function $v(n,e){let{onStoppedNotification:t}=Dr;t&&Zc.setTimeout(()=>t(n,e))}var p2={closed:!0,next:la,error:f2,complete:la};var nu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Sr(n){return n}function qv(...n){return zv(n)}function zv(n){return n.length===0?Sr:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=g2(t)?t:new tu(t,r,i);return eu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=PS(r),new r((i,s)=>{let o=new tu({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[nu](){return this}pipe(...t){return zv(t)(this)}toPromise(t){return t=PS(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function PS(n){var e;return(e=n??Dr.Promise)!==null&&e!==void 0?e:Promise}function m2(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function g2(n){return n&&n instanceof ha||m2(n)&&Cp(n)}function y2(n){return ge(n?.lift)}function He(n){return e=>{if(y2(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(n,e,t,r,i){return new Gv(n,e,t,r,i)}var Gv=class extends ha{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var MS=Xc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mt=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ap(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new MS}next(t){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Uv:(this.currentObservers=null,s.push(t),new Bt(()=>{this.currentObservers=null,ua(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new he;return t.source=this,t}}return n.create=(e,t)=>new Ap(e,t),n})(),Ap=class extends mt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Uv}};var Ct=class extends mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Wv={now(){return(Wv.delegate||Date).now()},delegate:void 0};var Rp=class extends Bt{constructor(e,t){super()}schedule(e,t=0){return this}};var dd={setInterval(n,e,...t){let{delegate:r}=dd;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=dd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ru=class extends Rp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return dd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&dd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ua(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var iu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};iu.now=Wv.now;var su=class extends iu{constructor(e,t=iu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Kv=new su(ru);var Np=class extends ru{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Pp=class extends su{};var Qv=new Pp(Np);var en=new he(n=>n.complete());function xS(n){return n&&ge(n.schedule)}function kS(n){return n[n.length-1]}function Mp(n){return ge(kS(n))?n.pop():void 0}function to(n){return xS(kS(n))?n.pop():void 0}function Yv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function FS(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(m){o(m)}}function c(f){try{d(r.throw(f))}catch(m){o(m)}}function d(f){f.done?s(f.value):i(f.value).then(a,c)}d((r=r.apply(n,e||[])).next())})}function OS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fa(n){return this instanceof fa?(this.v=n,this):new fa(n)}function VS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(A){return function(R){return Promise.resolve(R).then(A,m)}}function a(A,R){r[A]&&(i[A]=function(M){return new Promise(function(x,j){s.push([A,M,x,j])>1||c(A,M)})},R&&(i[A]=R(i[A])))}function c(A,R){try{d(r[A](R))}catch(M){w(s[0][3],M)}}function d(A){A.value instanceof fa?Promise.resolve(A.value.v).then(f,m):w(s[0][2],A)}function f(A){c("next",A)}function m(A){c("throw",A)}function w(A,R){A(R),s.shift(),s.length&&c(s[0][0],s[0][1])}}function LS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof OS=="function"?OS(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},o)}}var xp=n=>n&&typeof n.length=="number"&&typeof n!="function";function kp(n){return ge(n?.then)}function Op(n){return ge(n[nu])}function Fp(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function Vp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lp=_2();function Up(n){return ge(n?.[Lp])}function jp(n){return VS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield fa(t.read());if(i)return yield fa(void 0);yield yield fa(r)}}finally{t.releaseLock()}})}function Bp(n){return ge(n?.getReader)}function Dt(n){if(n instanceof he)return n;if(n!=null){if(Op(n))return v2(n);if(xp(n))return E2(n);if(kp(n))return w2(n);if(Fp(n))return US(n);if(Up(n))return I2(n);if(Bp(n))return T2(n)}throw Vp(n)}function v2(n){return new he(e=>{let t=n[nu]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function E2(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function w2(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Dp)})}function I2(n){return new he(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function US(n){return new he(e=>{b2(n,e).catch(t=>e.error(t))})}function T2(n){return US(jp(n))}function b2(n,e){var t,r,i,s;return FS(this,void 0,void 0,function*(){try{for(t=LS(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Rn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function no(n,e=0){return He((t,r)=>{t.subscribe(qe(r,i=>Rn(r,n,()=>r.next(i),e),()=>Rn(r,n,()=>r.complete(),e),i=>Rn(r,n,()=>r.error(i),e)))})}function ro(n,e=0){return He((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function jS(n,e){return Dt(n).pipe(ro(e),no(e))}function BS(n,e){return Dt(n).pipe(ro(e),no(e))}function $S(n,e){return new he(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function HS(n,e){return new he(t=>{let r;return Rn(t,e,()=>{r=n[Lp](),Rn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}function $p(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{Rn(t,e,()=>{let r=n[Symbol.asyncIterator]();Rn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function qS(n,e){return $p(jp(n),e)}function zS(n,e){if(n!=null){if(Op(n))return jS(n,e);if(xp(n))return $S(n,e);if(kp(n))return BS(n,e);if(Fp(n))return $p(n,e);if(Up(n))return HS(n,e);if(Bp(n))return qS(n,e)}throw Vp(n)}function St(n,e){return e?zS(n,e):Dt(n)}function Ae(...n){let e=to(n);return St(n,e)}function Jv(n,e){let t=ge(n)?n:()=>n,r=i=>i.error(t());return new he(e?i=>e.schedule(r,0,i):r)}function hd(n){return!!n&&(n instanceof he||ge(n.lift)&&ge(n.subscribe))}var pa=Xc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Le(n,e){return He((t,r)=>{let i=0;t.subscribe(qe(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:C2}=Array;function D2(n,e){return C2(e)?n(...e):n(e)}function Hp(n){return Le(e=>D2(n,e))}var{isArray:S2}=Array,{getPrototypeOf:A2,prototype:R2,keys:N2}=Object;function qp(n){if(n.length===1){let e=n[0];if(S2(e))return{args:e,keys:null};if(P2(e)){let t=N2(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function P2(n){return n&&typeof n=="object"&&A2(n)===R2}function zp(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xv(...n){let e=to(n),t=Mp(n),{args:r,keys:i}=qp(n);if(r.length===0)return St([],e);let s=new he(M2(r,e,i?o=>zp(i,o):Sr));return t?s.pipe(Hp(t)):s}function M2(n,e,t=Sr){return r=>{GS(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)GS(e,()=>{let d=St(n[c],e),f=!1;d.subscribe(qe(r,m=>{s[c]=m,f||(f=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function GS(n,e,t){n?Rn(t,n,e):e()}function WS(n,e,t,r,i,s,o,a){let c=[],d=0,f=0,m=!1,w=()=>{m&&!c.length&&!d&&e.complete()},A=M=>d<r?R(M):c.push(M),R=M=>{s&&e.next(M),d++;let x=!1;Dt(t(M,f++)).subscribe(qe(e,j=>{i?.(j),s?A(j):e.next(j)},()=>{x=!0},void 0,()=>{if(x)try{for(d--;c.length&&d<r;){let j=c.shift();o?Rn(e,o,()=>R(j)):R(j)}w()}catch(j){e.error(j)}}))};return n.subscribe(qe(e,A,()=>{m=!0,w()})),()=>{a?.()}}function Tn(n,e,t=1/0){return ge(e)?Tn((r,i)=>Le((s,o)=>e(r,s,i,o))(Dt(n(r,i))),t):(typeof e=="number"&&(t=e),He((r,i)=>WS(r,i,n,t)))}function KS(n=1/0){return Tn(Sr,n)}function QS(){return KS(1)}function ou(...n){return QS()(St(n,to(n)))}function fd(n){return new he(e=>{Dt(n()).subscribe(e)})}function Zv(...n){let e=Mp(n),{args:t,keys:r}=qp(n),i=new he(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,d=o;for(let f=0;f<o;f++){let m=!1;Dt(t[f]).subscribe(qe(s,w=>{m||(m=!0,d--),a[f]=w},()=>c--,void 0,()=>{(!c||!m)&&(d||s.next(r?zp(r,a):a),s.complete())}))}});return e?i.pipe(Hp(e)):i}var Gi=new he(la);function mn(n,e){return He((t,r)=>{let i=0;t.subscribe(qe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function pd(n){return He((e,t)=>{let r=null,i=!1,s;r=e.subscribe(qe(t,void 0,void 0,o=>{s=Dt(n(o,pd(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Gp(n,e){return ge(e)?Tn(n,e,1):Tn(n,1)}function YS(n){return He((e,t)=>{let r=!1;e.subscribe(qe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function tn(n){return n<=0?()=>en:He((e,t)=>{let r=0;e.subscribe(qe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function JS(n=x2){return He((e,t)=>{let r=!1;e.subscribe(qe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function x2(){return new pa}function eE(n){return He((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Wi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mn((i,s)=>n(i,s,r)):Sr,tn(1),t?YS(e):JS(()=>new pa))}function Wp(n){return n<=0?()=>en:He((e,t)=>{let r=[];e.subscribe(qe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Kp(n){return mn((e,t)=>n<=t)}function tE(...n){let e=to(n);return He((t,r)=>{(e?ou(n,t,e):ou(n,t)).subscribe(r)})}function Nn(n,e){return He((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(qe(r,c=>{i?.unsubscribe();let d=0,f=s++;Dt(n(c,f)).subscribe(i=qe(r,m=>r.next(e?e(c,m,f,d++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function md(n){return He((e,t)=>{Dt(n).subscribe(qe(t,()=>t.complete(),la)),!t.closed&&e.subscribe(t)})}function ri(n,e,t){let r=ge(n)||e||t?{next:n,error:e,complete:t}:n;return r?He((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(qe(s,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,c),s.error(c)},()=>{var c,d;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Sr}var nE;function Qp(){return nE}function ii(n){let e=nE;return nE=n,e}var XS=Symbol("NotFound");function au(n){return n===XS||n?.name==="\u0275NotFound"}var ga=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},_E=new ga("21.1.2");var em="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(oo(e,t)),this.code=e}};function F2(n){return`NG0${Math.abs(n)}`}function oo(n,e){return`${F2(n)}${e?": "+e:""}`}var Ar=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("")}function rA(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Qi(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Qi).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function vE(n,e){return n?e?`${n} ${e}`:n:e||""}var V2=ze({__forward_ref__:ze});function ao(n){return n.__forward_ref__=ao,n.toString=function(){return Qi(this())},n}function nn(n){return EE(n)?n():n}function EE(n){return typeof n=="function"&&n.hasOwnProperty(V2)&&n.__forward_ref__===ao}function ee(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rr(n){return{providers:n.providers||[],imports:n.imports||[]}}function wd(n){return L2(n,tm)}function wE(n){return wd(n)!==null}function L2(n,e){return n.hasOwnProperty(e)&&n[e]||null}function U2(n){let e=n?.[tm]??null;return e||null}function iE(n){return n&&n.hasOwnProperty(Jp)?n[Jp]:null}var tm=ze({\u0275prov:ze}),Jp=ze({\u0275inj:ze}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ee({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function IE(n){return n&&!!n.\u0275providers}var TE=ze({\u0275cmp:ze}),bE=ze({\u0275dir:ze}),CE=ze({\u0275pipe:ze}),DE=ze({\u0275mod:ze}),yd=ze({\u0275fac:ze}),wa=ze({__NG_ELEMENT_ID__:ze}),ZS=ze({__NG_ENV_ID__:ze});function SE(n){return nm(n,"@NgModule"),n[DE]||null}function co(n){return nm(n,"@Component"),n[TE]||null}function AE(n){return nm(n,"@Directive"),n[bE]||null}function iA(n){return nm(n,"@Pipe"),n[CE]||null}function nm(n,e){if(n==null)throw new L(-919,!1)}function uu(n){return typeof n=="string"?n:n==null?"":String(n)}var sA=ze({ngErrorCode:ze}),j2=ze({ngErrorMessage:ze}),B2=ze({ngTokenPath:ze});function RE(n,e){return oA("",-200,e)}function rm(n,e){throw new L(-201,!1)}function oA(n,e,t){let r=new L(e,n);return r[sA]=e,r[j2]=n,t&&(r[B2]=t),r}function $2(n){return n[sA]}var sE;function aA(){return sE}function bn(n){let e=sE;return sE=n,e}function NE(n,e,t){let r=wd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;rm(n,"")}var H2={},ma=H2,oE="__NG_DI_FLAG__",aE=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ya(t)||0;try{return this.injector.get(e,r&8?null:ma,r)}catch(i){if(au(i))return i;throw i}}};function q2(n,e=0){let t=Qp();if(t===void 0)throw new L(-203,!1);if(t===null)return NE(n,void 0,e);{let r=z2(e),i=t.retrieve(n,r);if(au(i)){if(r.optional)return null;throw i}return i}}function ae(n,e=0){return(aA()||q2)(nn(n),e)}function V(n,e){return ae(n,ya(e))}function ya(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function z2(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function cE(n){let e=[];for(let t=0;t<n.length;t++){let r=nn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=G2(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(ae(i,s))}else e.push(ae(r))}return e}function cA(n,e){return n[oE]=e,n.prototype[oE]=e,n}function G2(n){return n[oE]}function io(n,e){let t=n.hasOwnProperty(yd);return t?n[yd]:null}function im(n,e){n.forEach(t=>Array.isArray(t)?im(t,e):e(t))}function PE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Id(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function uA(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function lA(n,e,t){let r=lu(n,e);return r>=0?n[r|1]=t:(r=~r,uA(n,r,e,t)),r}function sm(n,e){let t=lu(n,e);if(t>=0)return n[t|1]}function lu(n,e){return W2(n,e,1)}function W2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var uo={},zn=[],Ia=new Q(""),ME=new Q("",-1),xE=new Q(""),_d=class{get(e,t=ma){if(t===ma){let i=oA("",-201);throw i.name="\u0275NotFound",i}return t}};function sn(n){return{\u0275providers:n}}function dA(n){return sn([{provide:Ia,multi:!0,useValue:n}])}function hA(...n){return{\u0275providers:kE(!0,n),\u0275fromNgModule:!0}}function kE(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return im(e,o=>{let a=o;Xp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fA(i,s),t}function fA(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];OE(i,s=>{e(s,r)})}}function Xp(n,e,t,r){if(n=nn(n),!n)return!1;let i=null,s=iE(n),o=!s&&co(n);if(!s&&!o){let c=n.ngModule;if(s=iE(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of c)Xp(d,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;im(s.imports,f=>{Xp(f,e,t,r)&&(d||=[],d.push(f))}),d!==void 0&&fA(d,e)}if(!a){let d=io(i)||(()=>new i);e({provide:i,useFactory:d,deps:zn},i),e({provide:xE,useValue:i,multi:!0},i),e({provide:Ia,useValue:()=>ae(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let d=n;OE(c,f=>{e(f,d)})}}else return!1;return i!==n&&n.providers!==void 0}function OE(n,e){for(let t of n)IE(t)&&(t=t.\u0275providers),Array.isArray(t)?OE(t,e):e(t)}var K2=ze({provide:String,useValue:ze});function pA(n){return n!==null&&typeof n=="object"&&K2 in n}function Q2(n){return!!(n&&n.useExisting)}function Y2(n){return!!(n&&n.useFactory)}function _a(n){return typeof n=="function"}function mA(n){return!!n.useClass}var Td=new Q(""),Yp={},eA={},rE;function bd(){return rE===void 0&&(rE=new _d),rE}var yt=class{},va=class extends yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,lE(e,o=>this.processProvider(o)),this.records.set(ME,cu(void 0,this)),i.has("environment")&&this.records.set(yt,cu(void 0,this));let s=this.records.get(Td);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(xE,zn,{self:!0}))}retrieve(e,t){let r=ya(t)||0;try{return this.get(e,ma,r)}catch(i){if(au(i))return i;throw i}}destroy(){gd(this),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return gd(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){gd(this);let t=ii(this),r=bn(void 0),i;try{return e()}finally{ii(t),bn(r)}}get(e,t=ma,r){if(gd(this),e.hasOwnProperty(ZS))return e[ZS](this);let i=ya(r),s,o=ii(this),a=bn(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let f=tU(e)&&wd(e);f&&this.injectableDefInScope(f)?d=cu(uE(e),Yp):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let c=i&2?bd():this.parent;return t=i&8&&t===ma?null:t,c.get(e,t)}catch(c){let d=$2(c);throw d===-200||d===-201?new L(d,null):c}finally{bn(a),ii(o)}}resolveInjectorInitializers(){let e=Ie(null),t=ii(this),r=bn(void 0),i;try{let s=this.get(Ia,zn,{self:!0});for(let o of s)o()}finally{ii(t),bn(r),Ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Qi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=nn(e);let t=_a(e)?e:nn(e&&e.provide),r=X2(e);if(!_a(e)&&e.multi===!0){let i=this.records.get(t);i||(i=cu(void 0,Yp,!0),i.factory=()=>cE(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ie(null);try{if(t.value===eA)throw RE(Qi(e));return t.value===Yp&&(t.value=eA,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&eU(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=nn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function uE(n){let e=wd(n),t=e!==null?e.factory:io(n);if(t!==null)return t;if(n instanceof Q)throw new L(204,!1);if(n instanceof Function)return J2(n);throw new L(204,!1)}function J2(n){if(n.length>0)throw new L(204,!1);let t=U2(n);return t!==null?()=>t.factory(n):()=>new n}function X2(n){if(pA(n))return cu(void 0,n.useValue);{let e=FE(n);return cu(e,Yp)}}function FE(n,e,t){let r;if(_a(n)){let i=nn(n);return io(i)||uE(i)}else if(pA(n))r=()=>nn(n.useValue);else if(Y2(n))r=()=>n.useFactory(...cE(n.deps||[]));else if(Q2(n))r=(i,s)=>ae(nn(n.useExisting),s!==void 0&&s&8?8:void 0);else{let i=nn(n&&(n.useClass||n.provide));if(Z2(n))r=()=>new i(...cE(n.deps));else return io(i)||uE(i)}return r}function gd(n){if(n.destroyed)throw new L(205,!1)}function cu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Z2(n){return!!n.deps}function eU(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function tU(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function lE(n,e){for(let t of n)Array.isArray(t)?lE(t,e):t&&IE(t)?lE(t.\u0275providers,e):e(t)}function At(n,e){let t;n instanceof va?(gd(n),t=n):t=new aE(n);let r,i=ii(t),s=bn(void 0);try{return e()}finally{ii(i),bn(s)}}function gA(){return aA()!==void 0||Qp()!=null}var Rr=0,_e=1,ye=2,rn=3,ir=4,sr=5,Cd=6,du=7,gn=8,lo=9,si=10,Rt=11,hu=12,VE=13,Ta=14,or=15,ba=16,Ca=17,Da=18,ho=19,LE=20,Ki=21,om=22,Dd=23,Gn=24,am=25,Sd=26,yn=27,yA=1;var fo=7,Ad=8,Rd=9,Pn=10;function oi(n){return Array.isArray(n)&&typeof n[yA]=="object"}function Nr(n){return Array.isArray(n)&&n[yA]===!0}function UE(n){return(n.flags&4)!==0}function po(n){return n.componentOffset>-1}function Nd(n){return(n.flags&1)===1}function ai(n){return!!n.template}function fu(n){return(n[ye]&512)!==0}function Sa(n){return(n[ye]&256)===256}var jE="svg",_A="math";function ar(n){for(;Array.isArray(n);)n=n[Rr];return n}function BE(n,e){return ar(e[n])}function Pr(n,e){return ar(e[n.index])}function cm(n,e){return n.data[e]}function vA(n,e){return n[e]}function $E(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function cr(n,e){let t=e[n];return oi(t)?t:t[Rr]}function um(n){return(n[ye]&128)===128}function EA(n){return Nr(n[rn])}function Aa(n,e){return e==null?null:n[e]}function HE(n){n[Ca]=0}function qE(n){n[ye]&1024||(n[ye]|=1024,um(n)&&Md(n))}function wA(n,e){for(;n>0;)e=e[Ta],n--;return e}function Pd(n){return!!(n[ye]&9216||n[Gn]?.dirty)}function lm(n){n[si].changeDetectionScheduler?.notify(8),n[ye]&64&&(n[ye]|=1024),Pd(n)&&Md(n)}function Md(n){n[si].changeDetectionScheduler?.notify(0);let e=so(n);for(;e!==null&&!(e[ye]&8192||(e[ye]|=8192,!um(e)));)e=so(e)}function zE(n,e){if(Sa(n))throw new L(911,!1);n[Ki]===null&&(n[Ki]=[]),n[Ki].push(e)}function IA(n,e){if(n[Ki]===null)return;let t=n[Ki].indexOf(e);t!==-1&&n[Ki].splice(t,1)}function so(n){let e=n[rn];return Nr(e)?e[rn]:e}function TA(n){return n[du]??=[]}function bA(n){return n.cleanup??=[]}var Te={lFrame:VA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dE=!1;function CA(){return Te.lFrame.elementDepthCount}function DA(){Te.lFrame.elementDepthCount++}function GE(){Te.lFrame.elementDepthCount--}function WE(){return Te.bindingsEnabled}function SA(){return Te.skipHydrationRootTNode!==null}function KE(n){return Te.skipHydrationRootTNode===n}function QE(){Te.skipHydrationRootTNode=null}function Ke(){return Te.lFrame.lView}function ur(){return Te.lFrame.tView}function nt(n){return Te.lFrame.contextLView=n,n[gn]}function rt(n){return Te.lFrame.contextLView=null,n}function Mn(){let n=YE();for(;n!==null&&n.type===64;)n=n.parent;return n}function YE(){return Te.lFrame.currentTNode}function AA(){let n=Te.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function pu(n,e){let t=Te.lFrame;t.currentTNode=n,t.isParent=e}function JE(){return Te.lFrame.isParent}function RA(){Te.lFrame.isParent=!1}function XE(){return dE}function ZE(n){let e=dE;return dE=n,e}function ew(){let n=Te.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function NA(){return Te.lFrame.bindingIndex}function PA(n){return Te.lFrame.bindingIndex=n}function dm(){return Te.lFrame.bindingIndex++}function tw(n){let e=Te.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function MA(){return Te.lFrame.inI18n}function xA(n,e){let t=Te.lFrame;t.bindingIndex=t.bindingRootIndex=n,hm(e)}function kA(){return Te.lFrame.currentDirectiveIndex}function hm(n){Te.lFrame.currentDirectiveIndex=n}function OA(n){let e=Te.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function nw(n){Te.lFrame.currentQueryIndex=n}function nU(n){let e=n[_e];return e.type===2?e.declTNode:e.type===1?n[sr]:null}function rw(n,e,t){if(t&4){let i=e,s=n;for(;i=i.parent,i===null&&!(t&1);)if(i=nU(s),i===null||(s=s[Ta],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Te.lFrame=FA();return r.currentTNode=e,r.lView=n,!0}function fm(n){let e=FA(),t=n[_e];Te.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function FA(){let n=Te.lFrame,e=n===null?null:n.child;return e===null?VA(n):e}function VA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function LA(){let n=Te.lFrame;return Te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var iw=LA;function pm(){let n=LA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function UA(n){return(Te.lFrame.contextLView=wA(n,Te.lFrame.contextLView))[gn]}function mo(){return Te.lFrame.selectedIndex}function go(n){Te.lFrame.selectedIndex=n}function sw(){let n=Te.lFrame;return cm(n.tView,n.selectedIndex)}function mu(){Te.lFrame.currentNamespace=jE}function gu(){rU()}function rU(){Te.lFrame.currentNamespace=null}function jA(){return Te.lFrame.currentNamespace}var BA=!0;function mm(){return BA}function gm(n){BA=n}function hE(n,e=null,t=null,r){let i=ow(n,e,t,r);return i.resolveInjectorInitializers(),i}function ow(n,e=null,t=null,r,i=new Set){let s=[t||zn,hA(n)];return r=r||(typeof n=="object"?void 0:Qi(n)),new va(s,e||bd(),r||null,i)}var lt=class n{static THROW_IF_NOT_FOUND=ma;static NULL=new _d;static create(e,t){if(Array.isArray(e))return hE({name:""},t,e,"");{let r=e.name??"";return hE({name:r},e.parent,e.providers,r)}}static \u0275prov=ee({token:n,providedIn:"any",factory:()=>ae(ME)});static __NG_ELEMENT_ID__=-1},wt=new Q(""),ci=(()=>{class n{static __NG_ELEMENT_ID__=iU;static __NG_ENV_ID__=t=>t}return n})(),fE=class extends ci{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Sa(this._lView)}onDestroy(e){let t=this._lView;return zE(t,e),()=>IA(t,e)}};function iU(){return new fE(Ke())}var $A=!1,HA=new Q(""),Ji=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ct(!1);debugTaskTracker=V(HA,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new he(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})(),pE=class extends mt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,gA()&&(this.destroyRef=V(ci,{optional:!0})??void 0,this.pendingTasks=V(Ji,{optional:!0})??void 0)}emit(e){let t=Ie(null);try{super.next(e)}finally{Ie(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Bt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},gt=pE;function Zp(...n){}function aw(n){let e,t;function r(){n=Zp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function qA(n){return queueMicrotask(()=>n()),()=>{n=Zp}}var cw="isAngularZone",vd=cw+"_ID",sU=0,Ge=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=$A}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,cU(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(cw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,oU,Zp,Zp);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},oU={};function uw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aU(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){aw(()=>{n.callbackScheduled=!1,mE(n),n.isCheckStableRunning=!0,uw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),mE(n)}function cU(n){let e=()=>{aU(n)},t=sU++;n._inner=n._inner.fork({name:"angular",properties:{[cw]:!0,[vd]:t,[vd+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(uU(c))return r.invokeTask(s,o,a,c);try{return tA(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),nA(n)}},onInvoke:(r,i,s,o,a,c,d)=>{try{return tA(n),r.invoke(s,o,a,c,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!lU(c)&&e(),nA(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,mE(n),uw(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function mE(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function tA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nA(n){n._nesting--,uw(n)}var Ed=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function uU(n){return zA(n,"__ignore_ng_zone__")}function lU(n){return zA(n,"__scheduler_tick__")}function zA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Yi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Wn=new Q("",{factory:()=>{let n=V(Ge),e=V(yt),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(Yi),t.handleError(r))})}}}),GA={provide:Ia,useValue:()=>{let n=V(Yi,{optional:!0})},multi:!0},dU=new Q("",{factory:()=>{let n=V(wt).defaultView;if(!n)return;let e=V(Wn),t=s=>{e(s.reason),s.preventDefault()},r=s=>{s.error?e(s.error):e(new Error(s.message,{cause:s})),s.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),V(ci).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function lw(){return sn([dA(()=>{V(dU)})])}function ot(n,e){let[t,r,i]=Vv(n,e?.equal),s=t,o=s[An];return s.set=r,s.update=i,s.asReadonly=WA.bind(s),s}function WA(){let n=this[An];if(n.readonlyFn===void 0){let e=()=>this();e[An]=n,n.readonlyFn=e}return n.readonlyFn}var Ea=class{},xd=new Q("",{factory:()=>!0});var dw=new Q(""),yu=(()=>{class n{internalPendingTasks=V(Ji);scheduler=V(Ea);errorHandler=V(Wn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})(),hw=(()=>{class n{static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new gE})}return n})(),gE=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},yE=class{[An];constructor(e){this[An]=e}destroy(){this[An].destroy()}};function Nt(n){return Lv(n)}function Cu(n){return{toString:n}.toString()}var ym="__parameters__";function _U(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function vU(n,e,t){return Cu(()=>{let r=_U(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,d,f){let m=c.hasOwnProperty(ym)?c[ym]:Object.defineProperty(c,ym,{value:[]})[ym];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(o),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var zt=cA(vU("Optional"),8);function EU(n){return typeof n=="function"}function TR(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var bm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Zi=(()=>{let n=()=>bR;return n.ngInherit=!0,n})();function bR(n){return n.type.prototype.ngOnChanges&&(n.setInput=IU),wU}function wU(){let n=DR(this),e=n?.current;if(e){let t=n.previous;if(t===uo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function IU(n,e,t,r,i){let s=this.declaredInputs[r],o=DR(n)||TU(n,{previous:uo,current:null}),a=o.current||(o.current={}),c=o.previous,d=c[s];a[s]=new bm(d&&d.currentValue,t,c===uo),TR(n,e,i,t)}var CR="__ngSimpleChanges__";function DR(n){return n[CR]||null}function TU(n,e){return n[CR]=e}var KA=[];var Xe=function(n,e=null,t){for(let r=0;r<KA.length;r++){let i=KA[r];i(n,e,t)}},Ue=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Ue||{});function bU(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=bR(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function SR(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function wm(n,e,t){AR(n,e,3,t)}function Im(n,e,t,r){(n[ye]&3)===t&&AR(n,e,t,r)}function fw(n,e){let t=n[ye];(t&3)===e&&(t&=16383,t+=1,n[ye]=t)}function AR(n,e,t,r){let i=r!==void 0?n[Ca]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ca]+=65536),(a<s||s==-1)&&(CU(n,t,e,c),n[Ca]=(n[Ca]&4294901760)+c+2),c++}function QA(n,e){Xe(Ue.LifecycleHookStart,n,e);let t=Ie(null);try{e.call(n)}finally{Ie(t),Xe(Ue.LifecycleHookEnd,n,e)}}function CU(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[ye]>>14<n[Ca]>>16&&(n[ye]&3)===e&&(n[ye]+=16384,QA(a,s)):QA(a,s)}var vu=-1,Na=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function DU(n){return(n.flags&8)!==0}function SU(n){return(n.flags&16)!==0}function AU(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];RU(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function RR(n){return n===3||n===4||n===6}function RU(n){return n.charCodeAt(0)===64}function Eu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?YA(n,t,i,null,e[++r]):YA(n,t,i,null,null))}}return n}function YA(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function NR(n){return n!==vu}function Cm(n){return n&32767}function NU(n){return n>>16}function Dm(n,e){let t=NU(n),r=e;for(;t>0;)r=r[Ta],t--;return r}var bw=!0;function Sm(n){let e=bw;return bw=n,e}var PU=256,PR=PU-1,MR=5,MU=0,ui={};function xU(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(wa)&&(r=t[wa]),r==null&&(r=t[wa]=MU++);let i=r&PR,s=1<<i;e.data[n+(i>>MR)]|=s}function Am(n,e){let t=xR(n,e);if(t!==-1)return t;let r=e[_e];r.firstCreatePass&&(n.injectorIndex=e.length,pw(r.data,n),pw(e,null),pw(r.blueprint,null));let i=Uw(n,e),s=n.injectorIndex;if(NR(i)){let o=Cm(i),a=Dm(i,e),c=a[_e].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|c[o+d]}return e[s+8]=i,s}function pw(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Uw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=LR(i),r===null)return vu;if(t++,i=i[Ta],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return vu}function Cw(n,e,t){xU(n,e,t)}function kU(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(RR(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function kR(n,e,t){if(t&8||n!==void 0)return n;rm(e,"NodeInjector")}function OR(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[lo],s=bn(void 0);try{return i?i.get(e,r,t&8):NE(e,r,t&8)}finally{bn(s)}}return kR(r,e,t)}function FR(n,e,t,r=0,i){if(n!==null){if(e[ye]&2048&&!(r&2)){let o=UU(n,e,t,r,ui);if(o!==ui)return o}let s=VR(n,e,t,r,ui);if(s!==ui)return s}return OR(e,t,r,i)}function VR(n,e,t,r,i){let s=VU(t);if(typeof s=="function"){if(!rw(e,n,r))return r&1?kR(i,t,r):OR(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&8))rm(t);else return o}finally{iw()}}else if(typeof s=="number"){let o=null,a=xR(n,e),c=vu,d=r&1?e[or][sr]:null;for((a===-1||r&4)&&(c=a===-1?Uw(n,e):e[a+8],c===vu||!XA(r,!1)?a=-1:(o=e[_e],a=Cm(c),e=Dm(c,e)));a!==-1;){let f=e[_e];if(JA(s,a,f.data)){let m=OU(a,e,t,o,r,d);if(m!==ui)return m}c=e[a+8],c!==vu&&XA(r,e[_e].data[a+8]===d)&&JA(s,a,e)?(o=f,a=Cm(c),e=Dm(c,e)):a=-1}}return i}function OU(n,e,t,r,i,s){let o=e[_e],a=o.data[n+8],c=r==null?po(a)&&bw:r!=o&&(a.type&3)!==0,d=i&1&&s===a,f=FU(a,o,t,c,d);return f!==null?Rm(e,o,f,a,i):ui}function FU(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,d=n.directiveEnd,f=s>>20,m=r?a:a+f,w=i?a+f:d;for(let A=m;A<w;A++){let R=o[A];if(A<c&&t===R||A>=c&&R.type===t)return A}if(i){let A=o[c];if(A&&ai(A)&&A.type===t)return c}return null}function Rm(n,e,t,r,i){let s=n[t],o=e.data;if(s instanceof Na){let a=s;if(a.resolving)throw RE("");let c=Sm(a.canSeeViewProviders);a.resolving=!0;let d=o[t].type||o[t],f,m=a.injectImpl?bn(a.injectImpl):null,w=rw(n,r,0);try{s=n[t]=a.factory(void 0,i,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&bU(t,o[t],e)}finally{m!==null&&bn(m),Sm(c),a.resolving=!1,iw()}}return s}function VU(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(wa)?n[wa]:void 0;return typeof e=="number"?e>=0?e&PR:LU:e}function JA(n,e,t){let r=1<<n;return!!(t[e+(n>>MR)]&r)}function XA(n,e){return!(n&2)&&!(n&1&&e)}var Ra=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return FR(this._tNode,this._lView,e,ya(r),t)}};function LU(){return new Ra(Mn(),Ke())}function ka(n){return Cu(()=>{let e=n.prototype.constructor,t=e[yd]||Dw(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[yd]||Dw(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Dw(n){return EE(n)?()=>{let e=Dw(nn(n));return e&&e()}:io(n)}function UU(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[ye]&2048&&!fu(o);){let a=VR(s,o,t,r|2,ui);if(a!==ui)return a;let c=s.parent;if(!c){let d=o[LE];if(d){let f=d.get(t,ui,r);if(f!==ui)return f}c=LR(o),o=o[Ta]}s=c}return i}function LR(n){let e=n[_e],t=e.type;return t===2?e.declTNode:t===1?n[sr]:null}function jd(n){return kU(Mn(),n)}function jU(){return Um(Mn(),Ke())}function Um(n,e){return new di(Pr(n,e))}var di=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=jU}return n})();function UR(n){return(n.flags&128)===128}var jw=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(jw||{}),jR=new Map,BU=0;function $U(){return BU++}function HU(n){jR.set(n[ho],n)}function Sw(n){jR.delete(n[ho])}var ZA="__ngContext__";function wu(n,e){oi(e)?(n[ZA]=e[ho],HU(e)):n[ZA]=e}function BR(n){return HR(n[hu])}function $R(n){return HR(n[ir])}function HR(n){for(;n!==null&&!Nr(n);)n=n[ir];return n}var qU;function Bw(n){qU=n}var jm=new Q("",{factory:()=>zU}),zU="ng";var Bm=new Q(""),Oa=new Q("",{providedIn:"platform",factory:()=>"unknown"}),$m=new Q(""),Hm=new Q("",{factory:()=>V(wt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qR=!1,zR=new Q("",{factory:()=>qR});var GU=(n,e,t,r)=>{};function WU(n,e,t,r){GU(n,e,t,r)}function $w(n){return(n.flags&32)===32}var KU=()=>null;function GR(n,e,t=!1){return KU(n,e,t)}function WR(n,e){let t=n.contentQueries;if(t!==null){let r=Ie(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];nw(s),a.contentQueries(2,e[o],o)}}}finally{Ie(r)}}}function Aw(n,e,t){nw(0);let r=Ie(null);try{e(n,t)}finally{Ie(r)}}function KR(n,e,t){if(UE(e)){let r=Ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{Ie(r)}}}var xr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(xr||{});var _m;function QU(){if(_m===void 0&&(_m=null,Ar.trustedTypes))try{_m=Ar.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _m}function YU(n){return QU()?.createScriptURL(n)||n}var vm;function JU(){if(vm===void 0&&(vm=null,Ar.trustedTypes))try{vm=Ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vm}function eR(n){return JU()?.createScriptURL(n)||n}var Nm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${em})`}};function qm(n){return n instanceof Nm?n.changingThisBreaksApplicationSecurity:n}function Hw(n,e){let t=QR(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${em})`)}return t===e}function QR(n){return n instanceof Nm&&n.getTypeName()||null}var XU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YR(n){return n=String(n),n.match(XU)?n:"unsafe:"+n}function ZU(n,e){return n.createText(e)}function ej(n,e,t){n.setValue(e,t)}function JR(n,e,t){return n.createElement(e,t)}function Pm(n,e,t,r,i){n.insertBefore(e,t,r,i)}function XR(n,e,t){n.appendChild(e,t)}function tR(n,e,t,r,i){r!==null?Pm(n,e,t,r,i):XR(n,e,t)}function tj(n,e,t,r){n.removeChild(null,e,t,r)}function nj(n,e,t){n.setAttribute(e,"style",t)}function rj(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ZR(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&AU(n,e,r),i!==null&&rj(n,e,i),s!==null&&nj(n,e,s)}var zm=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(zm||{});function kr(n){let e=tN();return e?e.sanitize(zm.URL,n)||"":Hw(n,"URL")?qm(n):YR(uu(n))}function eN(n){let e=tN();if(e)return eR(e.sanitize(zm.RESOURCE_URL,n)||"");if(Hw(n,"ResourceURL"))return eR(qm(n));throw new L(904,!1)}function qw(n){return YU(n[0])}var ij=new Set(["embed","frame","iframe","media","script"]),sj=new Set(["base","link","script"]);function oj(n,e){return e==="src"&&ij.has(n)||e==="href"&&sj.has(n)||e==="xlink:href"&&n==="script"?eN:kr}function zw(n,e,t){return oj(e,t)(n)}function tN(){let n=Ke();return n&&n[si].sanitizer}function nN(n){return n instanceof Function?n():n}function aj(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var rN="ng-template";function cj(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aj(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Gw(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Gw(n){return n.type===4&&n.value!==rN}function uj(n,e,t){let r=n.type===4&&!t?rN:n.value;return e===r}function lj(n,e,t){let r=4,i=n.attrs,s=i!==null?fj(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Mr(r)&&!Mr(c))return!1;if(o&&Mr(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!uj(n,c,t)||c===""&&e.length===1){if(Mr(r))return!1;o=!0}}else if(r&8){if(i===null||!cj(n,i,c,t)){if(Mr(r))return!1;o=!0}}else{let d=e[++a],f=dj(c,i,Gw(n),t);if(f===-1){if(Mr(r))return!1;o=!0;continue}if(d!==""){let m;if(f>s?m="":m=i[f+1].toLowerCase(),r&2&&d!==m){if(Mr(r))return!1;o=!0}}}}return Mr(r)||o}function Mr(n){return(n&1)===0}function dj(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return pj(e,n)}function hj(n,e,t=!1){for(let r=0;r<e.length;r++)if(lj(n,e[r],t))return!0;return!1}function fj(n){for(let e=0;e<n.length;e++){let t=n[e];if(RR(t))return e}return n.length}function pj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function nR(n,e){return n?":not("+e.trim()+")":e}function mj(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mr(o)&&(e+=nR(s,i),i=""),r=o,s=s||!Mr(r);t++}return i!==""&&(e+=nR(s,i)),e}function gj(n){return n.map(mj).join(",")}function yj(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Mr(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var Or={};function Ww(n,e,t,r,i,s,o,a,c,d,f){let m=yn+r,w=m+i,A=_j(m,w),R=typeof d=="function"?d():d;return A[_e]={type:n,blueprint:A,template:t,queries:null,viewQuery:a,declTNode:e,data:A.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:R,incompleteFirstPass:!1,ssrId:f}}function _j(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Or);return t}function vj(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ww(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Kw(n,e,t,r,i,s,o,a,c,d,f){let m=e.blueprint.slice();return m[Rr]=i,m[ye]=r|4|128|8|64|1024,(d!==null||n&&n[ye]&2048)&&(m[ye]|=2048),HE(m),m[rn]=m[Ta]=n,m[gn]=t,m[si]=o||n&&n[si],m[Rt]=a||n&&n[Rt],m[lo]=c||n&&n[lo]||null,m[sr]=s,m[ho]=$U(),m[Cd]=f,m[LE]=d,m[or]=e.type==2?n[or]:m,m}function Ej(n,e,t){let r=Pr(e,n),i=vj(t),s=n[si].rendererFactory,o=Qw(n,Kw(n,i,null,iN(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function iN(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function sN(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Qw(n,e){return n[hu]?n[VE][ir]=e:n[hu]=e,n[VE]=e,e}function J(n=1){oN(ur(),Ke(),mo()+n,!1)}function oN(n,e,t,r){if(!r)if((e[ye]&3)===3){let s=n.preOrderCheckHooks;s!==null&&wm(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Im(e,s,0,t)}go(t)}var Gm=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Gm||{});function Rw(n,e,t,r){let i=Ie(null);try{let[s,o,a]=n.inputs[t],c=null;(o&Gm.SignalBased)!==0&&(c=e[s][An]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):TR(e,c,s,r)}finally{Ie(i)}}var li=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(li||{}),wj;function Yw(n,e){return wj(n,e)}var Iu=new Set,Jw=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Jw||{}),Bd=new Q(""),rR=new Set;function $d(n){rR.has(n)||(rR.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var aN=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}return n})();var Ij=new Q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:V(yt)})});function cN(n,e,t){let r=n.get(Ij);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function Tj(n,e){for(let[t,r]of e)cN(n,r.animateFns)}function iR(n,e,t,r){let i=n?.[Sd]?.enter;e!==null&&i&&i.has(t.index)&&Tj(r,i)}function _u(n,e,t,r,i,s,o,a){if(i!=null){let c,d=!1;Nr(i)?c=i:oi(i)&&(d=!0,i=i[Rr]);let f=ar(i);n===0&&r!==null?(iR(a,r,s,t),o==null?XR(e,r,f):Pm(e,r,f,o||null,!0)):n===1&&r!==null?(iR(a,r,s,t),Pm(e,r,f,o||null,!0)):n===2?sR(a,s,t,m=>{tj(e,f,d,m)}):n===3&&sR(a,s,t,()=>{e.destroyNode(f)}),c!=null&&Fj(e,n,t,c,s,r,o)}}function bj(n,e){uN(n,e),e[Rr]=null,e[sr]=null}function Cj(n,e,t,r,i,s){r[Rr]=i,r[sr]=e,Wm(n,r,t,1,i,s)}function uN(n,e){e[si].changeDetectionScheduler?.notify(9),Wm(n,e,e[Rt],2,null,null)}function Dj(n){let e=n[hu];if(!e)return mw(n[_e],n);for(;e;){let t=null;if(oi(e))t=e[hu];else{let r=e[Pn];r&&(t=r)}if(!t){for(;e&&!e[ir]&&e!==n;)oi(e)&&mw(e[_e],e),e=e[rn];e===null&&(e=n),oi(e)&&mw(e[_e],e),t=e&&e[ir]}e=t}}function Xw(n,e){let t=n[Rd],r=t.indexOf(e);t.splice(r,1)}function lN(n,e){if(Sa(e))return;let t=e[Rt];t.destroyNode&&Wm(n,e,t,3,null,null),Dj(e)}function mw(n,e){if(Sa(e))return;let t=Ie(null);try{e[ye]&=-129,e[ye]|=256,e[Gn]&&ud(e[Gn]),Rj(n,e),Aj(n,e),e[_e].type===1&&e[Rt].destroy();let r=e[ba];if(r!==null&&Nr(e[rn])){r!==e[rn]&&Xw(r,e);let i=e[Da];i!==null&&i.detachView(n)}Sw(e)}finally{Ie(t)}}function sR(n,e,t,r){let i=n?.[Sd];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Iu.add(n[ho]),cN(t,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let c=0;c<o.animateFns.length;c++){let d=o.animateFns[c],{promise:f}=d();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Sj(n,r)}else n&&Iu.delete(n[ho]),r(!1)},i)}function Sj(n,e){let t=n[Sd]?.running;if(t){t.then(()=>{n[Sd].running=void 0,Iu.delete(n[ho]),e(!0)});return}e(!1)}function Aj(n,e){let t=n.cleanup,r=e[du];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[du]=null);let i=e[Ki];if(i!==null){e[Ki]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Dd];if(s!==null){e[Dd]=null;for(let o of s)o.destroy()}}function Rj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Na)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Xe(Ue.LifecycleHookStart,a,c);try{c.call(a)}finally{Xe(Ue.LifecycleHookEnd,a,c)}}else{Xe(Ue.LifecycleHookStart,i,s);try{s.call(i)}finally{Xe(Ue.LifecycleHookEnd,i,s)}}}}}function Nj(n,e,t){return Pj(n,e.parent,t)}function Pj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Rr];if(po(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===xr.None||i===xr.Emulated)return null}return Pr(r,t)}function Mj(n,e,t){return kj(n,e,t)}function xj(n,e,t){return n.type&40?Pr(n,t):null}var kj=xj,oR;function Zw(n,e,t,r){let i=Nj(n,r,e),s=e[Rt],o=r.parent||e[sr],a=Mj(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)tR(s,i,t[c],a,!1);else tR(s,i,t,a,!1);oR!==void 0&&oR(s,r,e,t,i)}function Od(n,e){if(e!==null){let t=e.type;if(t&3)return Pr(e,n);if(t&4)return Nw(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Od(n,r);{let i=n[e.index];return Nr(i)?Nw(-1,i):ar(i)}}else{if(t&128)return Od(n,e.next);if(t&32)return Yw(e,n)()||ar(n[e.index]);{let r=dN(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=so(n[or]);return Od(i,r)}else return Od(n,e.next)}}}return null}function dN(n,e){if(e!==null){let r=n[or][sr],i=e.projection;return r.projection[i]}return null}function Nw(n,e){let t=Pn+n+1;if(t<e.length){let r=e[t],i=r[_e].firstChild;if(i!==null)return Od(r,i)}return e[fo]}function eI(n,e,t,r,i,s,o){for(;t!=null;){let a=r[lo];if(t.type===128){t=t.next;continue}let c=r[t.index],d=t.type;if(o&&e===0&&(c&&wu(ar(c),r),t.flags|=2),!$w(t))if(d&8)eI(n,e,t.child,r,i,s,!1),_u(e,n,a,i,c,t,s,r);else if(d&32){let f=Yw(t,r),m;for(;m=f();)_u(e,n,a,i,m,t,s,r);_u(e,n,a,i,c,t,s,r)}else d&16?Oj(n,e,r,t,i,s):_u(e,n,a,i,c,t,s,r);t=o?t.projectionNext:t.next}}function Wm(n,e,t,r,i,s){eI(t,r,n.firstChild,e,i,s,!1)}function Oj(n,e,t,r,i,s){let o=t[or],c=o[sr].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let f=c[d];_u(e,n,t[lo],i,f,r,s,t)}else{let d=c,f=o[rn];UR(r)&&(d.flags|=128),eI(n,e,d,f,i,s,!0)}}function Fj(n,e,t,r,i,s,o){let a=r[fo],c=ar(r);a!==c&&_u(e,n,t,s,a,i,o);for(let d=Pn;d<r.length;d++){let f=r[d];Wm(f[_e],f,n,e,s,a)}}function Vj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:li.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=li.Important),n.setStyle(t,r,i,s))}}function hN(n,e,t,r,i){let s=mo(),o=r&2;try{go(-1),o&&e.length>yn&&oN(n,e,yn,!1);let a=o?Ue.TemplateUpdateStart:Ue.TemplateCreateStart;Xe(a,i,t),t(r,i)}finally{go(s);let a=o?Ue.TemplateUpdateEnd:Ue.TemplateCreateEnd;Xe(a,i,t)}}function tI(n,e,t){zj(n,e,t),(t.flags&64)===64&&Gj(n,e,t)}function nI(n,e,t=Pr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function Lj(n,e,t,r){let s=r.get(zR,qR)||t===xr.ShadowDom||t===xr.ExperimentalIsolatedShadowDom,o=n.selectRootElement(e,s);return Uj(o),o}function Uj(n){jj(n)}var jj=()=>null;function Bj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function $j(n,e,t,r,i,s){let o=e[_e];if(rI(n,o,e,t,r)){po(n)&&qj(e,n.index);return}n.type&3&&(t=Bj(t)),Hj(n,e,t,r,i,s)}function Hj(n,e,t,r,i,s){if(n.type&3){let o=Pr(n,e);r=s!=null?s(r,n.value||"",t):r,i.setProperty(o,t,r)}else n.type&12}function qj(n,e){let t=cr(e,n);t[ye]&16||(t[ye]|=64)}function zj(n,e,t){let r=t.directiveStart,i=t.directiveEnd;po(t)&&Ej(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Am(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=Rm(e,n,o,t);if(wu(c,e),s!==null&&Yj(e,o-r,c,a,t,s),ai(a)){let d=cr(t.index,e);d[gn]=Rm(e,n,o,t)}}}function Gj(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=kA();try{go(s);for(let a=r;a<i;a++){let c=n.data[a],d=e[a];hm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Wj(c,d)}}finally{go(-1),hm(o)}}function Wj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function fN(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];hj(e,s.selectors,!1)&&(r??=[],ai(s)?r.unshift(s):r.push(s))}return r}function Kj(n,e,t,r,i,s){let o=Pr(n,e);Qj(e[Rt],o,s,n.value,t,r,i)}function Qj(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?uu(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function Yj(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],d=o[a+1];Rw(r,t,c,d)}}function pN(n,e,t,r,i){let s=yn+t,o=e[_e],a=i(o,e,n,r,t);e[s]=a,pu(n,!0);let c=n.type===2;return c?(ZR(e[Rt],a,n),(CA()===0||Nd(n))&&wu(a,e),DA()):wu(a,e),mm()&&(!c||!$w(n))&&Zw(o,e,a,n),n}function mN(n){let e=n;return JE()?RA():(e=e.parent,pu(e,!1)),e}function Jj(n,e){let t=n[lo];if(!t)return;let r;try{r=t.get(Wn,null)}catch{r=null}r?.(e)}function rI(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let d=o[c],f=o[c+1],m=e.data[d];Rw(m,t[d],f,i),a=!0}if(s)for(let c of s){let d=t[c],f=e.data[c];Rw(f,d,r,i),a=!0}return a}function Xj(n,e){let t=cr(e,n),r=t[_e];Zj(r,t);let i=t[Rr];i!==null&&t[Cd]===null&&(t[Cd]=GR(i,t[lo])),Xe(Ue.ComponentStart);try{iI(r,t,t[gn])}finally{Xe(Ue.ComponentEnd,t[gn])}}function Zj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function iI(n,e,t){fm(e);try{let r=n.viewQuery;r!==null&&Aw(1,r,t);let i=n.template;i!==null&&hN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Da]?.finishViewCreation(n),n.staticContentQueries&&WR(n,e),n.staticViewQueries&&Aw(2,n.viewQuery,t);let s=n.components;s!==null&&eB(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ye]&=-5,pm()}}function eB(n,e){for(let t=0;t<e.length;t++)Xj(n,e[t])}function tB(n,e,t,r){let i=Ie(null);try{let s=e.tView,a=n[ye]&4096?4096:16,c=Kw(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];c[ba]=d;let f=n[Da];return f!==null&&(c[Da]=f.createEmbeddedView(s)),iI(s,c,t),c}finally{Ie(i)}}function aR(n,e){return!e||e.firstChild===null||UR(n)}function Vd(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(ar(s)),Nr(s)&&gN(s,r);let o=t.type;if(o&8)Vd(n,e,t.child,r);else if(o&32){let a=Yw(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=dN(e,t);if(Array.isArray(a))r.push(...a);else{let c=so(e[or]);Vd(c[_e],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function gN(n,e){for(let t=Pn;t<n.length;t++){let r=n[t],i=r[_e].firstChild;i!==null&&Vd(r[_e],r,i,e)}n[fo]!==n[Rr]&&e.push(n[fo])}function yN(n){if(n[am]!==null){for(let e of n[am])e.impl.addSequence(e);n[am].length=0}}var _N=[];function nB(n){return n[Gn]??rB(n)}function rB(n){let e=_N.pop()??Object.create(sB);return e.lView=n,e}function iB(n){n.lView[Gn]!==n&&(n.lView=null,_N.push(n))}var sB=oe(F({},od),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Md(n.lView)},consumerOnSignalRead(){this.lView[Gn]=this}});function oB(n){let e=n[Gn]??Object.create(aB);return e.lView=n,e}var aB=oe(F({},od),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=so(n.lView);for(;e&&!vN(e[_e]);)e=so(e);e&&qE(e)},consumerOnSignalRead(){this.lView[Gn]=this}});function vN(n){return n.type!==2}function EN(n){if(n[Dd]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Dd])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ye]&8192)}}var cB=100;function wN(n,e=0){let r=n[si].rendererFactory,i=!1;i||r.begin?.();try{uB(n,e)}finally{i||r.end?.()}}function uB(n,e){let t=XE();try{ZE(!0),Pw(n,e);let r=0;for(;Pd(n);){if(r===cB)throw new L(103,!1);r++,Pw(n,1)}}finally{ZE(t)}}function lB(n,e,t,r){if(Sa(e))return;let i=e[ye],s=!1,o=!1;fm(e);let a=!0,c=null,d=null;s||(vN(n)?(d=nB(e),c=cd(d)):vp()===null?(a=!1,d=oB(e),c=cd(d)):e[Gn]&&(ud(e[Gn]),e[Gn]=null));try{HE(e),PA(n.bindingStartIndex),t!==null&&hN(n,e,t,2,r);let f=(i&3)===3;if(!s)if(f){let A=n.preOrderCheckHooks;A!==null&&wm(e,A,null)}else{let A=n.preOrderHooks;A!==null&&Im(e,A,0,null),fw(e,0)}if(o||dB(e),EN(e),IN(e,0),n.contentQueries!==null&&WR(n,e),!s)if(f){let A=n.contentCheckHooks;A!==null&&wm(e,A)}else{let A=n.contentHooks;A!==null&&Im(e,A,1),fw(e,1)}fB(n,e);let m=n.components;m!==null&&bN(e,m,0);let w=n.viewQuery;if(w!==null&&Aw(2,w,r),!s)if(f){let A=n.viewCheckHooks;A!==null&&wm(e,A)}else{let A=n.viewHooks;A!==null&&Im(e,A,2),fw(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[om]){for(let A of e[om])A();e[om]=null}s||(yN(e),e[ye]&=-73)}catch(f){throw s||Md(e),f}finally{d!==null&&(Ep(d,c),a&&iB(d)),pm()}}function IN(n,e){for(let t=BR(n);t!==null;t=$R(t))for(let r=Pn;r<t.length;r++){let i=t[r];TN(i,e)}}function dB(n){for(let e=BR(n);e!==null;e=$R(e)){if(!(e[ye]&2))continue;let t=e[Rd];for(let r=0;r<t.length;r++){let i=t[r];qE(i)}}}function hB(n,e,t){Xe(Ue.ComponentStart);let r=cr(e,n);try{TN(r,t)}finally{Xe(Ue.ComponentEnd,r[gn])}}function TN(n,e){um(n)&&Pw(n,e)}function Pw(n,e){let r=n[_e],i=n[ye],s=n[Gn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&wp(s)),o||=!1,s&&(s.dirty=!1),n[ye]&=-9217,o)lB(r,n,r.template,n[gn]);else if(i&8192){let a=Ie(null);try{EN(n),IN(n,1);let c=r.components;c!==null&&bN(n,c,1),yN(n)}finally{Ie(a)}}}function bN(n,e,t){for(let r=0;r<e.length;r++)hB(n,e[r],t)}function fB(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)go(~i);else{let s=i,o=t[++r],a=t[++r];xA(o,s);let c=e[s];Xe(Ue.HostBindingsUpdateStart,c);try{a(2,c)}finally{Xe(Ue.HostBindingsUpdateEnd,c)}}}}finally{go(-1)}}function sI(n,e){let t=XE()?64:1088;for(n[si].changeDetectionScheduler?.notify(e);n;){n[ye]|=t;let r=so(n);if(fu(n)&&!r)return n;n=r}return null}function CN(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function pB(n,e,t,r=!0){let i=e[_e];if(mB(i,e,n,t),r){let o=Nw(t,n),a=e[Rt],c=a.parentNode(n[fo]);c!==null&&Cj(i,n[sr],a,e,c,o)}let s=e[Cd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Mw(n,e){if(n.length<=Pn)return;let t=Pn+e,r=n[t];if(r){let i=r[ba];i!==null&&i!==n&&Xw(i,r),e>0&&(n[t-1][ir]=r[ir]);let s=Id(n,Pn+e);bj(r[_e],r);let o=s[Da];o!==null&&o.detachView(s[_e]),r[rn]=null,r[ir]=null,r[ye]&=-129}return r}function mB(n,e,t,r){let i=Pn+r,s=t.length;r>0&&(t[i-1][ir]=e),r<s-Pn?(e[ir]=t[i],PE(t,Pn+r,e)):(t.push(e),e[ir]=null),e[rn]=t;let o=e[ba];o!==null&&t!==o&&DN(o,e);let a=e[Da];a!==null&&a.insertView(n),lm(e),e[ye]|=128}function DN(n,e){let t=n[Rd],r=e[rn];if(oi(r))n[ye]|=2;else{let i=r[rn][or];e[or]!==i&&(n[ye]|=2)}t===null?n[Rd]=[e]:t.push(e)}var yo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[_e];return Vd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return Sa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rn];if(Nr(e)){let t=e[Ad],r=t?t.indexOf(this):-1;r>-1&&(Mw(e,r),Id(t,r))}this._attachedToViewContainer=!1}lN(this._lView[_e],this._lView)}onDestroy(e){zE(this._lView,e)}markForCheck(){sI(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ye]&=-129}reattach(){lm(this._lView),this._lView[ye]|=128}detectChanges(){this._lView[ye]|=1024,wN(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fu(this._lView),t=this._lView[ba];t!==null&&!e&&Xw(t,this._lView),uN(this._lView[_e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=fu(this._lView),r=this._lView[ba];r!==null&&!t&&DN(r,this._lView),lm(this._lView)}};var Hd=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=gB;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let s=tB(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new yo(s)}}return n})();function gB(){return yB(Mn(),Ke())}function yB(n,e){return n.type&4?new Hd(e,n,Um(n,e)):null}function Km(n,e,t,r,i){let s=n.data[e];if(s===null)s=_B(n,e,t,r,i),MA()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=AA();s.injectorIndex=o===null?-1:o.injectorIndex}return pu(s,!0),s}function _B(n,e,t,r,i){let s=YE(),o=JE(),a=o?s:s&&s.parent,c=n.data[e]=EB(n,a,t,e,r,i);return vB(n,c,s,o),c}function vB(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function EB(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return SA()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var wB=()=>null;function cR(n,e){return wB(n,e)}var SN=class{},Qm=class{},xw=class{resolveComponentFactory(e){throw new L(917,!1)}},qd=class{static NULL=new xw},Xi=class{},_o=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>IB()}return n})();function IB(){let n=Ke(),e=Mn(),t=cr(e.index,n);return(oi(t)?t:n)[Rt]}var AN=(()=>{class n{static \u0275prov=ee({token:n,providedIn:"root",factory:()=>null})}return n})();var Tm={},kw=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Tm,r);return i!==Tm||t===Tm?i:this.parentInjector.get(e,t,r)}};function Mm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=vE(i,a);else if(s==2){let c=a,d=e[++o];r=vE(r,c+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ve(n,e=0){let t=Ke();if(t===null)return ae(n,e);let r=Mn();return FR(r,t,nn(n),e)}function RN(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a=o,c=null,d=null;for(let f of o)if(f.resolveHostDirectives!==null){[a,c,d]=f.resolveHostDirectives(o);break}CB(n,e,t,a,s,c,d)}s!==null&&r!==null&&TB(t,r,s)}function TB(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new L(-301,!1);r.push(e[i],s)}}function bB(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function CB(n,e,t,r,i,s,o){let a=r.length,c=null;for(let w=0;w<a;w++){let A=r[w];c===null&&ai(A)&&(c=A,bB(n,t,w)),Cw(Am(t,e),n,A.type)}PB(t,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let w=0;w<a;w++){let A=r[w];A.providersResolver&&A.providersResolver(A)}let d=!1,f=!1,m=sN(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let w=0;w<a;w++){let A=r[w];if(t.mergedAttrs=Eu(t.mergedAttrs,A.hostAttrs),SB(n,t,e,m,A),NB(m,A,i),o!==null&&o.has(A)){let[M,x]=o.get(A);t.directiveToIndex.set(A.type,[m,M+t.directiveStart,x+t.directiveStart])}else(s===null||!s.has(A))&&t.directiveToIndex.set(A.type,m);A.contentQueries!==null&&(t.flags|=4),(A.hostBindings!==null||A.hostAttrs!==null||A.hostVars!==0)&&(t.flags|=64);let R=A.type.prototype;!d&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!f&&(R.ngOnChanges||R.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),m++}DB(n,t,s)}function DB(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))uR(0,e,i,r),uR(1,e,i,r),dR(e,r,!1);else{let s=t.get(i);lR(0,e,s,r),lR(1,e,s,r),dR(e,r,!0)}}}function uR(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),NN(e,s)}}function lR(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),NN(e,o)}}function NN(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function dR(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||Gw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let d=i[c];for(let f of d)if(f===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let d=s[c];for(let f=0;f<d.length;f+=2)if(d[f]===e){o??=[],o.push(d[f+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function SB(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=io(i.type,!0)),o=new Na(s,ai(i),ve,null);n.blueprint[r]=o,t[r]=o,AB(n,e,r,sN(n,t,i.hostVars,Or),i)}function AB(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;RB(o)!=a&&o.push(a),o.push(t,r,s)}}function RB(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function NB(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ai(e)&&(t[""]=n)}}function PB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function PN(n,e,t,r,i,s,o,a){let c=e[_e],d=c.consts,f=Aa(d,o),m=Km(c,n,t,r,f);return s&&RN(c,e,m,Aa(d,a),i),m.mergedAttrs=Eu(m.mergedAttrs,m.attrs),m.attrs!==null&&Mm(m,m.attrs,!1),m.mergedAttrs!==null&&Mm(m,m.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,m),m}function MN(n,e){SR(n,e),UE(e)&&n.queries.elementEnd(e)}function MB(n,e,t,r,i,s){let o=e.consts,a=Aa(o,i),c=Km(e,n,t,r,a);if(c.mergedAttrs=Eu(c.mergedAttrs,c.attrs),s!=null){let d=Aa(o,s);c.localNames=[];for(let f=0;f<d.length;f+=2)c.localNames.push(d[f],-1)}return c.attrs!==null&&Mm(c,c.attrs,!1),c.mergedAttrs!==null&&Mm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function oI(n){return kN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function xN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function kN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ON(n,e,t){return n[e]=t}function Pa(n,e,t){if(t===Or)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function FN(n,e,t,r){let i=Pa(n,e,t);return Pa(n,e+1,r)||i}function gw(n,e,t){return function r(i){let s=po(n)?cr(n.index,e):e;sI(s,5);let o=e[gn],a=hR(e,o,t,i),c=r.__ngNextListenerFn__;for(;c;)a=hR(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function hR(n,e,t,r){let i=Ie(null);try{return Xe(Ue.OutputStart,e,t),t(r)!==!1}catch(s){return Jj(n,s),!1}finally{Xe(Ue.OutputEnd,e,t),Ie(i)}}function xB(n,e,t,r,i,s,o,a){let c=Nd(n),d=!1,f=null;if(!r&&c&&(f=OB(e,t,s,n.index)),f!==null){let m=f.__ngLastListenerFn__||f;m.__ngNextListenerFn__=o,f.__ngLastListenerFn__=o,d=!0}else{let m=Pr(n,t),w=r?r(m):m;WU(t,w,s,a);let A=i.listen(w,s,a);if(!kB(s)){let R=r?M=>r(ar(M[n.index])):n.index;VN(R,e,t,s,a,A,!1)}}return d}function kB(n){return n.startsWith("animation")||n.startsWith("transition")}function OB(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[du],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function VN(n,e,t,r,i,s,o){let a=e.firstCreatePass?bA(e):null,c=TA(t),d=c.length;c.push(i,s),a&&a.push(r,n,d,(d+1)*(o?-1:1))}function fR(n,e,t,r,i,s){let o=e[t],a=e[_e],d=a.data[t].outputs[r],m=o[d].subscribe(s);VN(n.index,a,e,i,s,m,!0)}var Ow=Symbol("BINDING");var xm=class extends qd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=co(e);return new Tu(t,this.ngModule)}};function VB(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&Gm.SignalBased)!==0};return i&&(s.transform=i),s})}function LB(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function UB(n,e,t){let r=e instanceof yt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new kw(t,r):t}function jB(n){let e=n.get(Xi,null);if(e===null)throw new L(407,!1);let t=n.get(AN,null),r=n.get(Ea,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function BB(n,e){let t=LN(n);return JR(e,t,t==="svg"?jE:t==="math"?_A:null)}function LN(n){return(n.selectors[0][0]||"div").toLowerCase()}var Tu=class extends Qm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=VB(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=LB(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=gj(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,s,o){Xe(Ue.DynamicComponentStart);let a=Ie(null);try{let c=this.componentDef,d=$B(r,c,o,s),f=UB(c,i||this.ngModule,e),m=jB(f),w=m.rendererFactory.createRenderer(null,c),A=r?Lj(w,r,c.encapsulation,f):BB(c,w),R=o?.some(pR)||s?.some(j=>typeof j!="function"&&j.bindings.some(pR)),M=Kw(null,d,null,512|iN(c),null,null,m,w,f,null,GR(A,f,!0));M[yn]=A,fm(M);let x=null;try{let j=PN(yn,M,2,"#host",()=>d.directiveRegistry,!0,0);ZR(w,A,j),wu(A,M),tI(d,M,j),KR(d,j,M),MN(d,j),t!==void 0&&qB(j,this.ngContentSelectors,t),x=cr(j.index,M),M[gn]=x[gn],iI(d,M,null)}catch(j){throw x!==null&&Sw(x),Sw(M),j}finally{Xe(Ue.DynamicComponentEnd),pm()}return new km(this.componentType,M,!!R)}finally{Ie(a)}}};function $B(n,e,t,r){let i=n?["ng-version","21.1.2"]:yj(e.selectors[0]),s=null,o=null,a=0;if(t)for(let f of t)a+=f[Ow].requiredVars,f.create&&(f.targetIdx=0,(s??=[]).push(f)),f.update&&(f.targetIdx=0,(o??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let m=r[f];if(typeof m!="function")for(let w of m.bindings){a+=w[Ow].requiredVars;let A=f+1;w.create&&(w.targetIdx=A,(s??=[]).push(w)),w.update&&(w.targetIdx=A,(o??=[]).push(w))}}let c=[e];if(r)for(let f of r){let m=typeof f=="function"?f:f.type,w=AE(m);c.push(w)}return Ww(0,null,HB(s,o),1,a,c,null,null,null,[i],null)}function HB(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function pR(n){let e=n[Ow].kind;return e==="input"||e==="twoWay"}var km=class extends SN{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=cm(t[_e],yn),this.location=Um(this._tNode,t),this.instance=cr(this._tNode.index,t)[gn],this.hostView=this.changeDetectorRef=new yo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=rI(r,i[_e],i,e,t);this.previousInputValues.set(e,t);let o=cr(r.index,i);sI(o,1)}get injector(){return new Ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qB(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Fa=(()=>{class n{static __NG_ELEMENT_ID__=zB}return n})();function zB(){let n=Mn();return WB(n,Ke())}var GB=Fa,UN=class extends GB{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Um(this._hostTNode,this._hostLView)}get injector(){return new Ra(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uw(this._hostTNode,this._hostLView);if(NR(e)){let t=Dm(e,this._hostLView),r=Cm(e),i=t[_e].data[r+8];return new Ra(i,t)}else return new Ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=mR(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Pn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=cR(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,aR(this._hostTNode,o)),a}createComponent(e,t,r,i,s,o,a){let c=e&&!EU(e),d;if(c)d=t;else{let x=t||{};d=x.index,r=x.injector,i=x.projectableNodes,s=x.environmentInjector||x.ngModuleRef,o=x.directives,a=x.bindings}let f=c?e:new Tu(co(e)),m=r||this.parentInjector;if(!s&&f.ngModule==null){let j=(c?m:this.parentInjector).get(yt,null);j&&(s=j)}let w=co(f.componentType??{}),A=cR(this._lContainer,w?.id??null),R=A?.firstChild??null,M=f.create(m,i,R,s,o,a);return this.insertImpl(M.hostView,d,aR(this._hostTNode,A)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(EA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[rn],d=new UN(c,c[sr],c[rn]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return pB(o,i,s,r),e.attachToViewContainerRef(),PE(yw(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=mR(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Mw(this._lContainer,t);r&&(Id(yw(this._lContainer),t),lN(r[_e],r))}detach(e){let t=this._adjustIndex(e,-1),r=Mw(this._lContainer,t);return r&&Id(yw(this._lContainer),t)!=null?new yo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function mR(n){return n[Ad]}function yw(n){return n[Ad]||(n[Ad]=[])}function WB(n,e){let t,r=e[n.index];return Nr(r)?t=r:(t=CN(r,e,null,n),e[n.index]=t,Qw(e,t)),QB(t,e,n,r),new UN(t,n,e)}function KB(n,e){let t=n[Rt],r=t.createComment(""),i=Pr(e,n),s=t.parentNode(i);return Pm(t,s,r,t.nextSibling(i),!1),r}var QB=XB,YB=()=>!1;function JB(n,e,t){return YB(n,e,t)}function XB(n,e,t,r){if(n[fo])return;let i;t.type&8?i=ar(r):i=KB(e,t),n[fo]=i}var Ma=class{},Ym=class{};var Om=class extends Ma{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new xm(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=SE(e);this._bootstrapComponents=nN(s.bootstrap),this._r3Injector=ow(e,t,[{provide:Ma,useValue:this},{provide:qd,useValue:this.componentFactoryResolver},...r],Qi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Fm=class extends Ym{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Om(this.moduleType,e,[])}};var Ld=class extends Ma{injector;componentFactoryResolver=new xm(this);instance=null;constructor(e){super();let t=new va([...e.providers,{provide:Ma,useValue:this},{provide:qd,useValue:this.componentFactoryResolver}],e.parent||bd(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zd(n,e,t=null){return new Ld({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ZB=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=kE(!1,t.type),i=r.length>0?zd([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ee({token:n,providedIn:"environment",factory:()=>new n(ae(yt))})}return n})();function $t(n){return Cu(()=>{let e=jN(n),t=oe(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(ZB).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xr.Emulated,styles:n.styles||zn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&$d("NgStandalone"),BN(t);let r=n.dependencies;return t.directiveDefs=gR(r,e4),t.pipeDefs=gR(r,iA),t.id=r4(t),t})}function e4(n){return co(n)||AE(n)}function Fr(n){return Cu(()=>({type:n.type,bootstrap:n.bootstrap||zn,declarations:n.declarations||zn,imports:n.imports||zn,exports:n.exports||zn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function t4(n,e){if(n==null)return uo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=Gm.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function n4(n){if(n==null)return uo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ht(n){return Cu(()=>{let e=jN(n);return BN(e),e})}function aI(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function jN(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||uo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||zn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:t4(n.inputs,e),outputs:n4(n.outputs),debugInfo:null}}function BN(n){n.features?.forEach(e=>e(n))}function gR(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let s=e(i);s!==null&&r.push(s)}return r}:null}function r4(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function i4(n){return Object.getPrototypeOf(n.prototype).constructor}function hi(n){let e=i4(n.type),t=!0,r=[n];for(;e;){let i;if(ai(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=_w(n.inputs),o.declaredInputs=_w(n.declaredInputs),o.outputs=_w(n.outputs);let a=i.hostBindings;a&&u4(n,a);let c=i.viewQuery,d=i.contentQueries;if(c&&a4(n,c),d&&c4(n,d),s4(n,i),rA(n.outputs,i.outputs),ai(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===hi&&(t=!1)}}e=Object.getPrototypeOf(e)}o4(r)}function s4(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function o4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Eu(i.hostAttrs,t=Eu(t,i.hostAttrs))}}function _w(n){return n===uo?{}:n===zn?[]:n}function a4(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function c4(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function u4(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function l4(n,e,t,r,i,s,o,a){if(t.firstCreatePass){n.mergedAttrs=Eu(n.mergedAttrs,n.attrs);let f=n.tView=Ww(2,n,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),pu(n,!1);let c=h4(t,e,n,r);mm()&&Zw(t,e,c,n),wu(c,e);let d=CN(c,e,c,n);e[r+yn]=d,Qw(e,d),JB(d,n,e)}function d4(n,e,t,r,i,s,o,a,c,d,f){let m=t+yn,w;return e.firstCreatePass?(w=Km(e,m,4,o||null,a||null),WE()&&RN(e,n,w,Aa(e.consts,d),fN),SR(e,w)):w=e.data[m],l4(w,n,e,t,r,i,s,c),Nd(w)&&tI(e,n,w),d!=null&&nI(n,w,f),w}function ut(n,e,t,r,i,s,o,a){let c=Ke(),d=ur(),f=Aa(d.consts,s);return d4(c,d,n,e,t,r,i,f,void 0,o,a),ut}var h4=f4;function f4(n,e,t,r){return gm(!0),e[Rt].createComment("")}var cI=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var uI=new Q("");function vo(n){return!!n&&typeof n.then=="function"}function lI(n){return!!n&&typeof n.subscribe=="function"}var dI=new Q("");function Jm(n){return sn([{provide:dI,multi:!0,useValue:n}])}var hI=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=V(dI,{optional:!0})??[];injector=V(lt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=At(this.injector,i);if(vo(s))t.push(s);else if(lI(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xm=new Q("");function $N(){Fv(()=>{let n="";throw new L(600,n)})}function HN(n){return n.isBoundToModule}var p4=10;var fi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(Wn);afterRenderManager=V(aN);zonelessEnabled=V(xd);rootEffectScheduler=V(hw);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new mt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=V(Ji);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Le(t=>!t))}constructor(){V(Bd,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=V(yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=lt.NULL){return this._injector.get(Ge).run(()=>{Xe(Ue.BootstrapComponentStart);let o=t instanceof Qm;if(!this._injector.get(hI).done){let R="";throw new L(405,R)}let c;o?c=t:c=this._injector.get(qd).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let d=HN(c)?void 0:this._injector.get(Ma),f=r||c.selector,m=c.create(i,[],f,d),w=m.location.nativeElement,A=m.injector.get(uI,null);return A?.registerApplication(w),m.onDestroy(()=>{this.detachView(m.hostView),Fd(this.components,m),A?.unregisterApplication(w)}),this._loadComponent(m),Xe(Ue.BootstrapComponentEnd,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Xe(Ue.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jw.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Xe(Ue.ChangeDetectionEnd),new L(101,!1);let t=Ie(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(t),this.afterTick.next(),Xe(Ue.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<p4;){Xe(Ue.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Xe(Ue.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Pd(i))continue;let s=r&&!this.zonelessEnabled?0:1;wN(i,s),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Pd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Fd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Xm,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Gd(n,e,t,r){let i=Ke(),s=dm();if(Pa(i,s,e)){let o=ur(),a=sw();Kj(a,i,n,e,t,r)}return Gd}var Nre=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function fe(n,e,t){let r=Ke(),i=dm();if(Pa(r,i,e)){let s=ur(),o=sw();$j(o,r,n,e,r[Rt],t)}return fe}function yR(n,e,t,r,i){rI(e,n,t,i?"class":"style",r)}function B(n,e,t,r){let i=Ke(),s=i[_e],o=n+yn,a=s.firstCreatePass?PN(o,i,2,e,fN,WE(),t,r):s.data[o];if(pN(a,i,n,e,qN),Nd(a)){let c=i[_e];tI(c,i,a),KR(c,a,i)}return r!=null&&nI(i,a),B}function U(){let n=ur(),e=Mn(),t=mN(e);return n.firstCreatePass&&MN(n,t),KE(t)&&QE(),GE(),t.classesWithoutHost!=null&&DU(t)&&yR(n,t,Ke(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&SU(t)&&yR(n,t,Ke(),t.stylesWithoutHost,!1),U}function dt(n,e,t,r){return B(n,e,t,r),U(),dt}function Pt(n,e,t,r){let i=Ke(),s=i[_e],o=n+yn,a=s.firstCreatePass?MB(o,s,2,e,t,r):s.data[o];return pN(a,i,n,e,qN),r!=null&&nI(i,a),Pt}function on(){let n=Mn(),e=mN(n);return KE(e)&&QE(),GE(),on}function pi(n,e,t,r){return Pt(n,e,t,r),on(),pi}var qN=(n,e,t,r,i)=>(gm(!0),JR(e[Rt],r,jA()));function _n(){return Ke()}var kd=void 0;function m4(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var g4=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",kd,kd,kd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",m4],vw={};function Kn(n){let e=y4(n),t=_R(e);if(t)return t;let r=e.split("-")[0];if(t=_R(r),t)return t;if(r==="en")return g4;throw new L(701,!1)}function _R(n){return n in vw||(vw[n]=Ar.ng&&Ar.ng.common&&Ar.ng.common.locales&&Ar.ng.common.locales[n]),vw[n]}var It=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(It||{});function y4(n){return n.toLowerCase().replace(/_/g,"-")}var Wd="en-US";var _4=Wd;function zN(n){typeof n=="string"&&(_4=n.toLowerCase().replace(/_/g,"-"))}function be(n,e,t){let r=Ke(),i=ur(),s=Mn();return v4(i,r,r[Rt],s,n,e,t),be}function v4(n,e,t,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=gw(r,e,s),xB(r,n,e,o,t,i,s,c)&&(a=!1)),a){let d=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let m=0;m<f.length;m+=2){let w=f[m],A=f[m+1];c??=gw(r,e,s),fR(r,e,w,A,i,c)}if(d&&d.length)for(let m of d)c??=gw(r,e,s),fR(r,e,m,i,i,c)}}function xe(n=1){return UA(n)}function Em(n,e){return n<<17|e<<2}function xa(n){return n>>17&32767}function E4(n){return(n&2)==2}function w4(n,e){return n&131071|e<<17}function Fw(n){return n|2}function bu(n){return(n&131068)>>2}function Ew(n,e){return n&-131069|e<<2}function I4(n){return(n&1)===1}function Vw(n){return n|1}function T4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xa(o),c=bu(o);n[r]=t;let d=!1,f;if(Array.isArray(t)){let m=t;f=m[1],(f===null||lu(m,f)>0)&&(d=!0)}else f=t;if(i)if(c!==0){let w=xa(n[a+1]);n[r+1]=Em(w,a),w!==0&&(n[w+1]=Ew(n[w+1],r)),n[a+1]=w4(n[a+1],r)}else n[r+1]=Em(a,0),a!==0&&(n[a+1]=Ew(n[a+1],r)),a=r;else n[r+1]=Em(c,0),a===0?a=r:n[c+1]=Ew(n[c+1],r),c=r;d&&(n[r+1]=Fw(n[r+1])),vR(n,f,r,!0),vR(n,f,r,!1),b4(e,f,n,r,s),o=Em(a,c),s?e.classBindings=o:e.styleBindings=o}function b4(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&lu(s,e)>=0&&(t[r+1]=Vw(t[r+1]))}function vR(n,e,t,r){let i=n[t+1],s=e===null,o=r?xa(i):bu(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],d=n[o+1];C4(c,e)&&(a=!0,n[o+1]=r?Vw(d):Fw(d)),o=r?xa(d):bu(d)}a&&(n[t+1]=r?Fw(i):Vw(i))}function C4(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?lu(n,e)>=0:!1}function Zm(n,e,t){return GN(n,e,t,!1),Zm}function Qn(n,e){return GN(n,e,null,!0),Qn}function GN(n,e,t,r){let i=Ke(),s=ur(),o=tw(2);if(s.firstUpdatePass&&S4(s,n,o,r),e!==Or&&Pa(i,o,e)){let a=s.data[mo()];M4(s,a,i,i[Rt],n,i[o+1]=x4(e,t),r,o)}}function D4(n,e){return e>=n.expandoStartIndex}function S4(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[mo()],o=D4(n,t);k4(s,r)&&e===null&&!o&&(e=!1),e=A4(i,s,e,r),T4(i,s,e,t,o,r)}}function A4(n,e,t,r){let i=OA(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ww(null,n,e,t,r),t=Ud(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=ww(i,n,e,t,r),s===null){let c=R4(n,e,r);c!==void 0&&Array.isArray(c)&&(c=ww(null,n,e,c[1],r),c=Ud(c,e.attrs,r),N4(n,e,r,c))}else s=P4(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function R4(n,e,t){let r=t?e.classBindings:e.styleBindings;if(bu(r)!==0)return n[xa(r)]}function N4(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[xa(i)]=r}function P4(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Ud(r,o,t)}return Ud(r,e.attrs,t)}function ww(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Ud(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ud(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),lA(n,o,t?!0:e[++s]))}return n===void 0?null:n}function M4(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,d=c[a+1],f=I4(d)?ER(c,e,t,i,bu(d),o):void 0;if(!Vm(f)){Vm(s)||E4(d)&&(s=ER(c,null,t,i,a,o));let m=BE(mo(),t);Vj(r,o,m,i,s)}}function ER(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],d=Array.isArray(c),f=d?c[1]:c,m=f===null,w=t[i+1];w===Or&&(w=m?zn:void 0);let A=m?sm(w,r):f===r?w:void 0;if(d&&!Vm(A)&&(A=sm(c,r)),Vm(A)&&(a=A,o))return a;let R=n[i+1];i=o?xa(R):bu(R)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=sm(c,r))}return a}function Vm(n){return n!==void 0}function x4(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Qi(qm(n)))),n}function k4(n,e){return(n.flags&(e?8:16))!==0}function q(n,e=""){let t=Ke(),r=ur(),i=n+yn,s=r.firstCreatePass?Km(r,i,1,e,null):r.data[i],o=O4(r,t,s,e);t[i]=o,mm()&&Zw(r,t,o,s),pu(s,!1)}var O4=(n,e,t,r)=>(gm(!0),ZU(e[Rt],r));function F4(n,e,t,r=""){return Pa(n,dm(),t)?e+uu(t)+r:Or}function V4(n,e,t,r,i,s=""){let o=NA(),a=FN(n,o,t,i);return tw(2),a?e+uu(t)+r+uu(i)+s:Or}function Gt(n){return lr("",n),Gt}function lr(n,e,t){let r=Ke(),i=F4(r,n,e,t);return i!==Or&&WN(r,mo(),i),lr}function Kd(n,e,t,r,i){let s=Ke(),o=V4(s,n,e,t,r,i);return o!==Or&&WN(s,mo(),o),Kd}function WN(n,e,t){let r=BE(e,n);ej(n[Rt],r,t)}function wR(n,e,t){let r=ur();r.firstCreatePass&&KN(e,r.data,r.blueprint,ai(n),t)}function KN(n,e,t,r,i){if(n=nn(n),Array.isArray(n))for(let s=0;s<n.length;s++)KN(n[s],e,t,r,i);else{let s=ur(),o=Ke(),a=Mn(),c=_a(n)?n:nn(n.provide),d=FE(n),f=a.providerIndexes&1048575,m=a.directiveStart,w=a.providerIndexes>>20;if(_a(n)||!n.multi){let A=new Na(d,i,ve,null),R=Tw(c,e,i?f:f+w,m);R===-1?(Cw(Am(a,o),s,c),Iw(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(A),o.push(A)):(t[R]=A,o[R]=A)}else{let A=Tw(c,e,f+w,m),R=Tw(c,e,f,f+w),M=A>=0&&t[A],x=R>=0&&t[R];if(i&&!x||!i&&!M){Cw(Am(a,o),s,c);let j=j4(i?U4:L4,t.length,i,r,d,n);!i&&x&&(t[R].providerFactory=j),Iw(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),o.push(j)}else{let j=QN(t[i?R:A],d,!i&&r);Iw(s,n,A>-1?A:R,j)}!i&&r&&x&&t[R].componentProviders++}}}function Iw(n,e,t,r){let i=_a(e),s=mA(e);if(i||s){let c=(s?nn(e.useClass):e).prototype.ngOnDestroy;if(c){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(t);f===-1?d.push(t,[r,c]):d[f+1].push(r,c)}else d.push(t,c)}}}function QN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Tw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function L4(n,e,t,r,i){return Lw(this.multi,[])}function U4(n,e,t,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Rm(r,r[_e],this.providerFactory.index,i);o=c.slice(0,a),Lw(s,o);for(let d=a;d<c.length;d++)o.push(c[d])}else o=[],Lw(s,o);return o}function Lw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function j4(n,e,t,r,i,s){let o=new Na(n,t,ve,null);return o.multi=[],o.index=e,o.componentProviders=0,QN(o,i,r&&!t),o}function Qd(n,e){return t=>{t.providersResolver=(r,i)=>wR(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>wR(r,i?i(e):e,!0))}}function Va(n,e,t){return B4(Ke(),ew(),n,e,t)}function YN(n,e){let t=n[e];return t===Or?void 0:t}function B4(n,e,t,r,i,s){let o=e+t;return Pa(n,o,i)?ON(n,o+1,s?r.call(s,i):r(i)):YN(n,o+1)}function $4(n,e,t,r,i,s,o){let a=e+t;return FN(n,a,i,s)?ON(n,a+2,o?r.call(o,i,s):r(i,s)):YN(n,a+2)}function Eo(n,e){let t=ur(),r,i=n+yn;t.firstCreatePass?(r=H4(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=io(r.type,!0)),o,a=bn(ve);try{let c=Sm(!1),d=s();return Sm(c),$E(t,Ke(),i,d),d}finally{bn(a)}}function H4(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function wo(n,e,t,r){let i=n+yn,s=Ke(),o=vA(s,i);return q4(s,i)?$4(s,ew(),e,o.transform,t,r,o):o.transform(t,r)}function q4(n,e){return n[_e].data[e].pure}var Lm=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},fI=(()=>{class n{compileModuleSync(t){return new Fm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=SE(t),s=nN(i.declarations).reduce((o,a)=>{let c=co(a);return c&&o.push(new Tu(c)),o},[]);return new Lm(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JN=(()=>{class n{applicationErrorHandler=V(Wn);appRef=V(fi);taskService=V(Ji);ngZone=V(Ge);zonelessEnabled=V(xd);tracing=V(Bd,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Bt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(dw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?qA:aw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XN(){return[{provide:Ea,useExisting:JN},{provide:Ge,useClass:Ed},{provide:xd,useValue:!0}]}function z4(){return typeof $localize<"u"&&$localize.locale||Wd}var Yd=new Q("",{factory:()=>V(Yd,{optional:!0,skipSelf:!0})||z4()});function es(n,e){return Ip(n,e?.equal)}var nP=Symbol("InputSignalNode#UNSET"),u$=oe(F({},Tp),{transformFn:void 0,applyValueToInputSignal(n,e){ld(n,e)}});function rP(n,e){let t=Object.create(u$);t.value=n,t.transformFn=e?.transform;function r(){if(ad(t),t.value===nP){let i=null;throw new L(-950,i)}return t.value}return r[An]=t,r}var tg=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>jd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function ZN(n,e){return rP(n,e)}function l$(n){return rP(nP,n)}var iP=(ZN.required=l$,ZN);var pI=new Q(""),d$=new Q("");function Jd(n){return!n.moduleRef}function h$(n){let e=Jd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ge);return t.run(()=>{Jd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Wn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Jd(n)){let s=()=>e.destroy(),o=n.platformInjector.get(pI);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(pI);o.add(s),n.moduleRef.onDestroy(()=>{Fd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return p$(r,t,()=>{let s=e.get(Ji),o=s.add(),a=e.get(hI);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Yd,Wd);if(zN(c||Wd),!e.get(d$,!0))return Jd(n)?e.get(fi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Jd(n)){let f=e.get(fi);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return f$?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{s.remove(o)})})})}var f$;function p$(n,e,t){try{let r=t();return vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var eg=null;function m$(n=[],e){return lt.create({name:e,providers:[{provide:Td,useValue:"platform"},{provide:pI,useValue:new Set([()=>eg=null])},...n]})}function g$(n=[]){if(eg)return eg;let e=m$(n);return eg=e,$N(),y$(e),e}function y$(n){let e=n.get(Bm,null);At(n,()=>{e?.forEach(t=>t())})}function Xd(){return!1}var _$=1e4;var Xue=_$-1e3;var Zd=(()=>{class n{static __NG_ELEMENT_ID__=v$}return n})();function v$(n){return E$(Mn(),Ke(),(n&16)===16)}function E$(n,e,t){if(po(n)&&!t){let r=cr(n.index,e);return new yo(r,r)}else if(n.type&175){let r=e[or];return new yo(r,e)}return null}var mI=class{constructor(){}supports(e){return oI(e)}create(e){return new gI(e)}},w$=(n,e)=>e,gI=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||w$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<eP(r,i,s)?t:r,a=eP(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,f=c-i;if(d!=f){for(let w=0;w<d;w++){let A=w<s.length?s[w]:s[w]=0,R=A+w;f<=R&&R<d&&(s[w]=A+1)}let m=o.previousIndex;s[m]=f-d}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!oI(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,xN(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new yI(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ng),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ng),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yI=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},_I=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ng=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new _I,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eP(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function tP(){return new EI([new mI])}var EI=(()=>{class n{factories;static \u0275prov=ee({token:n,providedIn:"root",factory:tP});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=V(n,{optional:!0,skipSelf:!0});return n.create(t,r||tP())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function sP(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Xe(Ue.BootstrapApplicationStart);try{let s=i?.injector??g$(r),o=[XN(),GA,...t||[]],a=new Ld({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return h$({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{Xe(Ue.BootstrapApplicationEnd)}}function eh(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var oP=null;function dr(){return oP}function wI(n){oP??=n}var th=class{},rg=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(aP),providedIn:"platform"})}return n})();var aP=(()=>{class n extends rg{_location;_history;_doc=V(wt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dr().getBaseHref(this._doc)}onPopState(t){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function lP(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function cP(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function To(n){return n&&n[0]!=="?"?`?${n}`:n}var Du=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(T$),providedIn:"root"})}return n})(),I$=new Q(""),T$=(()=>{class n extends Du{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lP(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+To(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+To(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+To(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ae(rg),ae(I$,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Su=(()=>{class n{_subject=new mt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=D$(cP(uP(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+To(r))}normalize(t){return n.stripTrailingSlash(C$(this._basePath,uP(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+To(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+To(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=To;static joinWithSlash=lP;static stripTrailingSlash=cP;static \u0275fac=function(r){return new(r||n)(ae(Du))};static \u0275prov=ee({token:n,factory:()=>b$(),providedIn:"root"})}return n})();function b$(){return new Su(ae(Du))}function C$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function uP(n){return n.replace(/\/index.html$/,"")}function D$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var vn=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(vn||{}),Ze=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ze||{}),xn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(xn||{}),ns={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function mP(n){return Kn(n)[It.LocaleId]}function gP(n,e,t){let r=Kn(n),i=[r[It.DayPeriodsFormat],r[It.DayPeriodsStandalone]],s=hr(i,e);return hr(s,t)}function yP(n,e,t){let r=Kn(n),i=[r[It.DaysFormat],r[It.DaysStandalone]],s=hr(i,e);return hr(s,t)}function _P(n,e,t){let r=Kn(n),i=[r[It.MonthsFormat],r[It.MonthsStandalone]],s=hr(i,e);return hr(s,t)}function vP(n,e){let r=Kn(n)[It.Eras];return hr(r,e)}function nh(n,e){let t=Kn(n);return hr(t[It.DateFormat],e)}function rh(n,e){let t=Kn(n);return hr(t[It.TimeFormat],e)}function ih(n,e){let r=Kn(n)[It.DateTimeFormat];return hr(r,e)}function sh(n,e){let t=Kn(n),r=t[It.NumberSymbols][e];if(typeof r>"u"){if(e===ns.CurrencyDecimal)return t[It.NumberSymbols][ns.Decimal];if(e===ns.CurrencyGroup)return t[It.NumberSymbols][ns.Group]}return r}function EP(n){if(!n[It.ExtraData])throw new L(2303,!1)}function wP(n){let e=Kn(n);return EP(e),(e[It.ExtraData][2]||[]).map(r=>typeof r=="string"?II(r):[II(r[0]),II(r[1])])}function IP(n,e,t){let r=Kn(n);EP(r);let i=[r[It.ExtraData][0],r[It.ExtraData][1]],s=hr(i,e)||[];return hr(s,t)||[]}function hr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new L(2304,!1)}function II(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var S$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ig={},A$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function TP(n,e,t,r){let i=V$(n);e=ts(t,e)||e;let o=[],a;for(;e;)if(a=A$.exec(e),a){o=o.concat(a.slice(1));let f=o.pop();if(!f)break;e=f}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=CP(r,c),i=F$(i,r));let d="";return o.forEach(f=>{let m=k$(f);d+=m?m(i,t,c):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function ug(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ts(n,e){let t=mP(n);if(ig[t]??={},ig[t][e])return ig[t][e];let r="";switch(e){case"shortDate":r=nh(n,xn.Short);break;case"mediumDate":r=nh(n,xn.Medium);break;case"longDate":r=nh(n,xn.Long);break;case"fullDate":r=nh(n,xn.Full);break;case"shortTime":r=rh(n,xn.Short);break;case"mediumTime":r=rh(n,xn.Medium);break;case"longTime":r=rh(n,xn.Long);break;case"fullTime":r=rh(n,xn.Full);break;case"short":let i=ts(n,"shortTime"),s=ts(n,"shortDate");r=sg(ih(n,xn.Short),[i,s]);break;case"medium":let o=ts(n,"mediumTime"),a=ts(n,"mediumDate");r=sg(ih(n,xn.Medium),[o,a]);break;case"long":let c=ts(n,"longTime"),d=ts(n,"longDate");r=sg(ih(n,xn.Long),[c,d]);break;case"full":let f=ts(n,"fullTime"),m=ts(n,"fullDate");r=sg(ih(n,xn.Full),[f,m]);break}return r&&(ig[t][e]=r),r}function sg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Vr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function R$(n,e){return Vr(n,3).substring(0,e)}function Mt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=N$(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return R$(a,e);let c=sh(o,ns.MinusSign);return Vr(a,e,c,r,i)}}function N$(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new L(2301,!1)}}function at(n,e,t=vn.Format,r=!1){return function(i,s){return P$(i,s,n,e,t,r)}}function P$(n,e,t,r,i,s){switch(t){case 2:return _P(e,i,r)[n.getMonth()];case 1:return yP(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let d=wP(e),f=IP(e,i,r),m=d.findIndex(w=>{if(Array.isArray(w)){let[A,R]=w,M=o>=A.hours&&a>=A.minutes,x=o<R.hours||o===R.hours&&a<R.minutes;if(A.hours<R.hours){if(M&&x)return!0}else if(M||x)return!0}else if(w.hours===o&&w.minutes===a)return!0;return!1});if(m!==-1)return f[m]}return gP(e,i,r)[o<12?0:1];case 3:return vP(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new L(2302,!1)}}function og(n){return function(e,t,r){let i=-1*r,s=sh(t,ns.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Vr(o,2,s)+Vr(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Vr(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);default:throw new L(2310,!1)}}}var M$=0,cg=4;function x$(n){let e=ug(n,M$,1).getDay();return ug(n,0,1+(e<=cg?cg:cg+7)-e)}function bP(n){let e=n.getDay(),t=e===0?-3:cg-e;return ug(n.getFullYear(),n.getMonth(),n.getDate()+t)}function TI(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=bP(t),o=x$(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Vr(i,n,sh(r,ns.MinusSign))}}function ag(n,e=!1){return function(t,r){let s=bP(t).getFullYear();return Vr(s,n,sh(r,ns.MinusSign),e)}}var bI={};function k$(n){if(bI[n])return bI[n];let e;switch(n){case"G":case"GG":case"GGG":e=at(3,Ze.Abbreviated);break;case"GGGG":e=at(3,Ze.Wide);break;case"GGGGG":e=at(3,Ze.Narrow);break;case"y":e=Mt(0,1,0,!1,!0);break;case"yy":e=Mt(0,2,0,!0,!0);break;case"yyy":e=Mt(0,3,0,!1,!0);break;case"yyyy":e=Mt(0,4,0,!1,!0);break;case"Y":e=ag(1);break;case"YY":e=ag(2,!0);break;case"YYY":e=ag(3);break;case"YYYY":e=ag(4);break;case"M":case"L":e=Mt(1,1,1);break;case"MM":case"LL":e=Mt(1,2,1);break;case"MMM":e=at(2,Ze.Abbreviated);break;case"MMMM":e=at(2,Ze.Wide);break;case"MMMMM":e=at(2,Ze.Narrow);break;case"LLL":e=at(2,Ze.Abbreviated,vn.Standalone);break;case"LLLL":e=at(2,Ze.Wide,vn.Standalone);break;case"LLLLL":e=at(2,Ze.Narrow,vn.Standalone);break;case"w":e=TI(1);break;case"ww":e=TI(2);break;case"W":e=TI(1,!0);break;case"d":e=Mt(2,1);break;case"dd":e=Mt(2,2);break;case"c":case"cc":e=Mt(7,1);break;case"ccc":e=at(1,Ze.Abbreviated,vn.Standalone);break;case"cccc":e=at(1,Ze.Wide,vn.Standalone);break;case"ccccc":e=at(1,Ze.Narrow,vn.Standalone);break;case"cccccc":e=at(1,Ze.Short,vn.Standalone);break;case"E":case"EE":case"EEE":e=at(1,Ze.Abbreviated);break;case"EEEE":e=at(1,Ze.Wide);break;case"EEEEE":e=at(1,Ze.Narrow);break;case"EEEEEE":e=at(1,Ze.Short);break;case"a":case"aa":case"aaa":e=at(0,Ze.Abbreviated);break;case"aaaa":e=at(0,Ze.Wide);break;case"aaaaa":e=at(0,Ze.Narrow);break;case"b":case"bb":case"bbb":e=at(0,Ze.Abbreviated,vn.Standalone,!0);break;case"bbbb":e=at(0,Ze.Wide,vn.Standalone,!0);break;case"bbbbb":e=at(0,Ze.Narrow,vn.Standalone,!0);break;case"B":case"BB":case"BBB":e=at(0,Ze.Abbreviated,vn.Format,!0);break;case"BBBB":e=at(0,Ze.Wide,vn.Format,!0);break;case"BBBBB":e=at(0,Ze.Narrow,vn.Format,!0);break;case"h":e=Mt(3,1,-12);break;case"hh":e=Mt(3,2,-12);break;case"H":e=Mt(3,1);break;case"HH":e=Mt(3,2);break;case"m":e=Mt(4,1);break;case"mm":e=Mt(4,2);break;case"s":e=Mt(5,1);break;case"ss":e=Mt(5,2);break;case"S":e=Mt(6,1);break;case"SS":e=Mt(6,2);break;case"SSS":e=Mt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=og(0);break;case"ZZZZZ":e=og(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=og(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=og(2);break;default:return null}return bI[n]=e,e}function CP(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function O$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function F$(n,e,t){let i=n.getTimezoneOffset(),s=CP(e,i);return O$(n,-1*(s-i))}function V$(n){if(dP(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return ug(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(S$))return L$(r)}let e=new Date(n);if(!dP(e))throw new L(2311,!1);return e}function L$(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),d=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,c,d),e}function dP(n){return n instanceof Date&&!isNaN(n.valueOf())}var CI=/\s+/,hP=[],DI=(()=>{class n{_ngEl;_renderer;initialClasses=hP;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(CI):hP}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(CI):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(CI).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ve(di),ve(_o))};static \u0275dir=Ht({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var lg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},mi=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new lg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),fP(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);fP(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ve(Fa),ve(Hd),ve(EI))};static \u0275dir=Ht({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function fP(n,e){n.context.$implicit=e.item}var La=(()=>{class n{_viewContainer;_context=new dg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pP(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pP(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ve(Fa),ve(Hd))};static \u0275dir=Ht({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),dg=class{$implicit=null;ngIf=null};function pP(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}function U$(n,e){return new L(2100,!1)}var j$="mediumDate",DP=new Q(""),SP=new Q(""),oh=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??j$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return TP(t,o,s||this.locale,a)}catch(o){throw U$(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ve(Yd,16),ve(DP,24),ve(SP,24))};static \u0275pipe=aI({name:"date",type:n,pure:!0})}return n})();var fr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fr({type:n});static \u0275inj=rr({})}return n})();function SI(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ah=class{};var AP="browser";var uh=class{_doc;constructor(e){this._doc=e}manager},hg=(()=>{class n extends uh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(ae(wt))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),mg=new Q(""),PI=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof hg));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof hg);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ae(mg),ae(Ge))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),AI="ng-app-id";function RP(n){for(let e of n)e.remove()}function NP(n,e){let t=e.createElement("style");return t.textContent=n,t}function B$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${AI}="${e}"],link[${AI}="${e}"]`);if(i)for(let s of i)s.removeAttribute(AI),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function NI(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var MI=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,B$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,NP);r?.forEach(i=>this.addUsage(i,this.external,NI))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(RP(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])RP(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,NP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,NI(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ae(wt),ae(jm),ae(Hm,8),ae(Oa))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),RI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xI=/%COMP%/g;var MP="%COMP%",$$=`_nghost-${MP}`,H$=`_ngcontent-${MP}`,q$=!0,z$=new Q("",{factory:()=>q$});function G$(n){return H$.replace(xI,n)}function W$(n){return $$.replace(xI,n)}function xP(n,e){return e.map(t=>t.replace(xI,n))}var hh=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,s,o,a,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=d,this.defaultRenderer=new lh(t,o,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof pg?i.applyToHost(t):i instanceof dh&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.tracingService;switch(r.encapsulation){case xr.Emulated:s=new pg(c,d,r,this.appId,f,o,a,m);break;case xr.ShadowDom:return new fg(c,t,r,o,a,this.nonce,m,d);case xr.ExperimentalIsolatedShadowDom:return new fg(c,t,r,o,a,this.nonce,m);default:s=new dh(c,d,r,f,o,a,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ae(PI),ae(MI),ae(jm),ae(z$),ae(wt),ae(Ge),ae(Hm),ae(Bd,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),lh=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(RI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(PP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(PP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=RI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=RI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(li.DashCase|li.Important)?e.style.setProperty(t,r,i&li.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&li.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=dr().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function PP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var fg=class extends lh{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,s,o,a,c){super(e,i,s,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=xP(r.id,d);for(let m of d){let w=document.createElement("style");o&&w.setAttribute("nonce",o),w.textContent=m,this.shadowRoot.appendChild(w)}let f=r.getExternalStyles?.();if(f)for(let m of f){let w=NI(m,i);o&&w.setAttribute("nonce",o),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},dh=class extends lh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?xP(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Iu.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pg=class extends dh{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c){let d=i+"-"+r.id;super(e,t,r,s,o,a,c,d),this.contentAttr=G$(d),this.hostAttr=W$(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var gg=class n extends th{supportsDOMEvents=!0;static makeCurrent(){wI(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=K$();return t==null?null:Q$(t)}resetBaseElement(){fh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return SI(document.cookie,e)}},fh=null;function K$(){return fh=fh||document.head.querySelector("base"),fh?fh.getAttribute("href"):null}function Q$(n){return new URL(n,document.baseURI).pathname}var Y$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),kP=["alt","control","meta","shift"],J$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},X$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},OP=(()=>{class n extends uh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dr().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kP.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=J$[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kP.forEach(o=>{if(o!==i){let a=X$[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ae(wt))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();async function kI(n,e,t){let r=F({rootComponent:n},Z$(e,t));return sP(r)}function Z$(n,e){return{platformRef:e?.platformRef,appProviders:[...i3,...n?.providers??[]],platformProviders:r3}}function e3(){gg.makeCurrent()}function t3(){return new Yi}function n3(){return Bw(document),document}var r3=[{provide:Oa,useValue:AP},{provide:Bm,useValue:e3,multi:!0},{provide:wt,useFactory:n3}];var i3=[{provide:Td,useValue:"root"},{provide:Yi,useFactory:t3},{provide:mg,useClass:hg,multi:!0},{provide:mg,useClass:OP,multi:!0},hh,MI,PI,{provide:Xi,useExisting:hh},{provide:ah,useClass:Y$},[]];var FP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ae(wt))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pe="primary",Ch=Symbol("RouteTitle"),UI=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ba(n){return new UI(n)}function OI(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(i[0]===":")t[i.substring(1)]=s;else if(i!==s.path)return!1}return!0}function GP(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let c={},d=n.slice(0,r.length);return OI(r,d,c)?{consumed:d,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let s=r.slice(0,i),o=r.slice(i+1);if(s.length+o.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!OI(s,n.slice(0,s.length),a)||!OI(o,n.slice(n.length-o.length),a)?null:{consumed:n,posParams:a}}function Ig(n){return new Promise((e,t)=>{n.pipe(Wi()).subscribe({next:r=>e(r),error:r=>t(r)})})}function o3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gi(n[t],e[t]))return!1;return!0}function gi(n,e){let t=n?jI(n):void 0,r=e?jI(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!WP(n[i],e[i]))return!1;return!0}function jI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function WP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function a3(n){return n.length>0?n[n.length-1]:null}function qa(n){return hd(n)?n:vo(n)?St(Promise.resolve(n)):Ae(n)}function KP(n){return hd(n)?Ig(n):Promise.resolve(n)}var c3={exact:YP,subset:JP},QP={exact:u3,subset:l3,ignored:()=>!0};function VP(n,e,t){return c3[t.paths](n.root,e.root,t.matrixParams)&&QP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function u3(n,e){return gi(n,e)}function YP(n,e,t){if(!Ua(n.segments,e.segments)||!vg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!YP(n.children[r],e.children[r],t))return!1;return!0}function l3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>WP(n[t],e[t]))}function JP(n,e,t){return XP(n,e,e.segments,t)}function XP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ua(i,t)||e.hasChildren()||!vg(i,t,r))}else if(n.segments.length===t.length){if(!Ua(n.segments,t)||!vg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!JP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Ua(n.segments,i)||!vg(n.segments,i,r)||!n.children[pe]?!1:XP(n.children[pe],e,s,r)}}function vg(n,e,t){return e.every((r,i)=>QP[t](n[i].parameters,r.parameters))}var Ur=class{root;queryParams;fragment;_queryParamMap;constructor(e=new je([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ba(this.queryParams),this._queryParamMap}toString(){return f3.serialize(this)}},je=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eg(this)}},bo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ba(this.parameters),this._parameterMap}toString(){return eM(this)}};function d3(n,e){return Ua(n,e)&&n.every((t,r)=>gi(t.parameters,e[r].parameters))}function Ua(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function h3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(e(i,r)))}),t}var Dh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>new Co,providedIn:"root"})}return n})(),Co=class{parse(e){let t=new $I(e);return new Ur(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ph(e.root,!0)}`,r=g3(e.queryParams),i=typeof e.fragment=="string"?`#${p3(e.fragment)}`:"";return`${t}${r}${i}`}},f3=new Co;function Eg(n){return n.segments.map(e=>eM(e)).join("/")}function ph(n,e){if(!n.hasChildren())return Eg(n);if(e){let t=n.children[pe]?ph(n.children[pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==pe&&r.push(`${i}:${ph(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=h3(n,(r,i)=>i===pe?[ph(n.children[pe],!1)]:[`${i}:${ph(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${Eg(n)}/${t[0]}`:`${Eg(n)}/(${t.join("//")})`}}function ZP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yg(n){return ZP(n).replace(/%3B/gi,";")}function p3(n){return encodeURI(n)}function BI(n){return ZP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wg(n){return decodeURIComponent(n)}function LP(n){return wg(n.replace(/\+/g,"%20"))}function eM(n){return`${BI(n.path)}${m3(n.parameters)}`}function m3(n){return Object.entries(n).map(([e,t])=>`;${BI(e)}=${BI(t)}`).join("")}function g3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${yg(t)}=${yg(i)}`).join("&"):`${yg(t)}=${yg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var y3=/^[^\/()?;#]+/;function FI(n){let e=n.match(y3);return e?e[0]:""}var _3=/^[^\/()?;=#]+/;function v3(n){let e=n.match(_3);return e?e[0]:""}var E3=/^[^=?&#]+/;function w3(n){let e=n.match(E3);return e?e[0]:""}var I3=/^[^&#]+/;function T3(n){let e=n.match(I3);return e?e[0]:""}var $I=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new je(e,t)),r}parseSegment(){let e=FI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new bo(wg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=v3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=FI(this.remaining);i&&(r=i,this.capture(r))}e[wg(t)]=wg(r)}parseQueryParam(e){let t=w3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=T3(this.remaining);o&&(r=o,this.capture(r))}let i=LP(t),s=LP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=FI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);let o=this.parseChildren();t[s??pe]=Object.keys(o).length===1&&o[pe]?o[pe]:new je([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function tM(n){return n.segments.length>0?new je([],{[pe]:n}):n}function nM(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=nM(i);if(r===pe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new je(n.segments,e);return b3(t)}function b3(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new je(n.segments.concat(e.segments),e.children)}return n}function Do(n){return n instanceof Ur}function rM(n,e,t=null,r=null,i=new Co){let s=iM(n);return sM(s,e,t,r,i)}function iM(n){let e;function t(s){let o={};for(let c of s.children){let d=t(c);o[c.outlet]=d}let a=new je(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=tM(r);return e??i}function sM(n,e,t,r,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return VI(s,s,s,t,r,i);let o=C3(e);if(o.toRoot())return VI(s,s,new je([],{}),t,r,i);let a=D3(o,s,n),c=a.processChildren?gh(a.segmentGroup,a.index,o.commands):aM(a.segmentGroup,a.index,o.commands);return VI(s,a.segmentGroup,c,t,r,i)}function Tg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function vh(n){return typeof n=="object"&&n!=null&&n.outlets}function UP(n,e,t){n||="\u0275";let r=new Ur;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function VI(n,e,t,r,i,s){let o={};for(let[d,f]of Object.entries(r??{}))o[d]=Array.isArray(f)?f.map(m=>UP(d,m,s)):UP(d,f,s);let a;n===e?a=t:a=oM(n,e,t);let c=tM(nM(a));return new Ur(c,o,i)}function oM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=oM(s,e,t)}),new je(n.segments,r)}var bg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tg(r[0]))throw new L(4003,!1);let i=r.find(vh);if(i&&i!==a3(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function C3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new bg(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new bg(t,e,r)}var Ru=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function D3(n,e,t){if(n.isAbsolute)return new Ru(e,!0,0);if(!t)return new Ru(e,!1,NaN);if(t.parent===null)return new Ru(t,!0,0);let r=Tg(n.commands[0])?0:1,i=t.segments.length-1+r;return S3(t,i,n.numberOfDoubleDots)}function S3(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Ru(r,!1,i-s)}function A3(n){return vh(n[0])?n[0].outlets:{[pe]:n}}function aM(n,e,t){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return gh(n,e,t);let r=R3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new je(n.segments.slice(0,r.pathIndex),{});return s.children[pe]=new je(n.segments.slice(r.pathIndex),n.children),gh(s,0,i)}else return r.match&&i.length===0?new je(n.segments,{}):r.match&&!n.hasChildren()?HI(n,e,t):r.match?gh(n,0,i):HI(n,e,t)}function gh(n,e,t){if(t.length===0)return new je(n.segments,{});{let r=A3(t),i={};if(Object.keys(r).some(s=>s!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let s=gh(n.children[pe],e,t);return new je(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=aM(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new je(n.segments,i)}}function R3(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(vh(a))break;let c=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!BP(c,d,o))return s;r+=2}else{if(!BP(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function HI(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(vh(s)){let c=N3(s.outlets);return new je(r,c)}if(i===0&&Tg(t[0])){let c=n.segments[e];r.push(new bo(c.path,jP(t[0]))),i++;continue}let o=vh(s)?s.outlets[pe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Tg(a)?(r.push(new bo(o,jP(a))),i+=2):(r.push(new bo(o,{})),i++)}return new je(r,{})}function N3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=HI(new je([],{}),0,r))}),e}function jP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function BP(n,e,t){return n==t.path&&gi(e,t.parameters)}var yh="imperative",Wt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Wt||{}),Jn=class{id;url;constructor(e,t){this.id=e,this.url=t}},$a=class extends Jn{type=Wt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yi=class extends Jn{urlAfterRedirects;type=Wt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},En=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(En||{}),Eh=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Eh||{}),pr=class extends Jn{reason;code;type=Wt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function cM(n){return n instanceof pr&&(n.code===En.Redirect||n.code===En.SupersededByNewNavigation)}var is=class extends Jn{reason;code;type=Wt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ha=class extends Jn{error;target;type=Wt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pu=class extends Jn{urlAfterRedirects;state;type=Wt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cg=class extends Jn{urlAfterRedirects;state;type=Wt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class extends Jn{urlAfterRedirects;state;shouldActivate;type=Wt.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sg=class extends Jn{urlAfterRedirects;state;type=Wt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ag=class extends Jn{urlAfterRedirects;state;type=Wt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rg=class{route;type=Wt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ng=class{route;type=Wt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pg=class{snapshot;type=Wt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{snapshot;type=Wt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xg=class{snapshot;type=Wt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kg=class{snapshot;type=Wt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Mu=class{},xu=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function P3(n){return!(n instanceof Mu)&&!(n instanceof xu)}var Og=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Fu(this.rootInjector)}},Fu=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Og(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ae(yt))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=qI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=qI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=zI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zI(e,this._root).map(t=>t.value)}};function qI(n,e){if(n===e.value)return e;for(let t of e.children){let r=qI(n,t);if(r)return r}return null}function zI(n,e){if(n===e.value)return[e];for(let t of e.children){let r=zI(n,t);if(r.length)return r.unshift(e),r}return[]}var Yn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Au(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var wh=class extends Fg{snapshot;constructor(e,t){super(e),this.snapshot=t,ZI(this,e)}toString(){return this.snapshot.toString()}};function uM(n,e){let t=M3(n,e),r=new Ct([new bo("",{})]),i=new Ct({}),s=new Ct({}),o=new Ct({}),a=new Ct(""),c=new ss(r,i,o,a,s,pe,n,t.root);return c.snapshot=t.root,new wh(new Yn(c,[]),t)}function M3(n,e){let t={},r={},i={},o=new ja([],t,i,"",r,pe,n,null,{},e);return new Ih("",new Yn(o,[]))}var ss=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Le(d=>d[Ch]))??Ae(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Le(e=>Ba(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Le(e=>Ba(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&dM(i)&&(r.resolve[Ch]=i.title),r}var ja=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Ch]}constructor(e,t,r,i,s,o,a,c,d,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=d,this._environmentInjector=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ba(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ba(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ih=class extends Fg{url;constructor(e,t){super(t),this.url=e,ZI(this,t)}toString(){return lM(this._root)}};function ZI(n,e){e.value._routerState=n,e.children.forEach(t=>ZI(n,t))}function lM(n){let e=n.children.length>0?` { ${n.children.map(lM).join(", ")} } `:"";return`${n.value}${e}`}function LI(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gi(e.params,t.params)||n.paramsSubject.next(t.params),o3(e.url,t.url)||n.urlSubject.next(t.url),gi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function GI(n,e){let t=gi(n.params,e.params)&&d3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||GI(n.parent,e.parent))}function dM(n){return typeof n.title=="string"||n.title===null}var hM=new Q(""),Sh=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pe;activateEvents=new gt;deactivateEvents=new gt;attachEvents=new gt;detachEvents=new gt;routerOutletData=iP();parentContexts=V(Fu);location=V(Fa);changeDetector=V(Zd);inputBinder=V(Bg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new WI(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ht({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zi]})}return n})(),WI=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ss?this.route:e===Fu?this.childContexts:e===hM?this.outletData:this.parent.get(e,t)}},Bg=new Q("");var eT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=$t({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&dt(0,"router-outlet")},dependencies:[Sh],encapsulation:2})}return n})();function tT(n){let e=n.children&&n.children.map(tT),t=e?oe(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=eT),t}function x3(n,e,t){let r=Th(n,e._root,t?t._root:void 0);return new wh(r,e)}function Th(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=k3(n,e,t);return new Yn(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Th(n,a)),o}}let r=O3(e.value),i=e.children.map(s=>Th(n,s));return new Yn(r,i)}}function k3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Th(n,r,i);return Th(n,r)})}function O3(n){return new ss(new Ct(n.url),new Ct(n.params),new Ct(n.queryParams),new Ct(n.fragment),new Ct(n.data),n.outlet,n.component,n)}var ku=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fM="ngNavigationCancelingError";function Lg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Do(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pM(!1,En.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function pM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fM]=!0,t.cancellationCode=e,t}function F3(n){return mM(n)&&Do(n.url)}function mM(n){return!!n&&n[fM]}var KI=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),LI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Au(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Au(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Au(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Au(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new kg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Mg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(LI(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),LI(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ug=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Nu=class{component;route;constructor(e,t){this.component=e,this.route=t}};function V3(n,e,t){let r=n._root,i=e?e._root:null;return mh(r,i,t,[r.value])}function L3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Vu(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!wE(n)?n:e.get(n):r}function mh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Au(e);return n.children.forEach(o=>{U3(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_h(a,t.getContext(o),i)),i}function U3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=j3(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ug(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?mh(n,e,a?a.children:null,r,i):mh(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nu(a.outlet.component,o))}else o&&_h(e,a,i),i.canActivateChecks.push(new Ug(r)),s.component?mh(n,null,a?a.children:null,r,i):mh(n,null,t,r,i);return i}function j3(n,e,t){if(typeof t=="function")return At(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!Ua(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ua(n.url,e.url)||!gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GI(n,e)||!gi(n.queryParams,e.queryParams);default:return!GI(n,e)}}function _h(n,e,t){let r=Au(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?_h(o,e.children.getContext(s),t):_h(o,null,t):_h(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Nu(e.outlet.component,i)):t.canDeactivateChecks.push(new Nu(null,i)):t.canDeactivateChecks.push(new Nu(null,i))}function Ah(n){return typeof n=="function"}function B3(n){return typeof n=="boolean"}function $3(n){return n&&Ah(n.canLoad)}function H3(n){return n&&Ah(n.canActivate)}function q3(n){return n&&Ah(n.canActivateChild)}function z3(n){return n&&Ah(n.canDeactivate)}function G3(n){return n&&Ah(n.canMatch)}function gM(n){return n instanceof pa||n?.name==="EmptyError"}var _g=Symbol("INITIAL_VALUE");function Ou(){return Nn(n=>Xv(n.map(e=>e.pipe(tn(1),tE(_g)))).pipe(Le(e=>{for(let t of e)if(t!==!0){if(t===_g)return _g;if(t===!1||W3(t))return t}return!0}),mn(e=>e!==_g),tn(1)))}function W3(n){return Do(n)||n instanceof ku}function yM(n){return n.aborted?Ae(void 0).pipe(tn(1)):new he(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function _M(n){return md(yM(n))}function K3(n){return Tn(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?Ae(oe(F({},e),{guardsResult:!0})):Q3(s,t,r).pipe(Tn(o=>o&&B3(o)?Y3(t,i,n):Ae(o)),Le(o=>oe(F({},e),{guardsResult:o})))})}function Q3(n,e,t){return St(n).pipe(Tn(r=>t6(r.component,r.route,t,e)),Wi(r=>r!==!0,!0))}function Y3(n,e,t){return St(e).pipe(Gp(r=>ou(X3(r.route.parent,t),J3(r.route,t),e6(n,r.path),Z3(n,r.route))),Wi(r=>r!==!0,!0))}function J3(n,e){return n!==null&&e&&e(new xg(n)),Ae(!0)}function X3(n,e){return n!==null&&e&&e(new Pg(n)),Ae(!0)}function Z3(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return Ae(!0);let r=t.map(i=>fd(()=>{let s=e._environmentInjector,o=Vu(i,s),a=H3(o)?o.canActivate(e,n):At(s,()=>o(e,n));return qa(a).pipe(Wi())}));return Ae(r).pipe(Ou())}function e6(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>L3(s)).filter(s=>s!==null).map(s=>fd(()=>{let o=s.guards.map(a=>{let c=s.node._environmentInjector,d=Vu(a,c),f=q3(d)?d.canActivateChild(t,n):At(c,()=>d(t,n));return qa(f).pipe(Wi())});return Ae(o).pipe(Ou())}));return Ae(i).pipe(Ou())}function t6(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return Ae(!0);let s=i.map(o=>{let a=e._environmentInjector,c=Vu(o,a),d=z3(c)?c.canDeactivate(n,e,t,r):At(a,()=>c(n,e,t,r));return qa(d).pipe(Wi())});return Ae(s).pipe(Ou())}function n6(n,e,t,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return Ae(!0);let o=s.map(a=>{let c=Vu(a,n),d=$3(c)?c.canLoad(e,t):At(n,()=>c(e,t)),f=qa(d);return i?f.pipe(_M(i)):f});return Ae(o).pipe(Ou(),vM(r))}function vM(n){return qv(ri(e=>{if(typeof e!="boolean")throw Lg(n,e)}),Le(e=>e===!0))}function r6(n,e,t,r,i){let s=e.canMatch;if(!s||s.length===0)return Ae(!0);let o=s.map(a=>{let c=Vu(a,n),d=G3(c)?c.canMatch(e,t):At(n,()=>c(e,t));return qa(d).pipe(_M(i))});return Ae(o).pipe(Ou(),vM(r))}var rs=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},bh=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function i6(n){throw new L(4e3,!1)}function s6(n){throw pM(!1,En.GuardRejected)}var QI=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[pe])throw i6(`${e.redirectTo}`);i=i.children[pe]}}async applyRedirectCommands(e,t,r,i,s){let o=await o6(t,i,s);if(o instanceof Ur)throw new bh(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new bh(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Ur(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new je(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function o6(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:d,data:f,title:m,paramMap:w,queryParamMap:A}=e;return Ig(qa(At(t,()=>r({params:d,data:f,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:m,paramMap:w,queryParamMap:A}))))}function a6(n,e){return n.providers&&!n._injector&&(n._injector=zd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Lr(n){return n.outlet||pe}function c6(n,e){let t=n.filter(r=>Lr(r)===e);return t.push(...n.filter(r=>Lr(r)!==e)),t}var YI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function u6(n,e,t,r,i,s){let o=EM(n,e,t);return o.matched?(r=a6(e,r),r6(r,e,t,i,s).pipe(Le(a=>a===!0?o:F({},YI)))):Ae(o)}function EM(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},YI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||GP)(t,n,e);if(!i)return F({},YI);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $P(n,e,t,r){return t.length>0&&h6(n,t,r)?{segmentGroup:new je(e,d6(r,new je(t,n.children))),slicedSegments:[]}:t.length===0&&f6(n,t,r)?{segmentGroup:new je(n.segments,l6(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function l6(n,e,t,r){let i={};for(let s of t)if($g(n,e,s)&&!r[Lr(s)]){let o=new je([],{});i[Lr(s)]=o}return F(F({},r),i)}function d6(n,e){let t={};t[pe]=e;for(let r of n)if(r.path===""&&Lr(r)!==pe){let i=new je([],{});t[Lr(r)]=i}return t}function h6(n,e,t){return t.some(r=>$g(n,e,r)&&Lr(r)!==pe)}function f6(n,e,t){return t.some(r=>$g(n,e,r))}function $g(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function p6(n,e,t){return e.length===0&&!n.children[t]}var JI=class{};async function m6(n,e,t,r,i,s,o="emptyOnly",a){return new XI(n,e,t,r,i,o,s,a).recognize()}var g6=31,XI=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new QI(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}async recognize(){let e=$P(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Yn(r,t),s=new Ih("",i),o=rM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let t=new ja([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,pe,t),rootSnapshot:t}}catch(r){if(r instanceof bh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rs?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,s);let o=await this.processSegment(e,t,r,r.segments,i,!0,s);return o instanceof Yn?[o]:[]}async processChildren(e,t,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let d=r.children[c],f=c6(t,c),m=await this.processSegmentGroup(e,f,d,c,i);o.push(...m)}let a=wM(o);return y6(a),a}async processSegment(e,t,r,i,s,o,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a)}catch(d){if(d instanceof rs||gM(d))continue;throw d}if(p6(r,i,s))return new JI;throw new rs(r)}async processSegmentAgainstRoute(e,t,r,i,s,o,a,c){if(Lr(r)!==o&&(o===pe||!$g(i,s,r)))throw new rs(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c);throw new rs(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:d,consumedSegments:f,positionalParamSegments:m,remainingSegments:w}=EM(t,i,s);if(!c)throw new rs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>g6&&(this.allowRedirects=!1));let A=new ja(s,d,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,HP(i),Lr(i),i.component??i._loadedComponent??null,i,qP(i),e),R=Vg(A,a,this.paramsInheritanceStrategy);if(A.params=Object.freeze(R.params),A.data=Object.freeze(R.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let M=await this.applyRedirects.applyRedirectCommands(f,i.redirectTo,m,A,e),x=await this.applyRedirects.lineralizeSegments(i,M);return this.processSegment(e,r,t,x.concat(w),o,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Ig(u6(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new rs(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:w}=a,A=new ja(m,f,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,HP(r),Lr(r),r.component??r._loadedComponent??null,r,qP(r),e),R=Vg(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(R.params),A.data=Object.freeze(R.data);let{segmentGroup:M,slicedSegments:x}=$P(t,m,w,c);if(x.length===0&&M.hasChildren()){let K=await this.processChildren(d,c,M,A);return new Yn(A,K)}if(c.length===0&&x.length===0)return new Yn(A,[]);let j=Lr(r)===s,W=await this.processSegment(d,c,M,x,j?pe:s,!0,A);return new Yn(A,W instanceof Yn?[W]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let s=t._loadedNgModuleFactory;return s&&!t._loadedInjector&&(t._loadedInjector=s.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Ig(n6(e,t,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=s.routes,t._loadedInjector=s.injector,t._loadedNgModuleFactory=s.factory,s}throw s6(t)}return{routes:[],injector:e}}};function y6(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function _6(n){let e=n.value.routeConfig;return e&&e.path===""}function wM(n){let e=[],t=new Set;for(let r of n){if(!_6(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=wM(r.children);e.push(new Yn(r.value,i))}return e.filter(r=>!t.has(r))}function HP(n){return n.data||{}}function qP(n){return n.resolve||{}}function v6(n,e,t,r,i,s,o){return Tn(async a=>{let{state:c,tree:d}=await m6(n,e,t,r,a.extractedUrl,i,s,o);return oe(F({},a),{targetSnapshot:c,urlAfterRedirects:d})})}function E6(n){return Tn(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return Ae(e);let i=new Set(r.map(a=>a.route)),s=new Set;for(let a of i)if(!s.has(a))for(let c of IM(a))s.add(c);let o=0;return St(s).pipe(Gp(a=>i.has(a)?w6(a,t,n):(a.data=Vg(a,a.parent,n).resolve,Ae(void 0))),ri(()=>o++),Wp(1),Tn(a=>o===s.size?Ae(e):en))})}function IM(n){let e=n.children.map(t=>IM(t)).flat();return[n,...e]}function w6(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!dM(r)&&(i[Ch]=r.title),fd(()=>(n.data=Vg(n,n.parent,t).resolve,I6(i,n,e).pipe(Le(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function I6(n,e,t){let r=jI(n);if(r.length===0)return Ae({});let i={};return St(r).pipe(Tn(s=>T6(n[s],e,t).pipe(Wi(),ri(o=>{if(o instanceof ku)throw Lg(new Co,o);i[s]=o}))),Wp(1),Le(()=>i),pd(s=>gM(s)?en:Jv(s)))}function T6(n,e,t){let r=e._environmentInjector,i=Vu(n,r),s=i.resolve?i.resolve(e,t):At(r,()=>i(e,t));return qa(s)}function zP(n){return Nn(e=>{let t=n(e);return t?St(t).pipe(Le(()=>e)):Ae(e)})}var nT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[Ch]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(TM),providedIn:"root"})}return n})(),TM=(()=>{class n extends nT{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ae(FP))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lu=new Q("",{factory:()=>({})}),Rh=new Q(""),bM=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(fI);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await KP(At(t,()=>r.loadComponent())),o=await SM(DM(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await CM(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,r._loadedNgModuleFactory=s.factory,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function CM(n,e,t,r){let i=await KP(At(t,()=>n.loadChildren())),s=await SM(DM(i)),o;s instanceof Ym||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(n);let a,c,d=!1,f;return Array.isArray(o)?(c=o,d=!0):(a=o.create(t).injector,f=o,c=a.get(Rh,[],{optional:!0,self:!0}).flat()),{routes:c.map(tT),injector:a,factory:f}}function b6(n){return n&&typeof n=="object"&&"default"in n}function DM(n){return b6(n)?n.default:n}async function SM(n){return n}var Hg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(C6),providedIn:"root"})}return n})(),C6=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AM=new Q("");var D6=()=>{},RM=new Q(""),NM=(()=>{class n{currentNavigation=ot(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ot(null);events=new mt;transitionAbortWithErrorSubject=new mt;configLoader=V(bM);environmentInjector=V(yt);destroyRef=V(ci);urlSerializer=V(Dh);rootContexts=V(Fu);location=V(Su);inputBindingEnabled=V(Bg,{optional:!0})!==null;titleStrategy=V(nT);options=V(Lu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(Hg);createViewTransition=V(AM,{optional:!0});navigationErrorHandler=V(RM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ae(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Rg(i)),r=i=>this.events.next(new Ng(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Nt(()=>{this.transitions?.next(oe(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Ct(null),this.transitions.pipe(mn(r=>r!==null),Nn(r=>{let i=!1,s=new AbortController,o=()=>!i&&this.currentTransition?.id===r.id;return Ae(r).pipe(Nn(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",En.SupersededByNewNavigation),en;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?oe(F({},c),{previousNavigation:null}):null,abort:()=>s.abort()});let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&f!=="reload")return this.events.next(new is(a.id,this.urlSerializer.serialize(a.rawUrl),"",Eh.IgnoredSameUrlNavigation)),a.resolve(!1),en;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Ae(a).pipe(Nn(m=>(this.events.next(new $a(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),m.id!==this.navigationId?en:Promise.resolve(m))),v6(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),ri(m=>{r.targetSnapshot=m.targetSnapshot,r.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation.update(A=>(A.finalUrl=m.urlAfterRedirects,A));let w=new Pu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:m,extractedUrl:w,source:A,restoredState:R,extras:M}=a,x=new $a(m,this.urlSerializer.serialize(w),A,R);this.events.next(x);let j=uM(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=oe(F({},a),{targetSnapshot:j,urlAfterRedirects:w,extras:oe(F({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(W=>(W.finalUrl=w,W)),Ae(r)}else return this.events.next(new is(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Eh.IgnoredByUrlHandlingStrategy)),a.resolve(!1),en}),Le(a=>{let c=new Cg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=oe(F({},a),{guards:V3(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),K3(a=>this.events.next(a)),Nn(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Lg(this.urlSerializer,a.guardsResult);let c=new Dg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!o())return en;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",En.GuardRejected),en;if(a.guards.canActivateChecks.length===0)return Ae(a);let d=new Sg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(d),!o())return en;let f=!1;return Ae(a).pipe(E6(this.paramsInheritanceStrategy),ri({next:()=>{f=!0;let m=new Ag(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(m)},complete:()=>{f||this.cancelNavigationTransition(a,"",En.NoDataFromResolver)}}))}),zP(a=>{let c=f=>{let m=[];if(f.routeConfig?._loadedComponent)f.component=f.routeConfig?._loadedComponent;else if(f.routeConfig?.loadComponent){let w=f._environmentInjector;m.push(this.configLoader.loadComponent(w,f.routeConfig).then(A=>{f.component=A}))}for(let w of f.children)m.push(...c(w));return m},d=c(a.targetSnapshot.root);return d.length===0?Ae(a):St(Promise.all(d).then(()=>a))}),zP(()=>this.afterPreactivation()),Nn(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,d=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return d?St(d).pipe(Le(()=>r)):Ae(r)}),tn(1),Le(a=>{let c=x3(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=oe(F({},a),{targetRouterState:c}),this.currentNavigation.update(d=>(d.targetRouterState=c,d)),this.events.next(new Mu),o()&&(new KI(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,d=>this.events.next(d),this.inputBindingEnabled).activate(this.rootContexts),o()&&(i=!0,this.currentNavigation.update(d=>(d.abort=D6,d)),this.lastSuccessfulNavigation.set(Nt(this.currentNavigation)),this.events.next(new yi(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),md(yM(s.signal).pipe(mn(()=>!i&&!r.targetRouterState),ri(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",En.Aborted)}))),ri({complete:()=>{i=!0}}),md(this.transitionAbortWithErrorSubject.pipe(ri(a=>{throw a}))),eE(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",En.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),pd(a=>{if(i=!0,this.destroyed)return r.resolve(!1),en;if(mM(a))this.events.next(new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),F3(a)?this.events.next(new xu(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Ha(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let d=At(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof ku){let{message:f,cancellationCode:m}=Lg(this.urlSerializer,d);this.events.next(new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),f,m)),this.events.next(new xu(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return en}))}))}cancelNavigationTransition(t,r,i){let s=new pr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Nt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S6(n){return n!==yh}var PM=new Q("");var MM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(A6),providedIn:"root"})}return n})(),jg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},A6=(()=>{class n extends jg{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ka(n)))(i||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rT=(()=>{class n{urlSerializer=V(Dh);options=V(Lu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=V(Su);urlHandlingStrategy=V(Hg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ur;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof Ur?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=uM(null,V(yt));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:()=>V(R6),providedIn:"root"})}return n})(),R6=(()=>{class n extends rT{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof $a?this.updateStateMemento():t instanceof is?this.commitTransition(r):t instanceof Pu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Mu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof pr&&!cM(t)?this.restoreHistory(r):t instanceof Ha?this.restoreHistory(r,!0):t instanceof yi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=F(F({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=F(F({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ka(n)))(i||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iT(n,e){n.events.pipe(mn(t=>t instanceof yi||t instanceof pr||t instanceof Ha||t instanceof is),Le(t=>t instanceof yi||t instanceof is?0:(t instanceof pr?t.code===En.Redirect||t.code===En.SupersededByNewNavigation:!1)?2:1),mn(t=>t!==2),tn(1)).subscribe(()=>{e()})}var xM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nh=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(cI);stateManager=V(rT);options=V(Lu,{optional:!0})||{};pendingTasks=V(Ji);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(NM);urlSerializer=V(Dh);location=V(Su);urlHandlingStrategy=V(Hg);injector=V(yt);_events=new mt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(MM);injectorCleanup=V(PM,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(Rh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(Bg,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new Bt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=Nt(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof pr&&r.code!==En.Redirect&&r.code!==En.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yi)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof xu){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=F({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||S6(i.source)},o);this.scheduleNavigation(a,yh,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}P3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=F({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(Wn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Nt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:o,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let w=i?i.snapshot:this.routerState.snapshot.root;m=iM(w)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return sM(m,t,f,d??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Do(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,yh,null,r)}navigate(t,r={skipLocationChange:!1}){return N6(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(oo(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},xM):r===!1?i=F({},kM):i=r,Do(t))return VP(this.currentUrlTree,t,i);let s=this.parseUrl(t);return VP(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,d;o?(a=o.resolve,c=o.reject,d=o.promise):d=new Promise((m,w)=>{a=m,c=w});let f=this.pendingTasks.add();return iT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function N6(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var Uu=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ot(null);get href(){return Nt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new mt;applicationErrorHandler=V(Wn);options=V(Lu,{optional:!0});constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(V(new tg("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(t=>{t instanceof yi&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Do(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Do(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ve(Nh),ve(ss),jd("tabindex"),ve(_o),ve(di),ve(Du))};static \u0275dir=Ht({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&be("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Gd("href",i.reactiveHref(),zw)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",eh],skipLocationChange:[2,"skipLocationChange","skipLocationChange",eh],replaceUrl:[2,"replaceUrl","replaceUrl",eh],routerLink:"routerLink"},features:[Zi]})}return n})();var x6=new Q("");function sT(n,...e){return sn([{provide:Rh,multi:!0,useValue:n},[],{provide:ss,useFactory:k6},{provide:Xm,multi:!0,useFactory:O6},e.map(t=>t.\u0275providers)])}function k6(){return V(Nh).routerState.root}function O6(){let n=V(lt);return e=>{let t=n.get(fi);if(e!==t.components[0])return;let r=n.get(Nh),i=n.get(F6);n.get(V6)===1&&r.initialNavigation(),n.get(L6,null,{optional:!0})?.setUpPreloading(),n.get(x6,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var F6=new Q("",{factory:()=>new mt}),V6=new Q("",{factory:()=>1});var L6=new Q("");var de=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(de||{}),mr="*";function oT(n,e){return{type:de.Trigger,name:n,definitions:e,options:{}}}function aT(n,e=null){return{type:de.Animate,styles:e,timings:n}}function OM(n,e=null){return{type:de.Sequence,steps:n,options:e}}function Ga(n){return{type:de.Style,styles:n,offset:null}}function cT(n,e,t=null){return{type:de.Transition,expr:n,animation:e,options:t}}function uT(n,e,t=null){return{type:de.Query,selector:n,animation:e,options:t}}function lT(n,e){return{type:de.Stagger,timings:n,animation:e}}var _i=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},za=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ju="!";function FM(n){return new L(3e3,!1)}function U6(){return new L(3100,!1)}function j6(){return new L(3101,!1)}function B6(n){return new L(3001,!1)}function $6(n){return new L(3003,!1)}function H6(n){return new L(3004,!1)}function LM(n,e){return new L(3005,!1)}function UM(){return new L(3006,!1)}function jM(){return new L(3007,!1)}function BM(n,e){return new L(3008,!1)}function $M(n){return new L(3002,!1)}function HM(n,e,t,r,i){return new L(3010,!1)}function qM(){return new L(3011,!1)}function zM(){return new L(3012,!1)}function GM(){return new L(3200,!1)}function WM(){return new L(3202,!1)}function KM(){return new L(3013,!1)}function QM(n){return new L(3014,!1)}function YM(n){return new L(3015,!1)}function JM(n){return new L(3016,!1)}function XM(n,e){return new L(3404,!1)}function q6(n){return new L(3502,!1)}function ZM(n){return new L(3503,!1)}function ex(){return new L(3300,!1)}function tx(n){return new L(3504,!1)}function nx(n){return new L(3301,!1)}function rx(n,e){return new L(3302,!1)}function ix(n){return new L(3303,!1)}function sx(n,e){return new L(3400,!1)}function ox(n){return new L(3401,!1)}function ax(n){return new L(3402,!1)}function cx(n,e){return new L(3505,!1)}function os(n){switch(n.length){case 0:return new _i;case 1:return n[0];default:return new za(n)}}function pT(n,e,t=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let d=c.get("offset"),f=d==o,m=f&&a||new Map;c.forEach((w,A)=>{let R=A,M=w;if(A!=="offset")switch(R=n.normalizePropertyName(R,i),M){case ju:M=t.get(A);break;case mr:M=r.get(A);break;default:M=n.normalizeStyleValue(A,R,M,i);break}m.set(R,M)}),f||s.push(m),a=m,o=d}),i.length)throw q6(i);return s}function qg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dT(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dT(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dT(t,"destroy",n)));break}}function dT(n,e,t){let r=t.totalTime,i=!!t.disabled,s=zg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),o=n._data;return o!=null&&(s._data=o),s}function zg(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function kn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function mT(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var z6=typeof document>"u"?null:document.documentElement;function Gg(n){let e=n.parentNode||n.host||null;return e===z6?null:e}function G6(n){return n.substring(1,6)=="ebkit"}var Wa=null,VM=!1;function ux(n){Wa||(Wa=W6()||{},VM=Wa.style?"WebkitAppearance"in Wa.style:!1);let e=!0;return Wa.style&&!G6(n)&&(e=n in Wa.style,!e&&VM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Wa.style)),e}function W6(){return typeof document<"u"?document.body:null}function gT(n,e){for(;e;){if(e===n)return!0;e=Gg(e)}return!1}function yT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var K6=1e3,_T="{{",Q6="}}",vT="ng-enter",Wg="ng-leave",Ph="ng-trigger",Mh=".ng-trigger",ET="ng-animating",Kg=".ng-animating";function vi(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hT(parseFloat(e[1]),e[2])}function hT(n,e){return e==="s"?n*K6:n}function xh(n,e,t){return n.hasOwnProperty("duration")?n:J6(n,e,t)}var Y6=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function J6(n,e,t){let r,i=0,s="";if(typeof n=="string"){let o=n.match(Y6);if(o===null)return e.push(FM(n)),{duration:0,delay:0,easing:""};r=hT(parseFloat(o[1]),o[2]);let a=o[3];a!=null&&(i=hT(parseFloat(a),o[4]));let c=o[5];c&&(s=c)}else r=n;if(!t){let o=!1,a=e.length;r<0&&(e.push(U6()),o=!0),i<0&&(e.push(j6()),o=!0),o&&e.splice(a,0,FM(n))}return{duration:r,delay:i,easing:s}}function lx(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function jr(n,e,t){e.forEach((r,i)=>{let s=Qg(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function So(n,e){e.forEach((t,r)=>{let i=Qg(r);n.style[i]=""})}function Bu(n){return Array.isArray(n)?n.length==1?n[0]:OM(n):n}function dx(n,e,t){let r=e.params||{},i=wT(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(B6(s))})}var fT=new RegExp(`${_T}\\s*(.+?)\\s*${Q6}`,"g");function wT(n){let e=[];if(typeof n=="string"){let t;for(;t=fT.exec(n);)e.push(t[1]);fT.lastIndex=0}return e}function $u(n,e,t){let r=`${n}`,i=r.replace(fT,(s,o)=>{let a=e[o];return a==null&&(t.push($6(o)),a=""),a.toString()});return i==r?n:i}var X6=/-+([a-z0-9])/g;function Qg(n){return n.replace(X6,(...e)=>e[1].toUpperCase())}function hx(n,e){return n===0||e===0}function fx(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Yg(n,a)))}}return e}function On(n,e,t){switch(e.type){case de.Trigger:return n.visitTrigger(e,t);case de.State:return n.visitState(e,t);case de.Transition:return n.visitTransition(e,t);case de.Sequence:return n.visitSequence(e,t);case de.Group:return n.visitGroup(e,t);case de.Animate:return n.visitAnimate(e,t);case de.Keyframes:return n.visitKeyframes(e,t);case de.Style:return n.visitStyle(e,t);case de.Reference:return n.visitReference(e,t);case de.AnimateChild:return n.visitAnimateChild(e,t);case de.AnimateRef:return n.visitAnimateRef(e,t);case de.Query:return n.visitQuery(e,t);case de.Stagger:return n.visitStagger(e,t);default:throw H6(e.type)}}function Yg(n,e){return window.getComputedStyle(n)[e]}var LT=(()=>{class n{validateStyleProperty(t){return ux(t)}containsElement(t,r){return gT(t,r)}getParentElement(t){return Gg(t)}query(t,r,i){return yT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new _i(i,s)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),Qa=class{static NOOP=new LT},Ya=class{};var Z6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ty=class extends Ya{normalizePropertyName(e,t){return Qg(e)}normalizeStyleValue(e,t,r,i){let s="",o=r.toString().trim();if(Z6.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(LM(e,r))}return o+s}};var ny="*";function eH(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>tH(r,t,e)):t.push(n),t}function tH(n,e,t){if(n[0]==":"){let c=nH(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(YM(n)),e;let i=r[1],s=r[2],o=r[3];e.push(px(i,o));let a=i==ny&&o==ny;s[0]=="<"&&!a&&e.push(px(o,i))}function nH(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(JM(n)),"* => *"}}var Jg=new Set(["true","1"]),Xg=new Set(["false","0"]);function px(n,e){let t=Jg.has(n)||Xg.has(n),r=Jg.has(e)||Xg.has(e);return(i,s)=>{let o=n==ny||n==i,a=e==ny||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?Jg.has(n):Xg.has(n)),!a&&r&&typeof s=="boolean"&&(a=s?Jg.has(e):Xg.has(e)),o&&a}}var bx=":self",rH=new RegExp(`s*${bx}s*,?`,"g");function Cx(n,e,t,r){return new ST(n).build(e,t,r)}var mx="",ST=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new AT(t);return this._resetContextStyleTimingState(i),On(this,Bu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=mx,e.collectedStyles=new Map,e.collectedStyles.set(mx,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(UM()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==de.State){let c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,s.push(this.visitState(c,t))}),c.name=d}else if(a.type==de.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(jM())}),{type:de.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{wT(c).forEach(d=>{o.hasOwnProperty(d)||s.add(d)})})}),s.size&&t.errors.push(BM(e.name,[...s.values()]))}return{type:de.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=On(this,Bu(e.animation),t),i=eH(e.expr,t.errors);return{type:de.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ka(e.options)}}visitSequence(e,t){return{type:de.Sequence,steps:e.steps.map(r=>On(this,r,t)),options:Ka(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=r;let a=On(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:de.Group,steps:s,options:Ka(e.options)}}visitAnimate(e,t){let r=aH(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ga({});if(s.type==de.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let d={};r.easing&&(d.easing=r.easing),o=Ga(d)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:de.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===mr?r.push(a):t.errors.push($M(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(_T)>=0){s=!0;break}}}),{type:de.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let d=t.collectedStyles.get(t.currentQuerySelector),f=d.get(c),m=!0;f&&(s!=i&&s>=f.startTime&&i<=f.endTime&&(t.errors.push(HM(c,f.startTime,f.endTime,s,i)),m=!1),s=f.startTime),m&&d.set(c,{startTime:s,endTime:i}),t.options&&dx(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:de.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(qM()),r;let i=1,s=0,o=[],a=!1,c=!1,d=0,f=e.steps.map(j=>{let W=this._makeStyleAst(j,t),K=W.offset!=null?W.offset:oH(W.styles),re=0;return K!=null&&(s++,re=W.offset=K),c=c||re<0||re>1,a=a||re<d,d=re,o.push(re),W});c&&t.errors.push(zM()),a&&t.errors.push(GM());let m=e.steps.length,w=0;s>0&&s<m?t.errors.push(WM()):s==0&&(w=i/(m-1));let A=m-1,R=t.currentTime,M=t.currentAnimateTimings,x=M.duration;return f.forEach((j,W)=>{let K=w>0?W==A?1:w*W:o[W],re=K*x;t.currentTime=R+M.delay+re,M.duration=re,this._validateStyleAst(j,t),j.offset=K,r.styles.push(j)}),r}visitReference(e,t){return{type:de.Reference,animation:On(this,Bu(e.animation),t),options:Ka(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:de.AnimateChild,options:Ka(e.options)}}visitAnimateRef(e,t){return{type:de.AnimateRef,animation:this.visitReference(e.animation,t),options:Ka(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=iH(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,kn(t.collectedStyles,t.currentQuerySelector,new Map);let a=On(this,Bu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:de.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ka(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(KM());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:xh(e.timings,t.errors,!0);return{type:de.Stagger,animation:On(this,Bu(e.animation),t),timings:r,options:null}}};function iH(n){let e=!!n.split(/\s*,\s*/).find(t=>t==bx);return e&&(n=n.replace(rH,"")),n=n.replace(/@\*/g,Mh).replace(/@\w+/g,t=>Mh+"-"+t.slice(1)).replace(/:animating/g,Kg),[n,e]}function sH(n){return n?F({},n):null}var AT=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function oH(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function aH(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=xh(n,e).duration;return IT(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=IT(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=xh(t,e);return IT(i.duration,i.delay,i.easing)}function Ka(n){return n?(n=F({},n),n.params&&(n.params=sH(n.params))):n={},n}function IT(n,e,t){return{duration:n,delay:e,easing:t}}function UT(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Oh=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},cH=1,uH=":enter",lH=new RegExp(uH,"g"),dH=":leave",hH=new RegExp(dH,"g");function Dx(n,e,t,r,i,s=new Map,o=new Map,a,c,d=[]){return new RT().buildKeyframes(n,e,t,r,i,s,o,a,c,d)}var RT=class{buildKeyframes(e,t,r,i,s,o,a,c,d,f=[]){d=d||new Oh;let m=new NT(e,t,d,i,s,f,[]);m.options=c;let w=c.delay?vi(c.delay):0;m.currentTimeline.delayNextStep(w),m.currentTimeline.setStyles([o],null,m.errors,c),On(this,r,m);let A=m.timelines.filter(R=>R.containsAnimation());if(A.length&&a.size){let R;for(let M=A.length-1;M>=0;M--){let x=A[M];if(x.element===t){R=x;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([a],null,m.errors,c)}return A.length?A.map(R=>R.buildKeyframes()):[UT(t,[],[],[],0,w,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:vi($u(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,o=r.duration!=null?vi(r.duration):null,a=r.delay!=null?vi(r.delay):null;return o!==0&&e.forEach(c=>{let d=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),On(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==de.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ry);let o=vi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>On(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?vi(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),On(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?$u(r,t.params,t.errors):r;return xh(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==de.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let d=c.offset||0;a.forwardTime(d*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?vi(i.delay):0;s&&(t.previousNode.type===de.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ry);let o=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,f)=>{t.currentQueryIndex=f;let m=t.createSubContext(e.options,d);s&&m.delayNextStep(s),d===t.element&&(c=m.currentTimeline),On(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe();let w=m.currentTimeline.currentTime;o=Math.max(o,w)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let f=t.currentTimeline;c&&f.delayNextStep(c);let m=f.currentTime;On(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}},ry={},NT=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ry;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=c||new iy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=vi(r.duration)),r.delay!=null&&(i.delay=vi(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=$u(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ry,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new PT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(lH,"."+this._enterClassName),e=e.replace(hH,"."+this._leaveClassName);let c=r!=1,d=this._driver.query(this.element,e,c);r!==0&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!s&&a.length==0&&o.push(QM(t)),a}},iy=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=cH,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||mr),this._currentKeyframe.set(t,mr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=fH(e,this._globalTimelineStyles);for(let[a,c]of o){let d=$u(c,s,r);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??mr),this._updateStyle(a,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let d=new Map([...this._backFill,...a]);d.forEach((f,m)=>{f===ju?e.add(m):f===mr&&t.add(m)}),r||d.set("offset",c/this.duration),i.push(d)});let s=[...e.values()],o=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return UT(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},PT=class extends iy{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=r+t,a=t/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let d=new Map(e[0]);d.set("offset",gx(a)),s.push(d);let f=e.length-1;for(let m=1;m<=f;m++){let w=new Map(e[m]),A=w.get("offset"),R=t+A*r;w.set("offset",gx(R/o)),s.push(w)}r=o,t=0,i="",e=s}return UT(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function gx(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function fH(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,mr)}else for(let[s,o]of i)t.set(s,o)}),t}function yx(n,e,t,r,i,s,o,a,c,d,f,m,w){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:f,totalTime:m,errors:w}}var TT={},sy=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return pH(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,d,f){let m=[],w=this.ast.options&&this.ast.options.params||TT,A=a&&a.params||TT,R=this.buildStyles(r,A,m),M=c&&c.params||TT,x=this.buildStyles(i,M,m),j=new Set,W=new Map,K=new Map,re=i==="void",Fe={params:Sx(M,w),delay:this.ast.options?.delay},ce=f?[]:Dx(e,t,this.ast.animation,s,o,R,x,Fe,d,m),I=0;return ce.forEach(y=>{I=Math.max(y.duration+y.delay,I)}),m.length?yx(t,this._triggerName,r,i,re,R,x,[],[],W,K,I,m):(ce.forEach(y=>{let E=y.element,T=kn(W,E,new Set);y.preStyleProps.forEach(S=>T.add(S));let b=kn(K,E,new Set);y.postStyleProps.forEach(S=>b.add(S)),E!==t&&j.add(E)}),yx(t,this._triggerName,r,i,re,R,x,ce,[...j.values()],W,K,I))}};function pH(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function Sx(n,e){let t=F({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var MT=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=Sx(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=$u(o,i,t));let c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}};function mH(n,e,t){return new xT(n,e,t)}var xT=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new MT(i.style,s,r))}),_x(this.states,"true","1"),_x(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new sy(e,i,this.states))}),this.fallbackTransition=gH(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function gH(n,e,t){let r=[(o,a)=>!0],i={type:de.Sequence,steps:[],options:null},s={type:de.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new sy(n,s,e)}function _x(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var yH=new Oh,kT=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],s=Cx(this._driver,t,r,i);if(r.length)throw ZM(r);this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=pT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=Dx(this._driver,t,s,vT,Wg,new Map,new Map,r,yH,i),o.forEach(f=>{let m=kn(a,f.element,new Map);f.postStyleProps.forEach(w=>m.set(w,null))})):(i.push(ex()),o=[]),i.length)throw tx(i);a.forEach((f,m)=>{f.forEach((w,A)=>{f.set(A,this._driver.computeStyle(m,A,mr))})});let c=o.map(f=>{let m=a.get(f.element);return this._buildPlayer(f,new Map,m)}),d=os(c);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw nx(e);return t}listen(e,t,r,i){let s=zg(t,"","","");return qg(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},vx="ng-animate-queued",_H=".ng-animate-queued",bT="ng-animate-disabled",vH=".ng-animate-disabled",EH="ng-star-inserted",wH=".ng-star-inserted",IH=[],Ax={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},TH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Br="__ng_removed",Fh=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=CH(i),r){let s=e,{value:o}=s,a=gp(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},kh="void",CT=new Fh(kh),OT=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,gr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw rx(r,t);if(r==null||r.length==0)throw ix(t);if(!DH(r))throw sx(r,t);let s=kn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);let a=kn(this._engine.statesByElement,e,new Map);return a.has(t)||(gr(e,Ph),gr(e,Ph+"-"+t),a.set(t,CT)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw ox(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),o=new Vh(this.id,t,e),a=this._engine.statesByElement.get(e);a||(gr(e,Ph),gr(e,Ph+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),d=new Fh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=CT),!(d.value===kh)&&c.value===d.value){if(!RH(c.params,d.params)){let M=[],x=s.matchStyles(c.value,c.params,M),j=s.matchStyles(d.value,d.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{So(e,x),jr(e,j)})}return}let w=kn(this._engine.playersByElement,e,[]);w.forEach(M=>{M.namespaceId==this.id&&M.triggerName==t&&M.queued&&M.destroy()});let A=s.matchTransition(c.value,d.value,e,d.params),R=!1;if(!A){if(!i)return;A=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:A,fromState:c,toState:d,player:o,isFallbackTransition:R}),R||(gr(e,vx),o.onStart(()=>{Hu(e,vx)})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);let x=this._engine.playersByElement.get(e);if(x){let j=x.indexOf(o);j>=0&&x.splice(j,1)}}),this.players.push(o),w.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Mh,!0);r.forEach(i=>{if(i[Br])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,d)=>{if(o.set(d,c.value),this._triggers.has(d)){let f=this.trigger(e,d,kh,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&os(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,d=r.get(o)||CT,f=new Fh(kh),m=new Vh(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:d,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Br];(!s||s===Ax)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){gr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=zg(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,qg(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},FT=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new OT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let d=r.indexOf(c);r.splice(d+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(Zg(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Zg(t))return;let s=t[Br];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),gr(e,bT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hu(e,bT))}removeNode(e,t,r){if(Zg(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Br]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Zg(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Mh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Kg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return os(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Br];if(t&&t.setForRemoval){if(e[Br]=Ax,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(bT)&&this.markElementAsDisabled(e,!1),this.driver.query(e,vH,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];gr(i,EH)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?os(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw ax(e)}_flushAnimations(e,t){let r=new Oh,i=[],s=new Map,o=[],a=new Map,c=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(X=>{f.add(X);let te=this.driver.query(X,_H,!0);for(let ne=0;ne<te.length;ne++)f.add(te[ne])});let m=this.bodyNode,w=Array.from(this.statesByElement.keys()),A=Ix(w,this.collectedEnterElements),R=new Map,M=0;A.forEach((X,te)=>{let ne=vT+M++;R.set(te,ne),X.forEach(we=>gr(we,ne))});let x=[],j=new Set,W=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){let te=this.collectedLeaveElements[X],ne=te[Br];ne&&ne.setForRemoval&&(x.push(te),j.add(te),ne.hasAnimation?this.driver.query(te,wH,!0).forEach(we=>j.add(we)):W.add(te))}let K=new Map,re=Ix(w,Array.from(j));re.forEach((X,te)=>{let ne=Wg+M++;K.set(te,ne),X.forEach(we=>gr(we,ne))}),e.push(()=>{A.forEach((X,te)=>{let ne=R.get(te);X.forEach(we=>Hu(we,ne))}),re.forEach((X,te)=>{let ne=K.get(te);X.forEach(we=>Hu(we,ne))}),x.forEach(X=>{this.processLeaveNode(X)})});let Fe=[],ce=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(t).forEach(ne=>{let we=ne.player,pt=ne.element;if(Fe.push(we),this.collectedEnterElements.length){let st=pt[Br];if(st&&st.setForMove){if(st.previousTriggersValues&&st.previousTriggersValues.has(ne.triggerName)){let jn=st.previousTriggersValues.get(ne.triggerName),Xt=this.statesByElement.get(ne.element);if(Xt&&Xt.has(ne.triggerName)){let er=Xt.get(ne.triggerName);er.value=jn,Xt.set(ne.triggerName,er)}}we.destroy();return}}let In=!m||!this.driver.containsElement(m,pt),ct=K.get(pt),Qe=R.get(pt),$e=this._buildInstruction(ne,r,Qe,ct,In);if($e.errors&&$e.errors.length){ce.push($e);return}if(In){we.onStart(()=>So(pt,$e.fromStyles)),we.onDestroy(()=>jr(pt,$e.toStyles)),i.push(we);return}if(ne.isFallbackTransition){we.onStart(()=>So(pt,$e.fromStyles)),we.onDestroy(()=>jr(pt,$e.toStyles)),i.push(we);return}let Zn=[];$e.timelines.forEach(st=>{st.stretchStartingKeyframe=!0,this.disabledNodes.has(st.element)||Zn.push(st)}),$e.timelines=Zn,r.append(pt,$e.timelines);let Go={instruction:$e,player:we,element:pt};o.push(Go),$e.queriedElements.forEach(st=>kn(a,st,[]).push(we)),$e.preStyleProps.forEach((st,jn)=>{if(st.size){let Xt=c.get(jn);Xt||c.set(jn,Xt=new Set),st.forEach((er,Yr)=>Xt.add(Yr))}}),$e.postStyleProps.forEach((st,jn)=>{let Xt=d.get(jn);Xt||d.set(jn,Xt=new Set),st.forEach((er,Yr)=>Xt.add(Yr))})});if(ce.length){let X=[];ce.forEach(te=>{X.push(cx(te.triggerName,te.errors))}),Fe.forEach(te=>te.destroy()),this.reportError(X)}let I=new Map,y=new Map;o.forEach(X=>{let te=X.element;r.has(te)&&(y.set(te,te),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,I))}),i.forEach(X=>{let te=X.element;this._getPreviousPlayers(te,!1,X.namespaceId,X.triggerName,null).forEach(we=>{kn(I,te,[]).push(we),we.destroy()})});let E=x.filter(X=>Tx(X,c,d)),T=new Map;wx(T,this.driver,W,d,mr).forEach(X=>{Tx(X,c,d)&&E.push(X)});let S=new Map;A.forEach((X,te)=>{wx(S,this.driver,new Set(X),c,ju)}),E.forEach(X=>{let te=T.get(X),ne=S.get(X);T.set(X,new Map([...te?.entries()??[],...ne?.entries()??[]]))});let v=[],et=[],Jt={};o.forEach(X=>{let{element:te,player:ne,instruction:we}=X;if(r.has(te)){if(f.has(te)){ne.onDestroy(()=>jr(te,we.toStyles)),ne.disabled=!0,ne.overrideTotalTime(we.totalTime),i.push(ne);return}let pt=Jt;if(y.size>1){let ct=te,Qe=[];for(;ct=ct.parentNode;){let $e=y.get(ct);if($e){pt=$e;break}Qe.push(ct)}Qe.forEach($e=>y.set($e,pt))}let In=this._buildAnimation(ne.namespaceId,we,I,s,S,T);if(ne.setRealPlayer(In),pt===Jt)v.push(ne);else{let ct=this.playersByElement.get(pt);ct&&ct.length&&(ne.parentPlayer=os(ct)),i.push(ne)}}else So(te,we.fromStyles),ne.onDestroy(()=>jr(te,we.toStyles)),et.push(ne),f.has(te)&&i.push(ne)}),et.forEach(X=>{let te=s.get(X.element);if(te&&te.length){let ne=os(te);X.setRealPlayer(ne)}}),i.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<x.length;X++){let te=x[X],ne=te[Br];if(Hu(te,Wg),ne&&ne.hasAnimation)continue;let we=[];if(a.size){let In=a.get(te);In&&In.length&&we.push(...In);let ct=this.driver.query(te,Kg,!0);for(let Qe=0;Qe<ct.length;Qe++){let $e=a.get(ct[Qe]);$e&&$e.length&&we.push(...$e)}}let pt=we.filter(In=>!In.destroyed);pt.length?SH(this,te,pt):this.processLeaveNode(te)}return x.length=0,v.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();let te=this.players.indexOf(X);this.players.splice(te,1)}),X.play()}),v}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==kh;a.forEach(d=>{d.queued||!c&&d.triggerName!=i||o.push(d)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let d=c.element,f=d!==s,m=kn(r,d,[]);this._getPreviousPlayers(d,f,o,a,t.toState).forEach(A=>{let R=A.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),A.destroy(),m.push(A)})}So(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){let a=t.triggerName,c=t.element,d=[],f=new Set,m=new Set,w=t.timelines.map(R=>{let M=R.element;f.add(M);let x=M[Br];if(x&&x.removedBeforeQueried)return new _i(R.duration,R.delay);let j=M!==c,W=AH((r.get(M)||IH).map(I=>I.getRealPlayer())).filter(I=>{let y=I;return y.element?y.element===M:!1}),K=s.get(M),re=o.get(M),Fe=pT(this._normalizer,R.keyframes,K,re),ce=this._buildPlayer(R,Fe,W);if(R.subTimeline&&i&&m.add(M),j){let I=new Vh(e,a,M);I.setRealPlayer(ce),d.push(I)}return ce});d.forEach(R=>{kn(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>bH(this.playersByQueriedElement,R.element,R))}),f.forEach(R=>gr(R,ET));let A=os(w);return A.onDestroy(()=>{f.forEach(R=>Hu(R,ET)),jr(c,t.toStyles)}),m.forEach(R=>{kn(i,R,[]).push(A)}),A}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _i(e.duration,e.delay)}},Vh=class{namespaceId;triggerName;element;_player=new _i;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>qg(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){kn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function bH(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function CH(n){return n??null}function Zg(n){return n&&n.nodeType===1}function DH(n){return n=="start"||n=="done"}function Ex(n,e){let t=n.style.display;return n.style.display=e??"none",t}function wx(n,e,t,r,i){let s=[];t.forEach(c=>s.push(Ex(c)));let o=[];r.forEach((c,d)=>{let f=new Map;c.forEach(m=>{let w=e.computeStyle(d,m,i);f.set(m,w),(!w||w.length==0)&&(d[Br]=TH,o.push(d))}),n.set(d,f)});let a=0;return t.forEach(c=>Ex(c,s[a++])),o}function Ix(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let d=a.parentNode;return t.has(d)?c=d:i.has(d)?c=r:c=o(d),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&t.get(c).push(a)}),t}function gr(n,e){n.classList?.add(e)}function Hu(n,e){n.classList?.remove(e)}function SH(n,e,t){os(t).onDone(()=>n.processLeaveNode(e))}function AH(n){let e=[];return Rx(n,e),e}function Rx(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof za?Rx(r.players,e):e.push(r)}}function RH(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function Tx(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var qu=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new FT(e.body,t,r),this._timelineEngine=new kT(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],d=[],f=Cx(this._driver,s,c,d);if(c.length)throw XM(i,c);a=mH(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,o]=mT(r),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[o,a]=mT(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function NH(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=DT(e[0]),e.length>1&&(r=DT(e[e.length-1]))):e instanceof Map&&(t=DT(e)),t||r?new PH(n,t,r):null}var PH=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&jr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jr(this._element,this._initialStyles),this._endStyles&&(jr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(So(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(So(this._element,this._endStyles),this._endStyles=null),jr(this._element,this._initialStyles),this._state=3)}}return n})();function DT(n){let e=null;return n.forEach((t,r)=>{MH(r)&&(e=e||new Map,e.set(r,t))}),e}function MH(n){return n==="display"||n==="position"}var oy=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){let i=this._convertKeyframesToObject(t);try{return e.animate(i,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Yg(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ay=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return gT(e,t)}getParentElement(e){return Gg(e)}query(e,t,r){return yT(e,t,r)}computeStyle(e,t,r){return Yg(e,t)}animate(e,t,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let d=new Map,f=o.filter(A=>A instanceof oy);hx(r,i)&&f.forEach(A=>{A.currentSnapshot.forEach((R,M)=>d.set(M,R))});let m=lx(t).map(A=>new Map(A));m=fx(e,m,d);let w=NH(e,m);return new oy(e,m,c,w)}};var ey="@",Nx="@.disabled",cy=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r,i){if(i){this.delegate.removeChild(e,t,r,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==ey&&t==Nx?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},VT=class extends cy{factory;constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==ey?t.charAt(1)=="."&&t==Nx?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==ey){let s=xH(e),o=t.slice(1),a="";return o.charAt(0)!=ey&&([o,a]=kH(o)),this.engine.listen(this.namespaceId,s,o,a,c=>{let d=c._data||-1;this.factory.scheduleListenerCallback(d,r,c)})}return this.delegate.listen(e,t,r,i)}};function xH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function kH(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var uy=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let d=this._rendererCache,f=d.get(i);if(!f){let m=()=>d.delete(i);f=new cy("",i,this.engine,m),d.set(i,f)}return f}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(s,o,e,d.name,d)};return t.data.animation.forEach(a),new VT(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var FH=(()=>{class n extends qu{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ae(wt),ae(Qa),ae(Ya))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function VH(){return new ty}function LH(){return new uy(V(hh),V(qu),V(Ge))}var Px=[{provide:Ya,useFactory:VH},{provide:qu,useClass:FH},{provide:Xi,useFactory:LH}],mfe=[{provide:Qa,useClass:LT},{provide:$m,useValue:"NoopAnimations"},...Px],UH=[{provide:Qa,useFactory:()=>new ay},{provide:$m,useFactory:()=>"BrowserAnimations"},...Px];function Mx(){return $d("NgEagerAnimations"),[...UH]}var BT=class{constructor(){}loadScript(e,t,r,i=null){if(typeof document<"u"&&!document.getElementById(e)){let s=document.createElement("script");s.async=!0,s.src=t,s.onload=r,i||(i=document.head),i.appendChild(s)}}},$T=class{constructor(){}},xx=()=>typeof window.google?.accounts<"u",BH=()=>{if(!xx())throw new Error("Google Accounts API is undefined")},jT=()=>(BH(),window.google.accounts),$H={oneTapEnabled:!0},HT=(()=>{class n extends BT{static{this.PROVIDER_ID="GOOGLE"}constructor(t,r){super(),this.clientId=t,this.initOptions=r,this.changeUser=new gt,this._socialUser=new Ct(null),this._accessToken=new Ct(null),this._receivedAccessToken=new gt,this.initOptions=F(F({},$H),this.initOptions),this._socialUser.pipe(Kp(1)).subscribe(this.changeUser),this._accessToken.pipe(Kp(1)).subscribe(this._receivedAccessToken)}initialize(t,r){return new Promise((i,s)=>{try{this.loadScript(n.PROVIDER_ID,this.getGoogleLoginScriptSrc(r||""),()=>{if(xx()){if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:o})=>{let a=this.createSocialUser(o);this._socialUser.next(a)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled,use_fedcm_for_prompt:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(mn(o=>o===null)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){let o=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(a=>a).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:o,prompt:this.initOptions.prompt,callback:a=>{a.error?this._accessToken.error({code:a.error,description:a.error_description,uri:a.error_uri}):this._accessToken.next(a.access_token)}})}i()}})}catch(o){s(o)}})}getLoginStatus(){return new Promise((t,r)=>{this._socialUser.value?t(this._socialUser.value):r(`No user is currently logged in with ${n.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,r)=>{jT().id.revoke(this._socialUser.value.id,i=>{i.error?r(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,r)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe(tn(1)).subscribe(t)):this._socialUser.value?r("No token client was instantiated, you should specify some scopes."):r("You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,r)=>{this._tokenClient?this._accessToken.value?jT().oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):r("No access token to revoke"):r("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}async signOut(){jT().id.disableAutoSelect(),this._socialUser.next(null)}createSocialUser(t){let r=new $T;r.idToken=t;let i=this.decodeJwt(t);return r.id=i.sub,r.name=i.name,r.email=i.email,r.photoUrl=i.picture,r.firstName=i.given_name,r.lastName=i.family_name,r}decodeJwt(t){let i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(i).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}getGoogleLoginScriptSrc(t){return t?`https://accounts.google.com/gsi/client?hl=${t}`:"https://accounts.google.com/gsi/client"}}return n})();var qT="Service workers are disabled or not supported by this browser",zu=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new he(r=>r.error(new L(5601,!1)));else{let r=null,i=new mt;this.worker=new he(d=>(r!==null&&d.next(r),i.subscribe(f=>d.next(f))));let s=()=>{let{controller:d}=e;d!==null&&(r=d,i.next(r))};e.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(Nn(()=>e.getRegistration().then(d=>{if(!d)throw new L(5601,!1);return d})));let o=new mt;this.events=o.asObservable();let a=d=>{let{data:f}=d;f?.type&&o.next(f)};e.addEventListener("message",a),t?.get(fi,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",s),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(tn(1)).subscribe(i=>{i.postMessage(F({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(mn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(tn(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(mn(i=>i.nonce===e),tn(1),Le(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},HH=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new mt;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=Gi,this.notificationClicks=Gi,this.notificationCloses=Gi,this.pushSubscriptionChanges=Gi,this.subscription=Gi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Le(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Le(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(Le(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(Le(i=>i.data)),this.pushManager=this.sw.registration.pipe(Le(i=>i.pushManager));let r=this.pushManager.pipe(Nn(i=>i.getSubscription()));this.subscription=new he(i=>{let s=r.subscribe(i),o=this.subscriptionChanges.subscribe(i);return()=>{s.unsubscribe(),o.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(qT));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,new Promise((o,a)=>{this.pushManager.pipe(Nn(c=>c.subscribe(r)),tn(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),o(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(qT));let t=r=>{if(r===null)throw new L(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new L(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(tn(1),Nn(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(ae(zu))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),qH=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Gi,this.unrecoverable=Gi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(qT));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new L(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(ae(zu))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),Ox=new Q("");function zH(){let n=V(Lh);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=V(Ox),t=V(Ge),r=V(fi);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,s=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",s),r.onDestroy(()=>{i.removeEventListener("controllerchange",s)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:s}=n;if(typeof s=="function")i=new Promise(o=>s().subscribe(()=>o()));else{let[o,...a]=(s||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=kx(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),kx(+a[0])]);break;default:throw new L(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(o=>console.error(oo(5604,!1)))})})}function kx(n){return new Promise(e=>setTimeout(e,n))}function GH(){let n=V(Lh),e=V(lt),t=!0;return new zu(t&&n.enabled!==!1?navigator.serviceWorker:void 0,e)}var Lh=class{enabled;updateViaCache;type;scope;registrationStrategy};function Fx(n,e={}){return sn([HH,qH,{provide:Ox,useValue:n},{provide:Lh,useValue:e},{provide:zu,useFactory:GH},Jm(zH)])}var Vx=()=>{};var jx=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},WH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ly={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,f=s>>2,m=(s&3)<<4|a>>4,w=(a&15)<<2|d>>6,A=d&63;c||(A=64,o||(w=64)),r.push(t[f],t[m],t[w],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||d==null||m==null)throw new GT;let w=s<<2|a>>4;if(r.push(w),d!==64){let A=a<<4&240|d>>2;if(r.push(A),m!==64){let R=d<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},GT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KH=function(n){let e=jx(n);return ly.encodeByteArray(e,!0)},jh=function(n){return KH(n).replace(/\./g,"")},dy=function(n){try{return ly.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var QH=()=>KT().__FIREBASE_DEFAULTS__,YH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&dy(n[1]);return e&&JSON.parse(e)},QT=()=>{try{return Vx()||QH()||YH()||JH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},YT=n=>{var e,t;return(t=(e=QT())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hy=n=>{let e=YT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},JT=()=>{var n;return(n=QT())===null||n===void 0?void 0:n.config},XT=n=>{var e;return(e=QT())===null||e===void 0?void 0:e[`_${n}`]};var Ja=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function as(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gu(n){return(await fetch(n,{credentials:"include"})).ok}function fy(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[jh(JSON.stringify(t)),jh(JSON.stringify(o)),""].join(".")}var Uh={};function XH(){let n={prod:[],emulator:[]};for(let e of Object.keys(Uh))Uh[e]?n.emulator.push(e):n.prod.push(e);return n}function ZH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Lx=!1;function Wu(n,e){if(typeof window>"u"||typeof document>"u"||!as(window.location.host)||Uh[n]===e||Uh[n]||Lx)return;Uh[n]=e;function t(w){return`__firebase__banner__${w}`}let r="__firebase__banner",s=XH().prod.length>0;function o(){let w=document.getElementById(r);w&&w.remove()}function a(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function c(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){let w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Lx=!0,o()},w}function f(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function m(){let w=ZH(r),A=t("text"),R=document.getElementById(A)||document.createElement("span"),M=t("learnmore"),x=document.getElementById(M)||document.createElement("a"),j=t("preprendIcon"),W=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){let K=w.element;a(K),f(x,M);let re=d();c(W,j),K.append(W,R,x,re),document.body.appendChild(K)}s?(R.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function $x(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hx(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zx(){let n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Bh(){try{return typeof indexedDB=="object"}catch{return!1}}function Gx(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var eq="FirebaseError",Cn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=eq,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}},$r=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cn(i,a,r)}};function tq(n,e){return n.replace(nq,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nq=/\{\$([^}]+)}/g;function Wx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ei(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Ux(s)&&Ux(o)){if(!Ei(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Ux(n){return n!==null&&typeof n=="object"}function $h(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kx(n,e){let t=new WT(n,e);return t.subscribe.bind(t)}var WT=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");rq(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zT),i.error===void 0&&(i.error=zT),i.complete===void 0&&(i.complete=zT);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function rq(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zT(){}var Ffe=14400*1e3;function Hr(n){return n&&n._delegate?n._delegate:n}var cn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xa="[DEFAULT]";var ZT=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ja;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sq(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iq(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iq(n){return n===Xa?void 0:n}function sq(n){return n.instantiationMode==="EAGER"}var py=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ZT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var oq=[],Be=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Be||{}),aq={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},cq=Be.INFO,uq={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},lq=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=uq[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wi=class{constructor(e){this.name=e,this._logLevel=cq,this._logHandler=lq,this._userLogHandler=null,oq.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}};var dq=(n,e)=>e.some(t=>n instanceof t),Qx,Yx;function hq(){return Qx||(Qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fq(){return Yx||(Yx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Jx=new WeakMap,tb=new WeakMap,Xx=new WeakMap,eb=new WeakMap,rb=new WeakMap;function pq(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ii(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Jx.set(t,n)}).catch(()=>{}),rb.set(e,n),e}function mq(n){if(tb.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});tb.set(n,e)}var nb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ii(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Zx(n){nb=n(nb)}function gq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(my(this),e,...t);return Xx.set(r,e.sort?e.sort():[e]),Ii(r)}:fq().includes(n)?function(...e){return n.apply(my(this),e),Ii(Jx.get(this))}:function(...e){return Ii(n.apply(my(this),e))}}function yq(n){return typeof n=="function"?gq(n):(n instanceof IDBTransaction&&mq(n),dq(n,hq())?new Proxy(n,nb):n)}function Ii(n){if(n instanceof IDBRequest)return pq(n);if(eb.has(n))return eb.get(n);let e=yq(n);return e!==n&&(eb.set(n,e),rb.set(e,n)),e}var my=n=>rb.get(n);function gy(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Ii(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ii(o.result),c.oldVersion,c.newVersion,Ii(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var _q=["get","getKey","getAll","getAllKeys","count"],vq=["put","add","delete","clear"],ib=new Map;function e1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ib.get(e))return ib.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=vq.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_q.includes(t)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),i&&c.done]))[0]};return ib.set(e,s),s}Zx(n=>oe(F({},n),{get:(e,t,r)=>e1(e,t)||n.get(e,t,r),has:(e,t)=>!!e1(e,t)||n.has(e,t)}));var ob=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Eq(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Eq(n){let e=n.getComponent();return e?.type==="VERSION"}var ab="@firebase/app",t1="0.13.2";var cs=new wi("@firebase/app"),wq="@firebase/app-compat",Iq="@firebase/analytics-compat",Tq="@firebase/analytics",bq="@firebase/app-check-compat",Cq="@firebase/app-check",Dq="@firebase/auth",Sq="@firebase/auth-compat",Aq="@firebase/database",Rq="@firebase/data-connect",Nq="@firebase/database-compat",Pq="@firebase/functions",Mq="@firebase/functions-compat",xq="@firebase/installations",kq="@firebase/installations-compat",Oq="@firebase/messaging",Fq="@firebase/messaging-compat",Vq="@firebase/performance",Lq="@firebase/performance-compat",Uq="@firebase/remote-config",jq="@firebase/remote-config-compat",Bq="@firebase/storage",$q="@firebase/storage-compat",Hq="@firebase/firestore",qq="@firebase/ai",zq="@firebase/firestore-compat",Gq="firebase",Wq="11.10.0";var cb="[DEFAULT]",Kq={[ab]:"fire-core",[wq]:"fire-core-compat",[Tq]:"fire-analytics",[Iq]:"fire-analytics-compat",[Cq]:"fire-app-check",[bq]:"fire-app-check-compat",[Dq]:"fire-auth",[Sq]:"fire-auth-compat",[Aq]:"fire-rtdb",[Rq]:"fire-data-connect",[Nq]:"fire-rtdb-compat",[Pq]:"fire-fn",[Mq]:"fire-fn-compat",[xq]:"fire-iid",[kq]:"fire-iid-compat",[Oq]:"fire-fcm",[Fq]:"fire-fcm-compat",[Vq]:"fire-perf",[Lq]:"fire-perf-compat",[Uq]:"fire-rc",[jq]:"fire-rc-compat",[Bq]:"fire-gcs",[$q]:"fire-gcs-compat",[Hq]:"fire-fst",[zq]:"fire-fst-compat",[qq]:"fire-vertex","fire-js":"fire-js",[Gq]:"fire-js-all"};var Hh=new Map,Qq=new Map,ub=new Map;function n1(n,e){try{n.container.addComponent(e)}catch(t){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xn(n){let e=n.name;if(ub.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;ub.set(e,n);for(let t of Hh.values())n1(t,n);for(let t of Qq.values())n1(t,n);return!0}function Ro(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n==null?!1:n.settings!==void 0}var Yq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new $r("app","Firebase",Yq);var lb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}};var Ti=Wq;function fb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:cb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ao.create("bad-app-name",{appName:String(i)});if(t||(t=JT()),!t)throw Ao.create("no-options");let s=Hh.get(i);if(s){if(Ei(t,s.options)&&Ei(r,s.config))return s;throw Ao.create("duplicate-app",{appName:i})}let o=new py(i);for(let c of ub.values())o.addComponent(c);let a=new lb(t,r,o);return Hh.set(i,a),a}function us(n=cb){let e=Hh.get(n);if(!e&&n===cb&&JT())return fb();if(!e)throw Ao.create("no-app",{appName:n});return e}function yy(){return Array.from(Hh.values())}function it(n,e,t){var r;let i=(r=Kq[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(a.join(" "));return}Xn(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Jq="firebase-heartbeat-database",Xq=1,qh="firebase-heartbeat-store",sb=null;function o1(){return sb||(sb=gy(Jq,Xq,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ao.create("idb-open",{originalErrorMessage:n.message})})),sb}async function Zq(n){try{let t=(await o1()).transaction(qh),r=await t.objectStore(qh).get(a1(n));return await t.done,r}catch(e){if(e instanceof Cn)cs.warn(e.message);else{let t=Ao.create("idb-get",{originalErrorMessage:e?.message});cs.warn(t.message)}}}async function r1(n,e){try{let r=(await o1()).transaction(qh,"readwrite");await r.objectStore(qh).put(e,a1(n)),await r.done}catch(t){if(t instanceof Cn)cs.warn(t.message);else{let r=Ao.create("idb-set",{originalErrorMessage:t?.message});cs.warn(r.message)}}}function a1(n){return`${n.name}!${n.options.appId}`}var ez=1024,tz=30,db=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new hb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=i1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>tz){let o=rz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=i1(),{heartbeatsToSend:r,unsentEntries:i}=nz(this._heartbeatsCache.heartbeats),s=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return cs.warn(t),""}}};function i1(){return new Date().toISOString().substring(0,10)}function nz(n,e=ez){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),s1(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),s1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var hb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bh()?Gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await Zq(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return r1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return r1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function s1(n){return jh(JSON.stringify({version:2,heartbeats:n})).length}function rz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function iz(n){Xn(new cn("platform-logger",e=>new ob(e),"PRIVATE")),Xn(new cn("heartbeat",e=>new db(e),"PRIVATE")),it(ab,t1,n),it(ab,t1,"esm2017"),it("fire-js","")}iz("");var sz="firebase",oz="11.10.0";it(sz,oz,"app");function c1(n){n===void 0&&(n=V(lt));let e=n.get(yu);return t=>new he(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var bi=new ga("ANGULARFIRE2_VERSION");function ec(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var No=(n,e)=>{let t=e?[e]:yy(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ku=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ku||{}),u1=Xd()&&typeof Zone<"u"?Ku.WARN:Ku.SILENT;var _y=class{zone;delegate;constructor(e,t=Qv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Ci=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=V(Ge);this.outsideAngular=t.runOutsideAngular(()=>new _y(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new _y(typeof Zone>"u"?void 0:Zone.current,Kv))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),l1=!1;function az(n,e){!l1&&(u1>Ku.SILENT||Xd())&&(l1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),u1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function cz(n){let e=V(Ge,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Za(n){let e=V(Ge,{optional:!0});return e?e.run(()=>n()):n()}var uz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),At(t,()=>Za(()=>n.apply(void 0,r)))),ls=(n,e,t)=>(t||=e?Ku.WARN:Ku.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=V(Ci),o=V(yu),a=V(yt)}catch{return az(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Za(()=>o.add())),i[d]=uz(i[d],r,a));let c=cz(()=>n.apply(this,i));return e?c instanceof he?c.pipe(ro(s.outsideAngular),no(s.insideAngular),c1(a)):c instanceof Promise?Za(()=>{let d=o.add();return new Promise((f,m)=>{c.then(w=>At(a,()=>Za(()=>f(w))),w=>At(a,()=>Za(()=>m(w)))).finally(d)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Za(()=>c):c instanceof he?c.pipe(ro(s.outsideAngular),no(s.insideAngular)):Za(()=>c)});var qr=class{constructor(e){return e}},ds=class{constructor(){return yy()}};function lz(n){return n&&n.length===1?n[0]:new qr(us())}var pb=new Q("angularfire2._apps"),dz={provide:qr,useFactory:lz,deps:[[new zt,pb]]},hz={provide:ds,deps:[[new zt,pb]]};function fz(n){return(e,t)=>{let r=t.get(Oa);it("angularfire",bi.full,"core"),it("angularfire",bi.full,"app"),it("angular",_E.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new qr(i)}}function d1(n,...e){return sn([dz,hz,{provide:pb,useFactory:fz(n),multi:!0,deps:[Ge,lt,Ci,...e]}])}var mb=ls(fb,!0);var pz=new Map,mz={activated:!1,tokenObservers:[]},gz={initialized:!1,enabled:!1};function zr(n){return pz.get(n)||Object.assign({},mz)}function m1(){return gz}var yz="https://content-firebaseappcheck.googleapis.com/v1";var _z="exchangeDebugToken",h1={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Ope=1440*60*1e3;var _b=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Ja,this.pending.promise.catch(t=>{}),await vz(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Ja,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function vz(n){return new Promise(e=>{setTimeout(e,n)})}var Ez={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Po=new $r("appCheck","AppCheck",Ez);function g1(n){if(!zr(n).activated)throw Po.create("use-before-activation",{appName:n.name})}async function y1({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let m=await i.getHeartbeatsHeader();m&&(r["X-Firebase-Client"]=m)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(n,s)}catch(m){throw Po.create("fetch-network-error",{originalErrorMessage:m?.message})}if(o.status!==200)throw Po.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(m){throw Po.create("fetch-parse-error",{originalErrorMessage:m?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Po.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let d=Number(c[1])*1e3,f=Date.now();return{token:a.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}}function _1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${yz}/projects/${t}/apps/${r}:${_z}?key=${i}`,body:{debug_token:e}}}var wz="firebase-app-check-database",Iz=1,vb="firebase-app-check-store";var vy=null;function Tz(){return vy||(vy=new Promise((n,e)=>{try{let t=indexedDB.open(wz,Iz);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Po.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;r.oldVersion===0&&i.createObjectStore(vb,{keyPath:"compositeKey"})}}catch(t){e(Po.create("storage-open",{originalErrorMessage:t?.message}))}}),vy)}function bz(n,e){return Cz(Dz(n),e)}async function Cz(n,e){let r=(await Tz()).transaction(vb,"readwrite"),s=r.objectStore(vb).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var d;a(Po.create("storage-set",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})}function Dz(n){return`${n.options.appId}-${n.name}`}var zh=new wi("@firebase/app-check");function gb(n,e){return Bh()?bz(n,e).catch(t=>{zh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function v1(){return m1().enabled}async function E1(){let n=m1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var Sz={error:"UNKNOWN_ERROR"};function Az(n){return ly.encodeString(JSON.stringify(n),!1)}async function Eb(n,e=!1,t=!1){let r=n.app;g1(r);let i=zr(r),s=i.token,o;if(s&&!Gh(s)&&(i.token=void 0,s=void 0),!s){let d=await i.cachedTokenPromise;d&&(Gh(d)?s=d:await gb(r,void 0))}if(!e&&s&&Gh(s))return{token:s.token};let a=!1;if(v1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=y1(_1(r,await E1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let d=await i.exchangeTokenPromise;return await gb(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?zh.warn(d.message):t&&zh.error(d),yb(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await zr(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?zh.warn(d.message):t&&zh.error(d),o=d}let c;return s?o?Gh(s)?c={token:s.token,internalError:o}:c=yb(o):(c={token:s.token},i.token=s,await gb(r,s)):c=yb(o),a&&Mz(r,c),c}async function Rz(n){let e=n.app;g1(e);let{provider:t}=zr(e);if(v1()){let r=await E1(),{token:i}=await y1(_1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function Nz(n,e,t,r){let{app:i}=n,s=zr(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Gh(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),f1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>f1(n))}function w1(n,e){let t=zr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function f1(n){let{app:e}=n,t=zr(e),r=t.tokenRefresher;r||(r=Pz(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Pz(n){let{app:e}=n;return new _b(async()=>{let t=zr(e),r;if(t.token?r=await Eb(n,!0):r=await Eb(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=zr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},h1.RETRIAL_MIN_WAIT,h1.RETRIAL_MAX_WAIT)}function Mz(n,e){let t=zr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Gh(n){return n.expireTimeMillis-Date.now()>0}function yb(n){return{token:Az(Sz),error:n}}var wb=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=zr(this.app);for(let t of e)w1(this.app,t.next);return Promise.resolve()}};function xz(n,e){return new wb(n,e)}function kz(n){return{getToken:e=>Eb(n,e),getLimitedUseToken:()=>Rz(n),addTokenListener:e=>Nz(n,"INTERNAL",e),removeTokenListener:e=>w1(n.app,e)}}var Oz="@firebase/app-check",Fz="0.10.1";var Vz="app-check",p1="app-check-internal";function Lz(){Xn(new cn(Vz,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return xz(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(p1).initialize()})),Xn(new cn(p1,n=>{let e=n.getProvider("app-check").getImmediate();return kz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),it(Oz,Fz)}Lz();var Uz="app-check";var Mo=class{constructor(){return No(Uz)}};var jz=["localhost","0.0.0.0","127.0.0.1"],Wpe=typeof window<"u"&&jz.includes(window.location.hostname);var I1=()=>{};var C1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Bz=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},D1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,f=s>>2,m=(s&3)<<4|a>>4,w=(a&15)<<2|d>>6,A=d&63;c||(A=64,o||(w=64)),r.push(t[f],t[m],t[w],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(C1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Bz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||d==null||m==null)throw new Ib;let w=s<<2|a>>4;if(r.push(w),d!==64){let A=a<<4&240|d>>2;if(r.push(A),m!==64){let R=d<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ib=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$z=function(n){let e=C1(n);return D1.encodeByteArray(e,!0)},Kh=function(n){return $z(n).replace(/\./g,"")},S1=function(n){try{return D1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Hz=()=>A1().__FIREBASE_DEFAULTS__,qz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&S1(n[1]);return e&&JSON.parse(e)},Tb=()=>{try{return I1()||Hz()||qz()||zz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Gz=n=>Tb()?.emulatorHosts?.[n],R1=n=>{let e=Gz(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bb=()=>Tb()?.config;var Ey=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function wy(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N1(n){return(await fetch(n,{credentials:"include"})).ok}function P1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=F({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kh(JSON.stringify(t)),Kh(JSON.stringify(o)),""].join(".")}var Wh={};function Wz(){let n={prod:[],emulator:[]};for(let e of Object.keys(Wh))Wh[e]?n.emulator.push(e):n.prod.push(e);return n}function Kz(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var T1=!1;function M1(n,e){if(typeof window>"u"||typeof document>"u"||!wy(window.location.host)||Wh[n]===e||Wh[n]||T1)return;Wh[n]=e;function t(w){return`__firebase__banner__${w}`}let r="__firebase__banner",s=Wz().prod.length>0;function o(){let w=document.getElementById(r);w&&w.remove()}function a(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function c(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){let w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{T1=!0,o()},w}function f(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function m(){let w=Kz(r),A=t("text"),R=document.getElementById(A)||document.createElement("span"),M=t("learnmore"),x=document.getElementById(M)||document.createElement("a"),j=t("preprendIcon"),W=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){let K=w.element;a(K),f(x,M);let re=d();c(W,j),K.append(W,R,x,re),document.body.appendChild(K)}s?(R.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function x1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qz(){let n=Tb()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k1(){return!Qz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cb(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var Yz="FirebaseError",hs=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Yz,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qh.prototype.create)}},Qh=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Jz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hs(i,a,r)}};function Jz(n,e){return n.replace(Xz,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Xz=/\{\$([^}]+)}/g;function tc(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(b1(s)&&b1(o)){if(!tc(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function b1(n){return n!==null&&typeof n=="object"}var Xpe=14400*1e3;function Gr(n){return n&&n._delegate?n._delegate:n}var fs=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var nc="[DEFAULT]";var Db=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ey;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e9(e))try{this.getOrInitializeService({instanceIdentifier:nc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=nc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nc){return this.instances.has(e)}getOptions(e=nc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zz(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nc){return this.component?this.component.multipleInstances?e:nc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zz(n){return n===nc?void 0:n}function e9(n){return n.instantiationMode==="EAGER"}var Iy=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Db(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var t9=[],Re=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Re||{}),n9={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},r9=Re.INFO,i9={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},s9=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=i9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qu=class{constructor(e){this.name=e,this._logLevel=r9,this._logHandler=s9,this._userLogHandler=null,t9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};var Ab=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(o9(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function o9(n){return n.getComponent()?.type==="VERSION"}var Rb="@firebase/app",F1="0.14.7";var ps=new Qu("@firebase/app"),a9="@firebase/app-compat",c9="@firebase/analytics-compat",u9="@firebase/analytics",l9="@firebase/app-check-compat",d9="@firebase/app-check",h9="@firebase/auth",f9="@firebase/auth-compat",p9="@firebase/database",m9="@firebase/data-connect",g9="@firebase/database-compat",y9="@firebase/functions",_9="@firebase/functions-compat",v9="@firebase/installations",E9="@firebase/installations-compat",w9="@firebase/messaging",I9="@firebase/messaging-compat",T9="@firebase/performance",b9="@firebase/performance-compat",C9="@firebase/remote-config",D9="@firebase/remote-config-compat",S9="@firebase/storage",A9="@firebase/storage-compat",R9="@firebase/firestore",N9="@firebase/ai",P9="@firebase/firestore-compat",M9="firebase",x9="12.8.0";var Nb="[DEFAULT]",k9={[Rb]:"fire-core",[a9]:"fire-core-compat",[u9]:"fire-analytics",[c9]:"fire-analytics-compat",[d9]:"fire-app-check",[l9]:"fire-app-check-compat",[h9]:"fire-auth",[f9]:"fire-auth-compat",[p9]:"fire-rtdb",[m9]:"fire-data-connect",[g9]:"fire-rtdb-compat",[y9]:"fire-fn",[_9]:"fire-fn-compat",[v9]:"fire-iid",[E9]:"fire-iid-compat",[w9]:"fire-fcm",[I9]:"fire-fcm-compat",[T9]:"fire-perf",[b9]:"fire-perf-compat",[C9]:"fire-rc",[D9]:"fire-rc-compat",[S9]:"fire-gcs",[A9]:"fire-gcs-compat",[R9]:"fire-fst",[P9]:"fire-fst-compat",[N9]:"fire-vertex","fire-js":"fire-js",[M9]:"fire-js-all"};var Ty=new Map,O9=new Map,Pb=new Map;function V1(n,e){try{n.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yh(n){let e=n.name;if(Pb.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Pb.set(e,n);for(let t of Ty.values())V1(t,n);for(let t of O9.values())V1(t,n);return!0}function B1(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $1(n){return n==null?!1:n.settings!==void 0}var F9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xo=new Qh("app","Firebase",F9);var Mb=class{constructor(e,t,r){this._isDeleted=!1,this._options=F({},e),this._config=F({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}};var H1=x9;function Ob(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=F({name:Nb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw xo.create("bad-app-name",{appName:String(i)});if(t||(t=bb()),!t)throw xo.create("no-options");let s=Ty.get(i);if(s){if(tc(t,s.options)&&tc(r,s.config))return s;throw xo.create("duplicate-app",{appName:i})}let o=new Iy(i);for(let c of Pb.values())o.addComponent(c);let a=new Mb(t,r,o);return Ty.set(i,a),a}function by(n=Nb){let e=Ty.get(n);if(!e&&n===Nb&&bb())return Ob();if(!e)throw xo.create("no-app",{appName:n});return e}function ko(n,e,t){let r=k9[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(o.join(" "));return}Yh(new fs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var V9="firebase-heartbeat-database",L9=1,Jh="firebase-heartbeat-store",Sb=null;function q1(){return Sb||(Sb=gy(V9,L9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jh)}catch(t){console.warn(t)}}}}).catch(n=>{throw xo.create("idb-open",{originalErrorMessage:n.message})})),Sb}async function U9(n){try{let t=(await q1()).transaction(Jh),r=await t.objectStore(Jh).get(z1(n));return await t.done,r}catch(e){if(e instanceof hs)ps.warn(e.message);else{let t=xo.create("idb-get",{originalErrorMessage:e?.message});ps.warn(t.message)}}}async function L1(n,e){try{let r=(await q1()).transaction(Jh,"readwrite");await r.objectStore(Jh).put(e,z1(n)),await r.done}catch(t){if(t instanceof hs)ps.warn(t.message);else{let r=xo.create("idb-set",{originalErrorMessage:t?.message});ps.warn(r.message)}}}function z1(n){return`${n.name}!${n.options.appId}`}var j9=1024,B9=30,xb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new kb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=U1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>B9){let i=H9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=U1(),{heartbeatsToSend:t,unsentEntries:r}=$9(this._heartbeatsCache.heartbeats),i=Kh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ps.warn(e),""}}};function U1(){return new Date().toISOString().substring(0,10)}function $9(n,e=j9){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),j1(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),j1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var kb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cb()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await U9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return L1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return L1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function j1(n){return Kh(JSON.stringify({version:2,heartbeats:n})).length}function H9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function q9(n){Yh(new fs("platform-logger",e=>new Ab(e),"PRIVATE")),Yh(new fs("heartbeat",e=>new xb(e),"PRIVATE")),ko(Rb,F1,n),ko(Rb,F1,"esm2020"),ko("fire-js","")}q9("");function ok(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ak=ok,ck=new $r("auth","Firebase",ok());var Ny=new wi("@firebase/auth");function z9(n,...e){Ny.logLevel<=Be.WARN&&Ny.warn(`Auth (${Ti}): ${n}`,...e)}function Dy(n,...e){Ny.logLevel<=Be.ERROR&&Ny.error(`Auth (${Ti}): ${n}`,...e)}function Vo(n,...e){throw t0(n,...e)}function ic(n,...e){return t0(n,...e)}function uk(n,e,t){let r=Object.assign(Object.assign({},ak()),{[e]:t});return new $r("auth","Firebase",r).create(e,{appName:n.name})}function rc(n){return uk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ck.create(n,...e)}function le(n,e,...t){if(!n)throw t0(e,...t)}function ms(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Dy(e),new Error(e)}function Lo(n,e){n||ms(e)}function Ub(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function G9(){return G1()==="http:"||G1()==="https:"}function G1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function W9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G9()||Hx()||"connection"in navigator)?navigator.onLine:!0}function K9(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var sc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lo(t>e,"Short delay should be less than long delay!"),this.isMobile=Bx()||qx()}get(){return W9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function n0(n,e){Lo(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Py=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Q9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Y9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J9=new sc(3e4,6e4);function r0(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yu(n,e,t,r,i={}){return lk(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=$h(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let d=Object.assign({method:e,headers:c},s);return $x()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&as(n.emulatorConfig.host)&&(d.credentials="include"),Py.fetch()(await dk(n,n.config.apiHost,t,a),d)})}async function lk(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Q9),e);try{let i=new jb(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Cy(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cy(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Cy(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Cy(n,"user-disabled",o);let f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw uk(n,f,d);Vo(n,f)}}catch(i){if(i instanceof Cn)throw i;Vo(n,"network-request-failed",{message:String(i)})}}async function X9(n,e,t,r,i={}){let s=await Yu(n,e,t,r,i);return"mfaPendingCredential"in s&&Vo(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function dk(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?n0(n.config,i):`${n.config.apiScheme}://${i}`;return Y9.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}var jb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ic(this.auth,"network-request-failed")),J9.get())})}};function Cy(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ic(n,e,r);return i.customData._tokenResponse=t,i}async function Z9(n,e){return Yu(n,"POST","/v1/accounts:delete",e)}async function My(n,e){return Yu(n,"POST","/v1/accounts:lookup",e)}function Xh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i0(n,e=!1){let t=Hr(n),r=await t.getIdToken(e),i=s0(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Xh(Fb(i.auth_time)),issuedAtTime:Xh(Fb(i.iat)),expirationTime:Xh(Fb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Fb(n){return Number(n)*1e3}function s0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dy("JWT malformed, contained fewer than 3 sections"),null;try{let i=dy(t);return i?JSON.parse(i):(Dy("Failed to decode base64 JWT payload"),null)}catch(i){return Dy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function W1(n){let e=s0(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ef(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Cn&&e5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function e5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Bb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var tf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function xy(n){var e;let t=n.auth,r=await n.getIdToken(),i=await ef(n,My(t,{idToken:r}));le(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hk(s.providerUserInfo):[],a=t5(n.providerData,o),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!a?.length,f=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tf(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,m)}async function o0(n){let e=Hr(n);await xy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t5(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hk(n){return n.map(e=>{var{providerId:t}=e,r=Yv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function n5(n,e){let t=await lk(n,{},async()=>{let r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await dk(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&as(n.emulatorConfig.host)&&(c.credentials="include"),Py.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function r5(n,e){return Yu(n,"POST","/v2/accounts:revokeToken",r0(n,e))}var Zh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=W1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await n5(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ms("not implemented")}};function Oo(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Fo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Yv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await ef(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return i0(this,e)}reload(){return o0(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await xy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(rc(this.auth));let e=await this.getIdToken();return await ef(this,Z9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,d,f;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,A=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,R=(o=t.photoURL)!==null&&o!==void 0?o:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,j=(d=t.createdAt)!==null&&d!==void 0?d:void 0,W=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:K,emailVerified:re,isAnonymous:Fe,providerData:ce,stsTokenManager:I}=t;le(K&&I,e,"internal-error");let y=Zh.fromJSON(this.name,I);le(typeof K=="string",e,"internal-error"),Oo(m,e.name),Oo(w,e.name),le(typeof re=="boolean",e,"internal-error"),le(typeof Fe=="boolean",e,"internal-error"),Oo(A,e.name),Oo(R,e.name),Oo(M,e.name),Oo(x,e.name),Oo(j,e.name),Oo(W,e.name);let E=new n({uid:K,auth:e,email:w,emailVerified:re,displayName:m,isAnonymous:Fe,photoURL:R,phoneNumber:A,tenantId:M,stsTokenManager:y,createdAt:j,lastLoginAt:W});return ce&&Array.isArray(ce)&&(E.providerData=ce.map(T=>Object.assign({},T))),x&&(E._redirectEventId=x),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new Zh;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xy(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];le(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?hk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Zh;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}};var K1=new Map;function gs(n){Lo(n instanceof Function,"Expected a class definition");let e=K1.get(n);return e?(Lo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,K1.set(n,e),e)}var i5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),$b=i5;function Sy(n,e,t){return`firebase:${n}:${e}:${t}`}var ky=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Sy(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sy("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await My(this.auth,{idToken:e}).catch(()=>{});return t?Fo._fromGetAccountInfoResponse(this.auth,t,e):null}return Fo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(gs($b),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),s=i[0]||gs($b),o=Sy(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let f=await d._get(o);if(f){let m;if(typeof f=="string"){let w=await My(e,{idToken:f}).catch(()=>{});if(!w)break;m=await Fo._fromGetAccountInfoResponse(e,w,f)}else m=Fo._fromJSON(e,f);d!==s&&(a=m),s=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new n(s,e,r))}};function Q1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_k(e))return"Blackberry";if(vk(e))return"Webos";if(pk(e))return"Safari";if((e.includes("chrome/")||mk(e))&&!e.includes("edge/"))return"Chrome";if(yk(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function fk(n=an()){return/firefox\//i.test(n)}function pk(n=an()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mk(n=an()){return/crios\//i.test(n)}function gk(n=an()){return/iemobile/i.test(n)}function yk(n=an()){return/android/i.test(n)}function _k(n=an()){return/blackberry/i.test(n)}function vk(n=an()){return/webos/i.test(n)}function a0(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function s5(n=an()){var e;return a0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o5(){return zx()&&document.documentMode===10}function Ek(n=an()){return a0(n)||yk(n)||vk(n)||_k(n)||/windows phone/i.test(n)||gk(n)}function wk(n,e=[]){let t;switch(n){case"Browser":t=Q1(an());break;case"Worker":t=`${Q1(an())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ti}/${r}`}var Hb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function a5(n,e={}){return Yu(n,"GET","/v2/passwordPolicy",r0(n,e))}var c5=6,qb=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:c5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var zb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oy(this),this.idTokenSubscription=new Oy(this),this.beforeStateQueue=new Hb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ck,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ky.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await My(this,{idToken:e}),r=await Fo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xy(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(rc(this));let t=e?Hr(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(rc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(rc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await a5(this),t=new qb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await r5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&gs(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=await ky.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&z9(`Error while retrieving App Check token: ${t.error}`),t?.token}};function c0(n){return Hr(n)}var Oy=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kx(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var u0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u5(n){u0=n}function l5(n){return u0.loadJS(n)}function d5(){return u0.gapiScript}function Ik(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function l0(n,e){let t=Ro(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Ei(s,e??{}))return i;Vo(i,"already-initialized")}return t.initialize({options:e})}function h5(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(gs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function d0(n,e,t){let r=c0(n);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=Tk(e),{host:o,port:a}=f5(e),c=a===null?"":`:${a}`,d={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Ei(d,r.config.emulator)&&Ei(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,as(o)?(Gu(`${s}//${o}${c}`),Wu("Auth",!0)):i||p5()}function Tk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function f5(n){let e=Tk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Y1(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Y1(o)}}}function Y1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function p5(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Fy=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}};async function Vb(n,e){return X9(n,"POST","/v1/accounts:signInWithIdp",r0(n,e))}var Vy=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gb=class extends Vy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var nf=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await Fo._fromIdTokenResponse(e,r,i),o=J1(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=J1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function J1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Wb=class n extends Cn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function bk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wb._fromErrorAndOperation(n,s,e,r):s})}async function m5(n,e,t=!1){let r=await ef(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return nf._forOperation(n,"link",r)}async function g5(n,e,t=!1){let{auth:r}=n;if(Fn(r.app))return Promise.reject(rc(r));let i="reauthenticate";try{let s=await ef(n,bk(r,i,e,n),t);le(s.idToken,r,"internal-error");let o=s0(s.idToken);le(o,r,"internal-error");let{sub:a}=o;return le(n.uid===a,r,"user-mismatch"),nf._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Vo(r,"user-mismatch"),s}}async function y5(n,e,t=!1){if(Fn(n.app))return Promise.reject(rc(n));let r="signIn",i=await bk(n,r,e),s=await nf._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function h0(n,e,t,r){return Hr(n).onIdTokenChanged(e,t,r)}function f0(n,e,t){return Hr(n).beforeAuthStateChanged(e,t)}var Ly="__sak";var Uy=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ly,"1"),this.storage.removeItem(Ly),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _5=1e3,v5=10,E5=(()=>{class n extends Uy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ek(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);o5()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,v5):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},_5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),Ck=E5;var w5=(()=>{class n extends Uy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),p0=w5;function I5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var T5=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async f=>f(r.origin,o)),d=await I5(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Dk(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Kb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let d=Dk("",20);i.port1.start();let f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){let w=m;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Di(){return window}function b5(n){Di().location.href=n}function Sk(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function C5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D5(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function S5(){return Sk()?self:null}var Ak="firebaseLocalStorageDb",A5=1,jy="firebaseLocalStorage",Rk="fbase_key",oc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function $y(n,e){return n.transaction([jy],e?"readwrite":"readonly").objectStore(jy)}function R5(){let n=indexedDB.deleteDatabase(Ak);return new oc(n).toPromise()}function Qb(){let n=indexedDB.open(Ak,A5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(jy,{keyPath:Rk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(jy)?e(r):(r.close(),await R5(),e(await Qb()))})})}async function X1(n,e,t){let r=$y(n,!0).put({[Rk]:e,value:t});return new oc(r).toPromise()}async function N5(n,e){let t=$y(n,!1).get(e),r=await new oc(t).toPromise();return r===void 0?null:r.value}function Z1(n,e){let t=$y(n,!0).delete(e);return new oc(t).toPromise()}var P5=800,M5=3,x5=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qb(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>M5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=T5._getInstance(S5()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await C5(),!this.activeServiceWorker)return;this.sender=new Kb(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||D5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await Qb();return await X1(t,Ly,"1"),await Z1(t,Ly),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>X1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>N5(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=$y(s,!1).getAll();return new oc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Nk=x5;var Ime=Ik("rcb"),Tme=new sc(3e4,6e4);function k5(n,e){return e?gs(e):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var rf=class extends Fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vb(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function O5(n){return y5(n.auth,new rf(n),n.bypassAuthState)}function F5(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),g5(t,new rf(n),n.bypassAuthState)}async function V5(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),m5(t,new rf(n),n.bypassAuthState)}var Yb=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O5;case"linkViaPopup":case"linkViaRedirect":return V5;case"reauthViaPopup":case"reauthViaRedirect":return F5;default:Vo(this.auth,"internal-error")}}resolve(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bme=new sc(2e3,1e4);var L5="pendingRedirect",Ay=new Map,Jb=class extends Yb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ay.get(this.auth._key());if(!e){try{let r=await U5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ay.set(this.auth._key(),e)}return this.bypassAuthState||Ay.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function U5(n,e){let t=$5(e),r=B5(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function j5(n,e){Ay.set(n._key(),e)}function B5(n){return gs(n._redirectPersistence)}function $5(n){return Sy(L5,n.config.apiKey,n.name)}async function H5(n,e,t=!1){if(Fn(n.app))return Promise.reject(rc(n));let r=c0(n),i=k5(r,e),o=await new Jb(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var q5=600*1e3,Xb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Pk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ic(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ek(e))}saveEventToCache(e){this.cachedEventUids.add(ek(e)),this.lastProcessedEventTime=Date.now()}};function ek(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Pk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function z5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pk(n);default:return!1}}async function G5(n,e={}){return Yu(n,"GET","/v1/projects",e)}var W5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K5=/^https?/;async function Q5(n){if(n.config.emulator)return;let{authorizedDomains:e}=await G5(n);for(let t of e)try{if(Y5(t))return}catch{}Vo(n,"unauthorized-domain")}function Y5(n){let e=Ub(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!K5.test(t))return!1;if(W5.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var J5=new sc(3e4,6e4);function tk(){let n=Di().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function X5(n){return new Promise((e,t)=>{var r,i,s;function o(){tk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tk(),t(ic(n,"network-request-failed"))},timeout:J5.get()})}if(!((i=(r=Di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Di().gapi)===null||s===void 0)&&s.load)o();else{let a=Ik("iframefcb");return Di()[a]=()=>{gapi.load?o():t(ic(n,"network-request-failed"))},l5(`${d5()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Ry=null,e})}var Ry=null;function Z5(n){return Ry=Ry||X5(n),Ry}var eG=new sc(5e3,15e3),tG="__/auth/iframe",nG="emulator/auth/iframe",rG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sG(n){let e=n.config;le(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?n0(e,nG):`https://${n.config.authDomain}/${tG}`,r={apiKey:e.apiKey,appName:n.name,v:Ti},i=iG.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${$h(r).slice(1)}`}async function oG(n){let e=await Z5(n),t=Di().gapi;return le(t,n,"internal-error"),e.open({where:document.body,url:sG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=ic(n,"network-request-failed"),a=Di().setTimeout(()=>{s(o)},eG.get());function c(){Di().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var aG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cG=500,uG=600,lG="_blank",dG="http://localhost",By=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function hG(n,e,t,r=cG,i=uG){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},aG),{width:r.toString(),height:i.toString(),top:s,left:o}),d=an().toLowerCase();t&&(a=mk(d)?lG:t),fk(d)&&(e=e||dG,c.scrollbars="yes");let f=Object.entries(c).reduce((w,[A,R])=>`${w}${A}=${R},`,"");if(s5(d)&&a!=="_self")return fG(e||"",a),new By(null);let m=window.open(e||"",a,f);le(m,n,"popup-blocked");try{m.focus()}catch{}return new By(m)}function fG(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var pG="__/auth/handler",mG="emulator/auth/handler",gG=encodeURIComponent("fac");async function nk(n,e,t,r,i,s){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ti,eventId:i};if(e instanceof Vy){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Wx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,m]of Object.entries(s||{}))o[f]=m}if(e instanceof Gb){let f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let c=await n._getAppCheckToken(),d=c?`#${gG}=${encodeURIComponent(c)}`:"";return`${yG(n)}?${$h(a).slice(1)}${d}`}function yG({config:n}){return n.emulator?n0(n,mG):`https://${n.authDomain}/${pG}`}var Lb="webStorageSupport",Zb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p0,this._completeRedirectFn=H5,this._overrideRedirectResult=j5}async _openPopup(e,t,r,i){var s;Lo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=await nk(e,t,r,Ub(),i);return hG(e,o,Dk())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await nk(e,t,r,Ub(),i);return b5(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Lo(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await oG(e),r=new Xb(e);return t.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lb,{type:Lb},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Lb];o!==void 0&&t(!!o),Vo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Q5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ek()||pk()||a0()}},Mk=Zb;var rk="@firebase/auth",ik="1.10.8";var e0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _G(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vG(n){Xn(new cn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wk(n)},d=new zb(r,i,s,c);return h5(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xn(new cn("auth-internal",e=>{let t=c0(e.getProvider("auth").getImmediate());return(r=>new e0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(rk,ik,_G(n)),it(rk,ik,"esm2017")}var EG=300,wG=XT("authIdTokenMaxAge")||EG,sk=null,IG=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wG)return;let i=t?.token;sk!==i&&(sk=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function m0(n=us()){let e=Ro(n,"auth");if(e.isInitialized())return e.getImmediate();let t=l0(n,{popupRedirectResolver:Mk,persistence:[Nk,Ck,p0]}),r=XT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=IG(s.toString());f0(t,o,()=>o(t.currentUser)),h0(t,a=>o(a))}}let i=YT("auth");return i&&d0(t,`http://${i}`),t}function TG(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}u5({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=ic("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",TG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vG("Browser");var xk="auth",sf=class{constructor(e){return e}},ac=class{constructor(){return No(xk)}};var g0=new Q("angularfire2.auth-instances");function g8(n,e){let t=ec(xk,n,e);return t&&new sf(t)}function y8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new sf(r)}}var _8={provide:ac,deps:[[new zt,g0]]},v8={provide:sf,useFactory:g8,deps:[[new zt,g0],qr]};function kk(n,...e){return it("angularfire",bi.full,"auth"),sn([v8,_8,{provide:g0,useFactory:y8(n),multi:!0,deps:[Ge,lt,Ci,ds,[new zt,Mo],...e]}])}var Ok=ls(m0,!0);var Fk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vk={};var ys,y0;(function(){var n;function e(I,y){function E(){}E.prototype=y.prototype,I.F=y.prototype,I.prototype=new E,I.prototype.constructor=I,I.D=function(T,b,S){for(var v=Array(arguments.length-2),et=2;et<arguments.length;et++)v[et-2]=arguments[et];return y.prototype[b].apply(T,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,E){E||(E=0);let T=Array(16);if(typeof y=="string")for(var b=0;b<16;++b)T[b]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(b=0;b<16;++b)T[b]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=I.g[0],E=I.g[1],b=I.g[2];let S=I.g[3],v;v=y+(S^E&(b^S))+T[0]+3614090360&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+T[1]+3905402710&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+T[2]+606105819&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+T[3]+3250441966&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+T[4]+4118548399&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+T[5]+1200080426&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+T[6]+2821735955&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+T[7]+4249261313&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+T[8]+1770035416&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+T[9]+2336552879&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+T[10]+4294925233&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+T[11]+2304563134&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+T[12]+1804603682&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+T[13]+4254626195&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+T[14]+2792965006&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+T[15]+1236535329&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(b^S&(E^b))+T[1]+4129170786&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+T[6]+3225465664&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+T[11]+643717713&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+T[0]+3921069994&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+T[5]+3593408605&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+T[10]+38016083&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+T[15]+3634488961&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+T[4]+3889429448&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+T[9]+568446438&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+T[14]+3275163606&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+T[3]+4107603335&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+T[8]+1163531501&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+T[13]+2850285829&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+T[2]+4243563512&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+T[7]+1735328473&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+T[12]+2368359562&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(E^b^S)+T[5]+4294588738&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+T[8]+2272392833&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+T[11]+1839030562&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+T[14]+4259657740&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+T[1]+2763975236&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+T[4]+1272893353&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+T[7]+4139469664&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+T[10]+3200236656&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+T[13]+681279174&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+T[0]+3936430074&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+T[3]+3572445317&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+T[6]+76029189&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+T[9]+3654602809&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+T[12]+3873151461&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+T[15]+530742520&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+T[2]+3299628645&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(b^(E|~S))+T[0]+4096336452&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+T[7]+1126891415&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+T[14]+2878612391&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+T[5]+4237533241&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+T[12]+1700485571&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+T[3]+2399980690&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+T[10]+4293915773&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+T[1]+2240044497&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+T[8]+1873313359&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+T[15]+4264355552&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+T[6]+2734768916&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+T[13]+1309151649&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+T[4]+4149444226&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+T[11]+3174756917&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+T[2]+718787259&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(b+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.v=function(I,y){y===void 0&&(y=I.length);let E=y-this.blockSize,T=this.C,b=this.h,S=0;for(;S<y;){if(b==0)for(;S<=E;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<y;)if(T[b++]=I.charCodeAt(S++),b==this.blockSize){i(this,T),b=0;break}}else for(;S<y;)if(T[b++]=I[S++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=y},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;y=this.o*8;for(var E=I.length-8;E<I.length;++E)I[E]=y&255,y/=256;for(this.v(I),I=Array(16),y=0,E=0;E<4;++E)for(let T=0;T<32;T+=8)I[y++]=this.g[E]>>>T&255;return I};function s(I,y){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=y(I)}function o(I,y){this.h=y;let E=[],T=!0;for(let b=I.length-1;b>=0;b--){let S=I[b]|0;T&&S==y||(E[b]=S,T=!1)}this.g=E}var a={};function c(I){return-128<=I&&I<128?s(I,function(y){return new o([y|0],y<0?-1:0)}):new o([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return m;if(I<0)return x(d(-I));let y=[],E=1;for(let T=0;I>=E;T++)y[T]=I/E|0,E*=4294967296;return new o(y,0)}function f(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return x(f(I.substring(1),y));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=d(Math.pow(y,8)),T=m;for(let S=0;S<I.length;S+=8){var b=Math.min(8,I.length-S);let v=parseInt(I.substring(S,S+b),y);b<8?(b=d(Math.pow(y,b)),T=T.j(b).add(d(v))):(T=T.j(E),T=T.add(d(v)))}return T}var m=c(0),w=c(1),A=c(16777216);n=o.prototype,n.m=function(){if(M(this))return-x(this).m();let I=0,y=1;for(let E=0;E<this.g.length;E++){let T=this.i(E);I+=(T>=0?T:4294967296+T)*y,y*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(M(this))return"-"+x(this).toString(I);let y=d(Math.pow(I,6));var E=this;let T="";for(;;){let b=re(E,y).g;E=j(E,b.j(y));let S=((E.g.length>0?E.g[0]:E.h)>>>0).toString(I);if(E=b,R(E))return S+T;for(;S.length<6;)S="0"+S;T=S+T}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=j(this,I),M(I)?-1:R(I)?0:1};function x(I){let y=I.g.length,E=[];for(let T=0;T<y;T++)E[T]=~I.g[T];return new o(E,~I.h).add(w)}n.abs=function(){return M(this)?x(this):this},n.add=function(I){let y=Math.max(this.g.length,I.g.length),E=[],T=0;for(let b=0;b<=y;b++){let S=T+(this.i(b)&65535)+(I.i(b)&65535),v=(S>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);T=v>>>16,S&=65535,v&=65535,E[b]=v<<16|S}return new o(E,E[E.length-1]&-2147483648?-1:0)};function j(I,y){return I.add(x(y))}n.j=function(I){if(R(this)||R(I))return m;if(M(this))return M(I)?x(this).j(x(I)):x(x(this).j(I));if(M(I))return x(this.j(x(I)));if(this.l(A)<0&&I.l(A)<0)return d(this.m()*I.m());let y=this.g.length+I.g.length,E=[];for(var T=0;T<2*y;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(let b=0;b<I.g.length;b++){let S=this.i(T)>>>16,v=this.i(T)&65535,et=I.i(b)>>>16,Jt=I.i(b)&65535;E[2*T+2*b]+=v*Jt,W(E,2*T+2*b),E[2*T+2*b+1]+=S*Jt,W(E,2*T+2*b+1),E[2*T+2*b+1]+=v*et,W(E,2*T+2*b+1),E[2*T+2*b+2]+=S*et,W(E,2*T+2*b+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new o(E,0)};function W(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function K(I,y){this.g=I,this.h=y}function re(I,y){if(R(y))throw Error("division by zero");if(R(I))return new K(m,m);if(M(I))return y=re(x(I),y),new K(x(y.g),x(y.h));if(M(y))return y=re(I,x(y)),new K(x(y.g),y.h);if(I.g.length>30){if(M(I)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=w,T=y;T.l(I)<=0;)E=Fe(E),T=Fe(T);var b=ce(E,1),S=ce(T,1);for(T=ce(T,2),E=ce(E,2);!R(T);){var v=S.add(T);v.l(I)<=0&&(b=b.add(E),S=v),T=ce(T,1),E=ce(E,1)}return y=j(I,b.j(y)),new K(b,y)}for(b=m;I.l(y)>=0;){for(E=Math.max(1,Math.floor(I.m()/y.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),S=d(E),v=S.j(y);M(v)||v.l(I)>0;)E-=T,S=d(E),v=S.j(y);R(S)&&(S=w),b=b.add(S),I=j(I,v)}return new K(b,I)}n.B=function(I){return re(this,I).h},n.and=function(I){let y=Math.max(this.g.length,I.g.length),E=[];for(let T=0;T<y;T++)E[T]=this.i(T)&I.i(T);return new o(E,this.h&I.h)},n.or=function(I){let y=Math.max(this.g.length,I.g.length),E=[];for(let T=0;T<y;T++)E[T]=this.i(T)|I.i(T);return new o(E,this.h|I.h)},n.xor=function(I){let y=Math.max(this.g.length,I.g.length),E=[];for(let T=0;T<y;T++)E[T]=this.i(T)^I.i(T);return new o(E,this.h^I.h)};function Fe(I){let y=I.g.length+1,E=[];for(let T=0;T<y;T++)E[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(E,I.h)}function ce(I,y){let E=y>>5;y%=32;let T=I.g.length-E,b=[];for(let S=0;S<T;S++)b[S]=y>0?I.i(S+E)>>>y|I.i(S+E+1)<<32-y:I.i(S+E);return new o(b,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,y0=Vk.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,ys=Vk.Integer=o}).apply(typeof Fk<"u"?Fk:typeof self<"u"?self:typeof window<"u"?window:{});var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_s={};var _0,E8,Ju,v0,of,qy,E0,w0,I0;(function(){var n,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hy=="object"&&Hy];for(var p=0;p<l.length;++p){var _=l[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function i(l,p){if(p)e:{var _=r;l=l.split(".");for(var D=0;D<l.length-1;D++){var N=l[D];if(!(N in _))break e;_=_[N]}l=l[l.length-1],D=_[l],p=p(D),p!=D&&p!=null&&e(_,l,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(p){var _=[],D;for(D in p)Object.prototype.hasOwnProperty.call(p,D)&&_.push([D,p[D]]);return _}});var s=s||{},o=this||self;function a(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function c(l,p,_){return l.call.apply(l.bind,arguments)}function d(l,p,_){return d=c,d.apply(null,arguments)}function f(l,p){var _=Array.prototype.slice.call(arguments,1);return function(){var D=_.slice();return D.push.apply(D,arguments),l.apply(this,D)}}function m(l,p){function _(){}_.prototype=p.prototype,l.Z=p.prototype,l.prototype=new _,l.prototype.constructor=l,l.Ob=function(D,N,k){for(var G=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)G[ue-2]=arguments[ue];return p.prototype[N].apply(D,G)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function A(l){let p=l.length;if(p>0){let _=Array(p);for(let D=0;D<p;D++)_[D]=l[D];return _}return[]}function R(l,p){for(let D=1;D<arguments.length;D++){let N=arguments[D];var _=typeof N;if(_=_!="object"?_:N?Array.isArray(N)?"array":_:"null",_=="array"||_=="object"&&typeof N.length=="number"){_=l.length||0;let k=N.length||0;l.length=_+k;for(let G=0;G<k;G++)l[_+G]=N[G]}else l.push(N)}}class M{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(l){o.setTimeout(()=>{throw l},0)}function j(){var l=I;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class W{constructor(){this.h=this.g=null}add(p,_){let D=K.get();D.set(p,_),this.h?this.h.next=D:this.g=D,this.h=D}}var K=new M(()=>new re,l=>l.reset());class re{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,ce=!1,I=new W,y=()=>{let l=Promise.resolve(void 0);Fe=()=>{l.then(E)}};function E(){for(var l;l=j();){try{l.h.call(l.g)}catch(_){x(_)}var p=K;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}ce=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let _=()=>{};o.addEventListener("test",_,p),o.removeEventListener("test",_,p)}catch{}return l})();function v(l){return/^[\s\xa0]*$/.test(l)}function et(l,p){b.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}m(et,b),et.prototype.init=function(l,p){let _=this.type=l.type,D=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(_=="mouseover"?p=l.fromElement:_=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);let l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Jt="closure_listenable_"+(Math.random()*1e6|0),X=0;function te(l,p,_,D,N){this.listener=l,this.proxy=null,this.src=p,this.type=_,this.capture=!!D,this.ha=N,this.key=++X,this.da=this.fa=!1}function ne(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function we(l,p,_){for(let D in l)p.call(_,l[D],D,l)}function pt(l,p){for(let _ in l)p.call(void 0,l[_],_,l)}function In(l){let p={};for(let _ in l)p[_]=l[_];return p}let ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(l,p){let _,D;for(let N=1;N<arguments.length;N++){D=arguments[N];for(_ in D)l[_]=D[_];for(let k=0;k<ct.length;k++)_=ct[k],Object.prototype.hasOwnProperty.call(D,_)&&(l[_]=D[_])}}function $e(l){this.src=l,this.g={},this.h=0}$e.prototype.add=function(l,p,_,D,N){let k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);let G=Go(l,p,D,N);return G>-1?(p=l[G],_||(p.fa=!1)):(p=new te(p,this.src,k,!!D,N),p.fa=_,l.push(p)),p};function Zn(l,p){let _=p.type;if(_ in l.g){var D=l.g[_],N=Array.prototype.indexOf.call(D,p,void 0),k;(k=N>=0)&&Array.prototype.splice.call(D,N,1),k&&(ne(p),l.g[_].length==0&&(delete l.g[_],l.h--))}}function Go(l,p,_,D){for(let N=0;N<l.length;++N){let k=l[N];if(!k.da&&k.listener==p&&k.capture==!!_&&k.ha==D)return N}return-1}var st="closure_lm_"+(Math.random()*1e6|0),jn={};function Xt(l,p,_,D,N){if(D&&D.once)return Sc(l,p,_,D,N);if(Array.isArray(p)){for(let k=0;k<p.length;k++)Xt(l,p[k],_,D,N);return null}return _=Pc(_),l&&l[Jt]?l.J(p,_,a(D)?!!D.capture:!!D,N):er(l,p,_,!1,D,N)}function er(l,p,_,D,N,k){if(!p)throw Error("Invalid event type");let G=a(N)?!!N.capture:!!N,ue=Nc(l);if(ue||(l[st]=ue=new $e(l)),_=ue.add(p,_,D,G,k),_.proxy)return _;if(D=Yr(),_.proxy=D,D.src=l,D.listener=_,l.addEventListener)S||(N=G),N===void 0&&(N=!1),l.addEventListener(p.toString(),D,N);else if(l.attachEvent)l.attachEvent(Rc(p.toString()),D);else if(l.addListener&&l.removeListener)l.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yr(){function l(_){return p.call(l.src,l.listener,_)}let p=zf;return l}function Sc(l,p,_,D,N){if(Array.isArray(p)){for(let k=0;k<p.length;k++)Sc(l,p[k],_,D,N);return null}return _=Pc(_),l&&l[Jt]?l.K(p,_,a(D)?!!D.capture:!!D,N):er(l,p,_,!0,D,N)}function Ac(l,p,_,D,N){if(Array.isArray(p))for(var k=0;k<p.length;k++)Ac(l,p[k],_,D,N);else D=a(D)?!!D.capture:!!D,_=Pc(_),l&&l[Jt]?(l=l.i,k=String(p).toString(),k in l.g&&(p=l.g[k],_=Go(p,_,D,N),_>-1&&(ne(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete l.g[k],l.h--)))):l&&(l=Nc(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Go(p,_,D,N)),(_=l>-1?p[l]:null)&&Wo(_))}function Wo(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Jt])Zn(p.i,l);else{var _=l.type,D=l.proxy;p.removeEventListener?p.removeEventListener(_,D,l.capture):p.detachEvent?p.detachEvent(Rc(_),D):p.addListener&&p.removeListener&&p.removeListener(D),(_=Nc(p))?(Zn(_,l),_.h==0&&(_.src=null,p[st]=null)):ne(l)}}}function Rc(l){return l in jn?jn[l]:jn[l]="on"+l}function zf(l,p){if(l.da)l=!0;else{p=new et(p,this);let _=l.listener,D=l.ha||l.src;l.fa&&Wo(l),l=_.call(D,p)}return l}function Nc(l){return l=l[st],l instanceof $e?l:null}var Ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pc(l){return typeof l=="function"?l:(l[Ul]||(l[Ul]=function(p){return l.handleEvent(p)}),l[Ul])}function Vt(){T.call(this),this.i=new $e(this),this.M=this,this.G=null}m(Vt,T),Vt.prototype[Jt]=!0,Vt.prototype.removeEventListener=function(l,p,_,D){Ac(this,l,p,_,D)};function Lt(l,p){var _,D=l.G;if(D)for(_=[];D;D=D.G)_.push(D);if(l=l.M,D=p.type||p,typeof p=="string")p=new b(p,l);else if(p instanceof b)p.target=p.target||l;else{var N=p;p=new b(D,l),Qe(p,N)}N=!0;let k,G;if(_)for(G=_.length-1;G>=0;G--)k=p.g=_[G],N=Ko(k,D,!0,p)&&N;if(k=p.g=l,N=Ko(k,D,!0,p)&&N,N=Ko(k,D,!1,p)&&N,_)for(G=0;G<_.length;G++)k=p.g=_[G],N=Ko(k,D,!1,p)&&N}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var l=this.i;for(let p in l.g){let _=l.g[p];for(let D=0;D<_.length;D++)ne(_[D]);delete l.g[p],l.h--}}this.G=null},Vt.prototype.J=function(l,p,_,D){return this.i.add(String(l),p,!1,_,D)},Vt.prototype.K=function(l,p,_,D){return this.i.add(String(l),p,!0,_,D)};function Ko(l,p,_,D){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let N=!0;for(let k=0;k<p.length;++k){let G=p[k];if(G&&!G.da&&G.capture==_){let ue=G.listener,u=G.ha||G.src;G.fa&&Zn(l.i,G),N=ue.call(u,D)!==!1&&N}}return N&&!D.defaultPrevented}function Tv(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(l,p||0)}function Mc(l){l.g=Tv(()=>{l.g=null,l.i&&(l.i=!1,Mc(l))},l.l);let p=l.h;l.h=null,l.m.apply(null,p)}class jl extends T{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Mc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(l){T.call(this),this.h=l,this.g={}}m(ji,T);var Ut=[];function qt(l){we(l.g,function(p,_){this.g.hasOwnProperty(_)&&Wo(p)},l),l.g={}}ji.prototype.N=function(){ji.Z.N.call(this),qt(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=o.JSON.stringify,Gf=o.JSON.parse,Wf=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Kf(){}function ks(){}var Os={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xc(){b.call(this,"d")}m(xc,b);function Qo(){b.call(this,"c")}m(Qo,b);var Bi={},Qf=null;function Fs(){return Qf=Qf||new Vt}Bi.Ia="serverreachability";function Bl(l){b.call(this,Bi.Ia,l)}m(Bl,b);function Vs(l){let p=Fs();Lt(p,new Bl(p))}Bi.STAT_EVENT="statevent";function Ls(l,p){b.call(this,Bi.STAT_EVENT,l),this.stat=p}m(Ls,b);function jt(l){let p=Fs();Lt(p,new Ls(p,l))}Bi.Ja="timingevent";function kc(l,p){b.call(this,Bi.Ja,l),this.size=p}m(kc,b);function Bn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},p)}function Us(){this.g=!0}Us.prototype.ua=function(){this.g=!1};function Oc(l,p,_,D,N,k){l.info(function(){if(l.g)if(k){var G="",ue=k.split("&");for(let h=0;h<ue.length;h++){var u=ue[h].split("=");if(u.length>1){let g=u[0];u=u[1];let C=g.split("_");G=C.length>=2&&C[1]=="type"?G+(g+"="+u+"&"):G+(g+"=redacted&")}}}else G=null;else G=k;return"XMLHTTP REQ ("+D+") [attempt "+N+"]: "+p+`
`+_+`
`+G})}function Yf(l,p,_,D,N,k,G){l.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+N+"]: "+p+`
`+_+`
`+k+" "+G})}function tr(l,p,_,D){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zt(l,_)+(D?" "+D:"")})}function Jf(l,p){l.info(function(){return"TIMEOUT: "+p})}Us.prototype.info=function(){};function Zt(l,p){if(!l.g)return p;if(!p)return null;try{let k=JSON.parse(p);if(k){for(l=0;l<k.length;l++)if(Array.isArray(k[l])){var _=k[l];if(!(_.length<2)){var D=_[1];if(Array.isArray(D)&&!(D.length<1)){var N=D[0];if(N!="noop"&&N!="stop"&&N!="close")for(let G=1;G<D.length;G++)D[G]=""}}}}return xs(k)}catch{return p}}var Yo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},js={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bs;function $l(){}m($l,Kf),$l.prototype.g=function(){return new XMLHttpRequest},Bs=new $l;function Jo(l){return encodeURIComponent(String(l))}function $s(l){var p=1;l=l.split(":");let _=[];for(;p>0&&l.length;)_.push(l.shift()),p--;return l.length&&_.push(l.join(":")),_}function Jr(l,p,_,D){this.j=l,this.i=p,this.l=_,this.S=D||1,this.V=new ji(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xf}function Xf(){this.i=null,this.g="",this.h=!1}var Xo={},Fc={};function Zo(l,p,_){l.M=1,l.A=ra($n(p)),l.u=_,l.R=!0,ea(l,null)}function ea(l,p){l.F=Date.now(),Hs(l),l.B=$n(l.A);var _=l.B,D=l.S;Array.isArray(D)||(D=[String(D)]),ip(_.i,"t",D),l.C=0,_=l.j.L,l.h=new Xf,l.g=Qc(l.j,_?p:null,!l.u),l.P>0&&(l.O=new jl(d(l.Y,l,l.g),l.P)),p=l.V,_=l.g,D=l.ba;var N="readystatechange";Array.isArray(N)||(N&&(Ut[0]=N.toString()),N=Ut);for(let k=0;k<N.length;k++){let G=Xt(_,N[k],D||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=l.J?In(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Vs(),Oc(l.i,l.v,l.B,l.l,l.S,l.u)}Jr.prototype.ba=function(l){l=l.target;let p=this.O;p&&Ve(l)==3?p.j():this.Y(l)},Jr.prototype.Y=function(l){try{if(l==this.g)e:{let ue=Ve(this.g),u=this.g.ya(),h=this.g.ca();if(!(ue<3)&&(ue!=3||this.g&&(this.h.h||this.g.la()||dp(this.g)))){this.K||ue!=4||u==7||(u==8||h<=0?Vs(3):Vs(2)),Lc(this);var p=this.g.ca();this.X=p;var _=Xr(this);if(this.o=p==200,Yf(this.i,this.v,this.B,this.l,this.S,ue,p),this.o){if(this.U&&!this.L){t:{if(this.g){var D,N=this.g;if((D=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(D)){var k=D;break t}}k=null}if(l=k)tr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zs(this,l);else{this.o=!1,this.m=3,jt(12),$i(this),qs(this);break e}}if(this.R){l=!0;let g;for(;!this.K&&this.C<_.length;)if(g=Zf(this,_),g==Fc){ue==4&&(this.m=4,jt(14),l=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(g==Xo){this.m=4,jt(15),tr(this.i,this.l,_,"[Invalid Chunk]"),l=!1;break}else tr(this.i,this.l,g,null),zs(this,g);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ue!=4||_.length!=0||this.h.h||(this.m=1,jt(16),l=!1),this.o=this.o&&l,!l)tr(this.i,this.l,_,"[Invalid Chunked Response]"),$i(this),qs(this);else if(_.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Gc(G),G.P=!0,jt(11))}}else tr(this.i,this.l,_,null),zs(this,_);ue==4&&$i(this),this.o&&!this.K&&(ue==4?nd(this.j,this):(this.o=!1,Hs(this)))}else bv(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),$i(this),qs(this)}}}catch{}};function Xr(l){if(!Hl(l))return l.g.la();let p=dp(l.g);if(p==="")return"";let _="",D=p.length,N=Ve(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return $i(l),qs(l),"";l.h.i=new o.TextDecoder}for(let k=0;k<D;k++)l.h.h=!0,_+=l.h.i.decode(p[k],{stream:!(N&&k==D-1)});return p.length=0,l.h.g+=_,l.C=0,l.h.g}function Hl(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Zf(l,p){var _=l.C,D=p.indexOf(`
`,_);return D==-1?Fc:(_=Number(p.substring(_,D)),isNaN(_)?Xo:(D+=1,D+_>p.length?Fc:(p=p.slice(D,D+_),l.C=D+_,p)))}Jr.prototype.cancel=function(){this.K=!0,$i(this)};function Hs(l){l.T=Date.now()+l.H,Vc(l,l.H)}function Vc(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Bn(d(l.aa,l),p)}function Lc(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Jr.prototype.aa=function(){this.D=null;let l=Date.now();l-this.T>=0?(Jf(this.i,this.B),this.M!=2&&(Vs(),jt(17)),$i(this),this.m=2,qs(this)):Vc(this,this.T-l)};function qs(l){l.j.I==0||l.K||nd(l.j,l)}function $i(l){Lc(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,qt(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function zs(l,p){try{var _=l.j;if(_.I!=0&&(_.g==l||ta(_.h,l))){if(!l.L&&ta(_.h,l)&&_.I==3){try{var D=_.Ba.g.parse(p)}catch{D=null}if(Array.isArray(D)&&D.length==3){var N=D;if(N[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<l.F)Wc(_),Hi(_);else break e;Zs(_),jt(18)}}else _.xa=N[1],0<_.xa-_.K&&N[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Bn(d(_.Va,_),6e3));Zr(_.h)<=1&&_.ta&&(_.ta=void 0)}else ti(_,11)}else if((l.L||_.g==l)&&Wc(_),!v(p))for(N=_.Ba.g.parse(p),p=0;p<N.length;p++){let h=N[p],g=h[0];if(!(g<=_.K))if(_.K=g,h=h[1],_.I==2)if(h[0]=="c"){_.M=h[1],_.ba=h[2];let C=h[3];C!=null&&(_.ka=C,_.j.info("VER="+_.ka));let P=h[4];P!=null&&(_.za=P,_.j.info("SVER="+_.za));let O=h[5];O!=null&&typeof O=="number"&&O>0&&(D=1.5*O,_.O=D,_.j.info("backChannelRequestTimeoutMs_="+D)),D=_;let z=l.g;if(z){let ke=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ke){var k=D.h;k.g||ke.indexOf("spdy")==-1&&ke.indexOf("quic")==-1&&ke.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ql(k,k.h),k.h=null))}if(D.G){let Et=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;Et&&(D.wa=Et,Ye(D.J,D.G,Et))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-l.F,_.j.info("Handshake RTT: "+_.T+"ms")),D=_;var G=l;if(D.na=Kc(D,D.L?D.ba:null,D.W),G.L){zl(D.h,G);var ue=G,u=D.O;u&&(ue.H=u),ue.D&&(Lc(ue),Hs(ue)),D.g=G}else zc(D);_.i.length>0&&Sn(_)}else h[0]!="stop"&&h[0]!="close"||ti(_,7);else _.I==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?ti(_,7):qc(_):h[0]!="noop"&&_.l&&_.l.qa(h),_.A=0)}}Vs(4)}catch{}}var ep=class{constructor(l,p){this.g=l,this.map=p}};function Uc(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gs(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Zr(l){return l.h?1:l.g?l.g.size:0}function ta(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function ql(l,p){l.g?l.g.add(p):l.h=p}function zl(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Uc.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Gl(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(let _ of l.g.values())p=p.concat(_.G);return p}return A(l.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kl(l,p){if(l){l=l.split("&");for(let _=0;_<l.length;_++){let D=l[_].indexOf("="),N,k=null;D>=0?(N=l[_].substring(0,D),k=l[_].substring(D+1)):N=l[_],p(N,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function nr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof nr?(this.l=l.l,Ws(this,l.j),this.o=l.o,this.g=l.g,na(this,l.u),this.h=l.h,Ql(this,sp(l.i)),this.m=l.m):l&&(p=String(l).match(Wl))?(this.l=!1,Ws(this,p[1]||"",!0),this.o=ia(p[2]||""),this.g=ia(p[3]||"",!0),na(this,p[4]),this.h=ia(p[5]||"",!0),Ql(this,p[6]||"",!0),this.m=ia(p[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}nr.prototype.toString=function(){let l=[];var p=this.j;p&&l.push(Hn(p,sa,!0),":");var _=this.g;return(_||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Hn(p,sa,!0),"@"),l.push(Jo(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&l.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(Hn(_,_.charAt(0)=="/"?tp:jc,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",Hn(_,Bc)),l.join("")},nr.prototype.resolve=function(l){let p=$n(this),_=!!l.j;_?Ws(p,l.j):_=!!l.o,_?p.o=l.o:_=!!l.g,_?p.g=l.g:_=l.u!=null;var D=l.h;if(_)na(p,l.u);else if(_=!!l.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var N=p.h.lastIndexOf("/");N!=-1&&(D=p.h.slice(0,N+1)+D)}if(N=D,N==".."||N==".")D="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){D=N.lastIndexOf("/",0)==0,N=N.split("/");let k=[];for(let G=0;G<N.length;){let ue=N[G++];ue=="."?D&&G==N.length&&k.push(""):ue==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),D&&G==N.length&&k.push("")):(k.push(ue),D=!0)}D=k.join("/")}else D=N}return _?p.h=D:_=l.i.toString()!=="",_?Ql(p,sp(l.i)):_=!!l.m,_&&(p.m=l.m),p};function $n(l){return new nr(l)}function Ws(l,p,_){l.j=_?ia(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function na(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Ql(l,p,_){p instanceof wr?(l.i=p,oa(l.i,l.l)):(_||(p=Hn(p,tt)),l.i=new wr(p,l.l))}function Ye(l,p,_){l.i.set(p,_)}function ra(l){return Ye(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function ia(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Hn(l,p,_){return typeof l=="string"?(l=encodeURI(l).replace(p,Er),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Er(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var sa=/[#\/\?@]/g,jc=/[#\?:]/g,tp=/[#\?]/g,tt=/[#\?@]/g,Bc=/#/g;function wr(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function qn(l){l.g||(l.g=new Map,l.h=0,l.i&&Kl(l.i,function(p,_){l.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}n=wr.prototype,n.add=function(l,p){qn(this),this.i=null,l=Ks(this,l);let _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(p),this.h+=1,this};function np(l,p){qn(l),p=Ks(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Yl(l,p){return qn(l),p=Ks(l,p),l.g.has(p)}n.forEach=function(l,p){qn(this),this.g.forEach(function(_,D){_.forEach(function(N){l.call(p,N,D,this)},this)},this)};function rp(l,p){qn(l);let _=[];if(typeof p=="string")Yl(l,p)&&(_=_.concat(l.g.get(Ks(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)_=_.concat(l[p]);return _}n.set=function(l,p){return qn(this),this.i=null,l=Ks(this,l),Yl(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},n.get=function(l,p){return l?(l=rp(this,l),l.length>0?String(l[0]):p):p};function ip(l,p,_){np(l,p),_.length>0&&(l.i=null,l.g.set(Ks(l,p),A(_)),l.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],p=Array.from(this.g.keys());for(let D=0;D<p.length;D++){var _=p[D];let N=Jo(_);_=rp(this,_);for(let k=0;k<_.length;k++){let G=N;_[k]!==""&&(G+="="+Jo(_[k])),l.push(G)}}return this.i=l.join("&")};function sp(l){let p=new wr;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Ks(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function oa(l,p){p&&!l.j&&(qn(l),l.i=null,l.g.forEach(function(_,D){let N=D.toLowerCase();D!=N&&(np(this,D),ip(this,N,_))},l)),l.j=p}function ei(l,p){let _=new Us;if(o.Image){let D=new Image;D.onload=f(Ir,_,"TestLoadImage: loaded",!0,p,D),D.onerror=f(Ir,_,"TestLoadImage: error",!1,p,D),D.onabort=f(Ir,_,"TestLoadImage: abort",!1,p,D),D.ontimeout=f(Ir,_,"TestLoadImage: timeout",!1,p,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=l}else p(!1)}function op(l,p){let _=new Us,D=new AbortController,N=setTimeout(()=>{D.abort(),Ir(_,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:D.signal}).then(k=>{clearTimeout(N),k.ok?Ir(_,"TestPingServer: ok",!0,p):Ir(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(N),Ir(_,"TestPingServer: error",!1,p)})}function Ir(l,p,_,D,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),D(_)}catch{}}function ap(){this.g=new Wf}function Tr(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Tr,Kf),Tr.prototype.g=function(){return new $c(this.i,this.h)};function $c(l,p){Vt.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m($c,Vt),n=$c.prototype,n.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Dn(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=0},n.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cp(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function cp(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}n.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?aa(this):Dn(this),this.readyState==3&&cp(this)}},n.Oa=function(l){this.g&&(this.response=this.responseText=l,aa(this))},n.Na=function(l){this.g&&(this.response=l,aa(this))},n.ga=function(){this.g&&aa(this)};function aa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Dn(l)}n.setRequestHeader=function(l,p){this.A.append(l,p)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=p.next();return l.join(`\r
`)};function Dn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function up(l){let p="";return we(l,function(_,D){p+=D,p+=":",p+=_,p+=`\r
`}),p}function Jl(l,p,_){e:{for(D in _){var D=!1;break e}D=!0}D||(_=up(_),typeof l=="string"?_!=null&&Jo(_):Ye(l,p,_))}function Je(l){Vt.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Je,Vt);var Hc=/^https?$/i,lp=["POST","PUT"];n=Je.prototype,n.Fa=function(l){this.H=l},n.ea=function(l,p,_,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bs.g(),this.g.onreadystatechange=w(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(k){Qs(this,k);return}if(l=_||"",_=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var N in D)_.set(N,D[N]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(let k of D.keys())_.set(k,D.get(k));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(_.keys()).find(k=>k.toLowerCase()=="content-type"),N=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(lp,p,void 0)>=0)||D||N||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,G]of _)this.g.setRequestHeader(k,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(k){Qs(this,k)}};function Qs(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Ys(l),Js(l)}function Ys(l){l.A||(l.A=!0,Lt(l,"complete"),Lt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Lt(this,"complete"),Lt(this,"abort"),Js(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Js(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Xl(this):this.Xa())},n.Xa=function(){Xl(this)};function Xl(l){if(l.h&&typeof s<"u"){if(l.v&&Ve(l)==4)setTimeout(l.Ca.bind(l),0);else if(Lt(l,"readystatechange"),Ve(l)==4){l.h=!1;try{let k=l.ca();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var D;if(D=k===0){let G=String(l.D).match(Wl)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),D=!Hc.test(G?G.toLowerCase():"")}_=D}if(_)Lt(l,"complete"),Lt(l,"success");else{l.o=6;try{var N=Ve(l)>2?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.ca()+"]",Ys(l)}}finally{Js(l)}}}}function Js(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);let _=l.g;l.g=null,p||Lt(l,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ve(l){return l.g?l.g.readyState:0}n.ca=function(){try{return Ve(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Gf(p)}};function dp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function bv(l){let p={};l=(l.g&&Ve(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<l.length;D++){if(v(l[D]))continue;var _=$s(l[D]);let N=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let k=p[N]||[];p[N]=k,k.push(_)}pt(p,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(l,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||p}function Zl(l){this.za=0,this.i=[],this.j=new Us,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xs("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xs("baseRetryDelayMs",5e3,l),this.Za=Xs("retryDelaySeedMs",1e4,l),this.Ta=Xs("forwardChannelMaxRetries",2,l),this.va=Xs("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Uc(l&&l.concurrentRequestLimit),this.Ba=new ap,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zl.prototype,n.ka=8,n.I=1,n.connect=function(l,p,_,D){jt(0),this.W=l,this.H=p||{},_&&D!==void 0&&(this.H.OSID=_,this.H.OAID=D),this.F=this.X,this.J=Kc(this,null,this.W),Sn(this)};function qc(l){if(ed(l),l.I==3){var p=l.V++,_=$n(l.J);if(Ye(_,"SID",l.M),Ye(_,"RID",p),Ye(_,"TYPE","terminate"),br(l,_),p=new Jr(l,l.j,p),p.M=2,p.A=ra($n(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=p.A,_=!0),_||(p.g=Qc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Hs(p)}rd(l)}function Hi(l){l.g&&(Gc(l),l.g.cancel(),l.g=null)}function ed(l){Hi(l),l.v&&(o.clearTimeout(l.v),l.v=null),Wc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Sn(l){if(!Gs(l.h)&&!l.m){l.m=!0;var p=l.Ea;Fe||y(),ce||(Fe(),ce=!0),I.add(p,l),l.D=0}}function hp(l,p){return Zr(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Bn(d(l.Ea,l,p),eo(l,l.D)),l.D++,!0)}n.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;let N=new Jr(this,this.j,l),k=this.o;if(this.U&&(k?(k=In(k),Qe(k,this.U)):k=this.U),this.u!==null||this.R||(N.J=k,k=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var D=this.i[_];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(p+=D,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=td(this,N,p),_=$n(this.J),Ye(_,"RID",l),Ye(_,"CVER",22),this.G&&Ye(_,"X-HTTP-Session-Id",this.G),br(this,_),k&&(this.R?p="headers="+Jo(up(k))+"&"+p:this.u&&Jl(_,this.u,k)),ql(this.h,N),this.Ra&&Ye(_,"TYPE","init"),this.S?(Ye(_,"$req",p),Ye(_,"SID","null"),N.U=!0,Zo(N,_,null)):Zo(N,_,p),this.I=2}}else this.I==3&&(l?fp(this,l):this.i.length==0||Gs(this.h)||fp(this))};function fp(l,p){var _;p?_=p.l:_=l.V++;let D=$n(l.J);Ye(D,"SID",l.M),Ye(D,"RID",_),Ye(D,"AID",l.K),br(l,D),l.u&&l.o&&Jl(D,l.u,l.o),_=new Jr(l,l.j,_,l.D+1),l.u===null&&(_.J=l.o),p&&(l.i=p.G.concat(l.i)),p=td(l,_,1e3),_.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),ql(l.h,_),Zo(_,D,p)}function br(l,p){l.H&&we(l.H,function(_,D){Ye(p,D,_)}),l.l&&we({},function(_,D){Ye(p,D,_)})}function td(l,p,_){_=Math.min(l.i.length,_);let D=l.l?d(l.l.Ka,l.l,l):null;e:{var N=l.i;let ue=-1;for(;;){let u=["count="+_];ue==-1?_>0?(ue=N[0].g,u.push("ofs="+ue)):ue=0:u.push("ofs="+ue);let h=!0;for(let g=0;g<_;g++){var k=N[g].g;let C=N[g].map;if(k-=ue,k<0)ue=Math.max(0,N[g].g-100),h=!1;else try{k="req"+k+"_"||"";try{var G=C instanceof Map?C:Object.entries(C);for(let[P,O]of G){let z=O;a(O)&&(z=xs(O)),u.push(k+P+"="+encodeURIComponent(z))}}catch(P){throw u.push(k+"type="+encodeURIComponent("_badmap")),P}}catch{D&&D(C)}}if(h){G=u.join("&");break e}}G=void 0}return l=l.i.splice(0,_),p.G=l,G}function zc(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;Fe||y(),ce||(Fe(),ce=!0),I.add(p,l),l.A=0}}function Zs(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Bn(d(l.Da,l),eo(l,l.A)),l.A++,!0)}n.Da=function(){if(this.v=null,ca(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Bn(d(this.Wa,this),l)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Hi(this),ca(this))};function Gc(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function ca(l){l.g=new Jr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=$n(l.na);Ye(p,"RID","rpc"),Ye(p,"SID",l.M),Ye(p,"AID",l.K),Ye(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ye(p,"TO",l.ia),Ye(p,"TYPE","xmlhttp"),br(l,p),l.u&&l.o&&Jl(p,l.u,l.o),l.O&&(l.g.H=l.O);var _=l.g;l=l.ba,_.M=1,_.A=ra($n(p)),_.u=null,_.R=!0,ea(_,l)}n.Va=function(){this.C!=null&&(this.C=null,Hi(this),Zs(this),jt(19))};function Wc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function nd(l,p){var _=null;if(l.g==p){Wc(l),Gc(l),l.g=null;var D=2}else if(ta(l.h,p))_=p.G,zl(l.h,p),D=1;else return;if(l.I!=0){if(p.o)if(D==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var N=l.D;D=Fs(),Lt(D,new kc(D,_)),Sn(l)}else zc(l);else if(N=p.m,N==3||N==0&&p.X>0||!(D==1&&hp(l,p)||D==2&&Zs(l)))switch(_&&_.length>0&&(p=l.h,p.i=p.i.concat(_)),N){case 1:ti(l,5);break;case 4:ti(l,10);break;case 3:ti(l,6);break;default:ti(l,2)}}}function eo(l,p){let _=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(_*=2),_*p}function ti(l,p){if(l.j.info("Error code "+p),p==2){var _=d(l.bb,l),D=l.Ua;let N=!D;D=new nr(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ws(D,"https"),ra(D),N?ei(D.toString(),_):op(D.toString(),_)}else jt(2);l.I=0,l.l&&l.l.pa(p),rd(l),ed(l)}n.bb=function(l){l?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function rd(l){if(l.I=0,l.ja=[],l.l){let p=Gl(l.h);(p.length!=0||l.i.length!=0)&&(R(l.ja,p),R(l.ja,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.oa()}}function Kc(l,p,_){var D=_ instanceof nr?$n(_):new nr(_);if(D.g!="")p&&(D.g=p+"."+D.g),na(D,D.u);else{var N=o.location;D=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;let k=new nr(null);D&&Ws(k,D),p&&(k.g=p),N&&na(k,N),_&&(k.h=_),D=k}return _=l.G,p=l.wa,_&&p&&Ye(D,_,p),Ye(D,"VER",l.ka),br(l,D),D}function Qc(l,p,_){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new Je(new Tr({ab:_})):new Je(l.ma),p.Fa(l.L),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function id(){}n=id.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function qi(){}qi.prototype.g=function(l,p){return new dn(l,p)};function dn(l,p){Vt.call(this),this.g=new Zl(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!v(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new zi(this)}m(dn,Vt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){qc(this.g)},dn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.v&&(_={},_.__data__=xs(l),l=_);p.i.push(new ep(p.Ya++,l)),p.I==3&&Sn(p)},dn.prototype.N=function(){this.g.l=null,delete this.j,qc(this.g),delete this.g,dn.Z.N.call(this)};function sd(l){xc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(let _ in p){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}m(sd,xc);function ni(){Qo.call(this),this.status=1}m(ni,Qo);function zi(l){this.g=l}m(zi,id),zi.prototype.ra=function(){Lt(this.g,"a")},zi.prototype.qa=function(l){Lt(this.g,new sd(l))},zi.prototype.pa=function(l){Lt(this.g,new ni)},zi.prototype.oa=function(){Lt(this.g,"b")},qi.prototype.createWebChannel=qi.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,I0=_s.createWebChannelTransport=function(){return new qi},w0=_s.getStatEventTarget=function(){return Fs()},E0=_s.Event=Bi,qy=_s.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,of=_s.ErrorCode=Yo,js.COMPLETE="complete",v0=_s.EventType=js,ks.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Ju=_s.WebChannel=ks,E8=_s.FetchXmlHttpFactory=Tr,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,_0=_s.XhrIo=Je}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var Kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");var vl="12.8.0";function bO(n){vl=n}var lc=new Qu("@firebase/firestore");function Xu(){return lc.logLevel}function Y(n,...e){if(lc.logLevel<=Re.DEBUG){let t=e.map(eD);lc.debug(`Firestore (${vl}): ${n}`,...t)}}function Is(n,...e){if(lc.logLevel<=Re.ERROR){let t=e.map(eD);lc.error(`Firestore (${vl}): ${n}`,...t)}}function Uo(n,...e){if(lc.logLevel<=Re.WARN){let t=e.map(eD);lc.warn(`Firestore (${vl}): ${n}`,...t)}}function eD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CO(n,r,t)}function CO(n,e,t){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Is(r),new Error(r)}function We(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||CO(e,i,r)}function me(n,e){return n}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends hs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vs=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Jy=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}},A0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Zy=class{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vs,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vs)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new Jy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}},R0=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},N0=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new R0(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},e_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},t_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);let r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new e_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function w8(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var dc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=w8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function De(n,e){return n<e?-1:n>e?1:0}function P0(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),s=e.charAt(r);if(i!==s)return T0(i)===T0(s)?De(i,s):T0(i)?1:-1}return De(n.length,e.length)}var I8=55296,T8=57343;function T0(n){let e=n.charCodeAt(0);return e>=I8&&e<=T8}function sl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Lk="__name__",n_=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return De(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):P0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}},ft=class n extends n_{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},b8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ln=class n extends n_{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return b8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lk}static keyField(){return new n([Lk])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(ft.fromString(e))}static fromName(e){return new n(ft.fromString(e).popFirst(5))}static empty(){return new n(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ft(e.slice()))}};function DO(n,e,t){if(!t)throw new Z($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SO(n,e,t,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Uk(n){if(!ie.isDocumentKey(n))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jk(n){if(ie.isDocumentKey(n))throw new Z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AO(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function M_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se(12329,{type:typeof n})}function Fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=M_(n);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Tt(n,e){let t={typeString:n};return e&&(t.value=e),t}function El(n,e){if(!AO(n))throw new Z($.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Z($.INVALID_ARGUMENT,t);return!0}var Bk=-62135596800,$k=1e6,bt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$k);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bk)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$k}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(El(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Bk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Tt("string",bt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};var Ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new bt(0,0))}static max(){return new n(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hf=-1,r_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};r_.UNKNOWN_ID=-1;function C8(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new hc(i,ie.empty(),e)}function D8(n){return new hc(n.readTime,n.key,hf)}var hc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ee.min(),ie.empty(),hf)}static max(){return new n(Ee.max(),ie.empty(),hf)}};function S8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}var A8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",M0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function wl(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==A8)throw n;Y("LocalStore","Unexpectedly lost primary lease")}var H=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let d=c;t(e[d]).next(f=>{o[d]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function R8(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Il(n){return n.name==="IndexedDbTransactionError"}var tD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),nD=-1;function x_(n){return n==null}function ff(n){return n===0&&1/n==-1/0}function N8(n){return typeof n=="number"&&Number.isInteger(n)&&!ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var RO="";function P8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hk(e)),e=M8(n.get(t),e);return Hk(e)}function M8(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case RO:t+="";break;default:t+=s}}return t}function Hk(n){return n+RO+""}var x8="remoteDocuments",NO="owner";var PO="mutationQueues";var MO="mutations";var xO="documentMutations",k8="remoteDocumentsV14";var kO="remoteDocumentGlobal";var OO="targets";var FO="targetDocuments";var VO="targetGlobal",LO="collectionParents";var UO="clientMetadata";var jO="bundles";var BO="namedQueries";var O8="indexConfiguration";var F8="indexState";var V8="indexEntries";var $O="documentOverlays";var L8="globals";var U8=[PO,MO,xO,x8,OO,NO,VO,FO,UO,kO,LO,jO,BO],Cge=[...U8,$O],j8=[PO,MO,xO,k8,OO,NO,VO,FO,UO,kO,LO,jO,BO,$O],B8=j8,$8=[...B8,O8,F8,V8];var Dge=[...$8,L8];function qk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ho(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var vt=class n{constructor(e,t){this.comparator=e,this.root=t||Si.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nl(this.root,e,this.comparator,!0)}},nl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Si=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}};Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1;Si.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Si(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qt=class n{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},i_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _r=class n{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new n([])}unionWith(e){let t=new Qt(Ln.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var s_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var un=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new s_("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};un.EMPTY_BYTE_STRING=new un("");var H8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(n){if(We(!!n,39018),typeof n=="string"){let e=0,t=H8.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bs(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}var qO="server_timestamp",zO="__type__",GO="__previous_value__",WO="__local_write_time__";function k_(n){return(n?.mapValue?.fields||{})[zO]?.stringValue===qO}function O_(n){let e=n.mapValue.fields[GO];return k_(e)?O_(e):e}function pf(n){let e=Ts(n.mapValue.fields[WO].timestampValue);return new bt(e.seconds,e.nanos)}var x0=class{constructor(e,t,r,i,s,o,a,c,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f,this.apiKey=m}},o_="(default)",mf=class n{constructor(e,t){this.projectId=e,this.database=t||o_}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===o_}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function KO(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(n.options.projectId,e)}var rD="__type__",QO="__max__",zy={mapValue:{fields:{__type__:{stringValue:QO}}}},iD="__vector__",ol="value";function jo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?k_(n)?4:JO(n)?9007199254740991:YO(n)?10:11:se(28295,{value:n})}function xi(n,e){if(n===e)return!0;let t=jo(n);if(t!==jo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pf(n).isEqual(pf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ts(i.timestampValue),a=Ts(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return bs(i.bytesValue).isEqual(bs(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return ht(i.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return ht(i.integerValue)===ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ht(i.doubleValue),a=ht(s.doubleValue);return o===a?ff(o)===ff(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return sl(n.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(qk(o)!==qk(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!xi(o[c],a[c])))return!1;return!0})(n,e);default:return se(52216,{left:n})}}function gf(n,e){return(n.values||[]).find(t=>xi(t,e))!==void 0}function al(n,e){if(n===e)return 0;let t=jo(n),r=jo(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=ht(s.integerValue||s.doubleValue),c=ht(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return zk(n.timestampValue,e.timestampValue);case 4:return zk(pf(n),pf(e));case 5:return P0(n.stringValue,e.stringValue);case 6:return(function(s,o){let a=bs(s),c=bs(o);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){let f=De(a[d],c[d]);if(f!==0)return f}return De(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=De(ht(s.latitude),ht(o.latitude));return a!==0?a:De(ht(s.longitude),ht(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Gk(n.arrayValue,e.arrayValue);case 10:return(function(s,o){let a=s.fields||{},c=o.fields||{},d=a[ol]?.arrayValue,f=c[ol]?.arrayValue,m=De(d?.values?.length||0,f?.values?.length||0);return m!==0?m:Gk(d,f)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===zy.mapValue&&o===zy.mapValue)return 0;if(s===zy.mapValue)return 1;if(o===zy.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){let w=P0(c[m],f[m]);if(w!==0)return w;let A=al(a[c[m]],d[f[m]]);if(A!==0)return A}return De(c.length,f.length)})(n.mapValue,e.mapValue);default:throw se(23264,{he:t})}}function zk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);let t=Ts(n),r=Ts(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function Gk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=al(t[i],r[i]);if(s)return s}return De(t.length,r.length)}function cl(n){return k0(n)}function k0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Ts(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return bs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=k0(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${k0(t.fields[o])}`;return i+"}"})(n.mapValue):se(61005,{value:n})}function Ky(n){switch(jo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=O_(n);return e?16+Ky(e):16;case 5:return 2*n.stringValue.length;case 6:return bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+Ky(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ho(r.fields,(s,o)=>{i+=s.length+Ky(o)}),i})(n.mapValue);default:throw se(13486,{value:n})}}function O0(n){return!!n&&"integerValue"in n}function sD(n){return!!n&&"arrayValue"in n}function Wk(n){return!!n&&"nullValue"in n}function Kk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qy(n){return!!n&&"mapValue"in n}function YO(n){return(n?.mapValue?.fields||{})[rD]?.stringValue===iD}function uf(n){if(n.geoPointValue)return{geoPointValue:F({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:F({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ho(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(n.arrayValue.values[t]);return e}return F({},n)}function JO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QO}var Age={mapValue:{fields:{[rD]:{stringValue:iD},[ol]:{arrayValue:{}}}}};var Vn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=Ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=uf(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Qy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ho(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(uf(this.value))}};function XO(n){let e=[];return Ho(n.fields,(t,r)=>{let i=new Ln([t]);if(Qy(r)){let s=XO(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new _r(e)}var Wr=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ee.min(),Ee.min(),Ee.min(),Vn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ee.min(),Ee.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ee.min(),Ee.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fc=class{constructor(e,t){this.position=e,this.inclusive=t}};function Qk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),t.key):r=al(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xi(n.position[t],e.position[t]))return!1;return!0}var pc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function q8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var a_=class{},Ot=class n extends a_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new V0(e,t,r):t==="array-contains"?new j0(e,r):t==="in"?new B0(e,r):t==="not-in"?new $0(e,r):t==="array-contains-any"?new H0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new L0(e,r):new U0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(al(t,this.value)):t!==null&&jo(this.value)===jo(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kr=class n extends a_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return ZO(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function ZO(n){return n.op==="and"}function eF(n){return z8(n)&&ZO(n)}function z8(n){for(let e of n.filters)if(e instanceof Kr)return!1;return!0}function F0(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(eF(n))return n.filters.map(e=>F0(e)).join(",");{let e=n.filters.map(t=>F0(t)).join(",");return`${n.op}(${e})`}}function tF(n,e){return n instanceof Ot?(function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&xi(r.value,i.value)})(n,e):n instanceof Kr?(function(r,i){return i instanceof Kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tF(o,i.filters[a]),!0):!1})(n,e):void se(19439)}function nF(n){return n instanceof Ot?(function(t){return`${t.field.canonicalString()} ${t.op} ${cl(t.value)}`})(n):n instanceof Kr?(function(t){return t.op.toString()+" {"+t.getFilters().map(nF).join(" ,")+"}"})(n):"Filter"}var V0=class extends Ot{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},L0=class extends Ot{constructor(e,t){super(e,"in",t),this.keys=rF("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},U0=class extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=rF("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function rF(n,e){return(e.arrayValue?.values||[]).map(t=>ie.fromName(t.referenceValue))}var j0=class extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return sD(t)&&gf(t.arrayValue,this.value)}},B0=class extends Ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&gf(this.value.arrayValue,t)}},$0=class extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gf(this.value.arrayValue,t)}},H0=class extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!sD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gf(this.value.arrayValue,r))}};var q0=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}};function Jk(n,e=null,t=[],r=[],i=null,s=null,o=null){return new q0(n,e,t,r,i,s,o)}function oD(n){let e=me(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>F0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),x_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cl(r)).join(",")),e.Te=t}return e.Te}function aD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!q8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yk(n.startAt,e.startAt)&&Yk(n.endAt,e.endAt)}function z0(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ul=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function G8(n,e,t,r,i,s,o,a){return new ul(n,e,t,r,i,s,o,a)}function F_(n){return new ul(n)}function Xk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function W8(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function iF(n){return n.collectionGroup!==null}function rl(n){let e=me(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qt(Ln.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new pc(s,r))}),t.has(Ln.keyField().canonicalString())||e.Ie.push(new pc(Ln.keyField(),r))}return e.Ie}function Ai(n){let e=me(n);return e.Ee||(e.Ee=K8(e,rl(n))),e.Ee}function K8(n,e){if(n.limitType==="F")return Jk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new pc(i.field,s)});let t=n.endAt?new fc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fc(n.startAt.position,n.startAt.inclusive):null;return Jk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function c_(n,e,t){return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function V_(n,e){return aD(Ai(n),Ai(e))&&n.limitType===e.limitType}function sF(n){return`${oD(Ai(n))}|lt:${n.limitType}`}function Zu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nF(i)).join(", ")}]`),x_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cl(i)).join(",")),`Target(${r})`})(Ai(n))}; limitType=${n.limitType})`}function L_(n,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(let s of rl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let d=Qk(o,a,c);return o.inclusive?d<=0:d<0})(r.startAt,rl(r),i)||r.endAt&&!(function(o,a,c){let d=Qk(o,a,c);return o.inclusive?d>=0:d>0})(r.endAt,rl(r),i))})(n,e)}function Q8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oF(n){return(e,t)=>{let r=!1;for(let i of rl(n)){let s=Y8(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Y8(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):(function(s,o,a){let c=o.data.field(s),d=a.data.field(s);return c!==null&&d!==null?al(c,d):se(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:n.dir})}}var Cs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return HO(this.inner)}size(){return this.innerSize}};var J8=new vt(ie.comparator);function Ds(){return J8}var aF=new vt(ie.comparator);function cf(...n){let e=aF;for(let t of n)e=e.insert(t.key,t);return e}function cF(n){let e=aF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function cc(){return lf()}function uF(){return lf()}function lf(){return new Cs(n=>n.toString(),(n,e)=>n.isEqual(e))}var X8=new vt(ie.comparator),Z8=new Qt(ie.comparator);function Ce(...n){let e=Z8;for(let t of n)e=e.add(t);return e}var eW=new Qt(De);function tW(){return eW}function cD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function lF(n){return{integerValue:""+n}}function nW(n,e){return N8(e)?lF(e):cD(n,e)}var ll=class{constructor(){this._=void 0}};function rW(n,e,t){return n instanceof dl?(function(i,s){let o={fields:{[zO]:{stringValue:qO},[WO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&k_(s)&&(s=O_(s)),s&&(o.fields[GO]=s),{mapValue:o}})(t,e):n instanceof mc?hF(n,e):n instanceof gc?fF(n,e):(function(i,s){let o=dF(i,s),a=Zk(o)+Zk(i.Ae);return O0(o)&&O0(i.Ae)?lF(a):cD(i.serializer,a)})(n,e)}function iW(n,e,t){return n instanceof mc?hF(n,e):n instanceof gc?fF(n,e):t}function dF(n,e){return n instanceof hl?(function(r){return O0(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var dl=class extends ll{},mc=class extends ll{constructor(e){super(),this.elements=e}};function hF(n,e){let t=pF(e);for(let r of n.elements)t.some(i=>xi(i,r))||t.push(r);return{arrayValue:{values:t}}}var gc=class extends ll{constructor(e){super(),this.elements=e}};function fF(n,e){let t=pF(e);for(let r of n.elements)t=t.filter(i=>!xi(i,r));return{arrayValue:{values:t}}}var hl=class extends ll{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function Zk(n){return ht(n.integerValue||n.doubleValue)}function pF(n){return sD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function sW(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof mc&&i instanceof mc||r instanceof gc&&i instanceof gc?sl(r.elements,i.elements,xi):r instanceof hl&&i instanceof hl?xi(r.Ae,i.Ae):r instanceof dl&&i instanceof dl})(n.transform,e.transform)}var G0=class{constructor(e,t){this.version=e,this.transformResults=t}},Ri=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var fl=class{};function mF(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pl(n.key,Ri.none()):new yc(n.key,n.data,Ri.none());{let t=n.data,r=Vn.empty(),i=new Qt(Ln.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ki(n.key,r,new _r(i.toArray()),Ri.none())}}function oW(n,e,t){n instanceof yc?(function(i,s,o){let a=i.value.clone(),c=tO(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof ki?(function(i,s,o){if(!Yy(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=tO(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(gF(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function df(n,e,t,r){return n instanceof yc?(function(s,o,a,c){if(!Yy(s.precondition,o))return a;let d=s.value.clone(),f=nO(s.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof ki?(function(s,o,a,c){if(!Yy(s.precondition,o))return a;let d=nO(s.fieldTransforms,c,o),f=o.data;return f.setAll(gF(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))})(n,e,t,r):(function(s,o,a){return Yy(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function aW(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=dF(r.transform,i||null);s!=null&&(t===null&&(t=Vn.empty()),t.set(r.field,s))}return t||null}function eO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sl(r,i,(s,o)=>sW(s,o))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var yc=class extends fl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ki=class extends fl{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function gF(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function tO(n,e,t){let r=new Map;We(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,iW(o,a,t[i]))}return r}function nO(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,rW(s,o,e))}return r}var pl=class extends fl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},W0=class extends fl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var K0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&oW(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=df(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=df(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=uF();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=mF(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(t,r)=>eO(t,r))&&sl(this.baseMutations,e.baseMutations,(t,r)=>eO(t,r))}},Q0=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return X8})(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Y0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var J0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var xt,Ne;function cW(n){switch(n){case $.OK:return se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return se(15467,{code:n})}}function yF(n){if(n===void 0)return Is("GRPC error has no .code"),$.UNKNOWN;switch(n){case xt.OK:return $.OK;case xt.CANCELLED:return $.CANCELLED;case xt.UNKNOWN:return $.UNKNOWN;case xt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case xt.INTERNAL:return $.INTERNAL;case xt.UNAVAILABLE:return $.UNAVAILABLE;case xt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case xt.NOT_FOUND:return $.NOT_FOUND;case xt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case xt.ABORTED:return $.ABORTED;case xt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case xt.DATA_LOSS:return $.DATA_LOSS;default:return se(39323,{code:n})}}(Ne=xt||(xt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";var uW=null;function lW(){return new TextEncoder}var dW=new ys([4294967295,4294967295],0);function rO(n){let e=lW().encode(n),t=new y0;return t.update(e),new Uint8Array(t.digest())}function iO(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ys([t,r],0),new ys([i,s],0)]}var X0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new uc(`Invalid padding: ${t}`);if(r<0)throw new uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new uc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ys.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(ys.fromNumber(r)));return i.compare(dW)===1&&(i=new ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=rO(e),[r,i]=iO(t);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;let t=rO(e),[r,i]=iO(t);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);this.be(o)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},uc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var u_=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ee.min(),i,new vt(De),Ds(),Ce())}},yf=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ce(),Ce(),Ce())}};var il=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}},l_=class{constructor(e,t){this.targetId=e,this.Ce=t}},d_=class{constructor(e,t,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},h_=class{constructor(){this.ve=0,this.Fe=sO(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),t=Ce(),r=Ce();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new yf(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=sO()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},Z0=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.He=Gy(),this.Je=Gy(),this.Ze=new vt(De)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let s=i.target;if(z0(s))if(r===0){let o=new ie(s.path);this.et(t,o,Wr.newNoDocument(o,Ee.min()))}else We(r===1,20013,{expectedCount:r});else{let o=this._t(t);if(o!==r){let a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(t);let d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}uW?.lt((function(f,m,w,A,R){let M={localCacheCount:f,existenceFilterCount:m.count,databaseId:w.database,projectId:w.projectId},x=m.unchangedNames;return x&&(M.bloomFilter={applied:R===0,hashCount:x?.hashCount??0,bitmapLength:x?.bits?.bitmap?.length??0,padding:x?.bits?.padding??0,mightContain:j=>A?.mightContain(j)??!1}),M})(o,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=bs(r).toUint8Array()}catch(c){if(c instanceof s_)return Uo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new X0(o,i,s)}catch(c){return Uo(c instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(t,s,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((s,o)=>{let a=this.ot(o);if(a){if(s.current&&z0(a.target)){let c=new ie(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Wr.newNoDocument(c,e))}s.Be&&(t.set(o,s.ke()),s.Ke())}});let r=Ce();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));let i=new u_(e,t,this.Ze,this.je,r);return this.je=Ds(),this.He=Gy(),this.Je=Gy(),this.Ze=new vt(De),i}Ye(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new h_,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Qt(De),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Qt(De),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Gy(){return new vt(ie.comparator)}function sO(){return new vt(ie.comparator)}var hW={asc:"ASCENDING",desc:"DESCENDING"},fW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pW={and:"AND",or:"OR"},eC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function tC(n,e){return n.useProto3Json||x_(e)?e:{value:e}}function f_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _F(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mW(n,e){return f_(n,e.toTimestamp())}function Ni(n){return We(!!n,49232),Ee.fromTimestamp((function(t){let r=Ts(t);return new bt(r.seconds,r.nanos)})(n))}function uD(n,e){return nC(n,e).canonicalString()}function nC(n,e){let t=(function(i){return new ft(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function vF(n){let e=ft.fromString(n);return We(bF(e),10190,{key:e.toString()}),e}function rC(n,e){return uD(n.databaseId,e.path)}function b0(n,e){let t=vF(e);if(t.get(1)!==n.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(wF(t))}function EF(n,e){return uD(n.databaseId,e)}function gW(n){let e=vF(n);return e.length===4?ft.emptyPath():wF(e)}function iC(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wF(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oO(n,e,t){return{name:rC(n,e),fields:t.value.mapValue.fields}}function yW(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(We(f===void 0||typeof f=="string",58123),un.fromBase64String(f||"")):(We(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),un.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(d){let f=d.code===void 0?$.UNKNOWN:yF(d.code);return new Z(f,d.message||"")})(o);t=new d_(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=b0(n,r.document.name),s=Ni(r.document.updateTime),o=r.document.createTime?Ni(r.document.createTime):Ee.min(),a=new Vn({mapValue:{fields:r.document.fields}}),c=Wr.newFoundDocument(i,s,o,a),d=r.targetIds||[],f=r.removedTargetIds||[];t=new il(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=b0(n,r.document),s=r.readTime?Ni(r.readTime):Ee.min(),o=Wr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new il([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=b0(n,r.document),s=r.removedTargetIds||[];t=new il([],s,i,null)}else{if(!("filter"in e))return se(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new J0(i,s),a=r.targetId;t=new l_(a,o)}}return t}function _W(n,e){let t;if(e instanceof yc)t={update:oO(n,e.key,e.value)};else if(e instanceof pl)t={delete:rC(n,e.key)};else if(e instanceof ki)t={update:oO(n,e.key,e.data),updateMask:SW(e.fieldMask)};else{if(!(e instanceof W0))return se(16599,{dt:e.type});t={verify:rC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(s,o){let a=o.transform;if(a instanceof dl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hl)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:mW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)})(n,e.precondition)),t}function vW(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>(function(i,s){let o=i.updateTime?Ni(i.updateTime):Ni(s);return o.isEqual(Ee.min())&&(o=Ni(s)),new G0(o,i.transformResults||[])})(t,e))):[]}function EW(n,e){return{documents:[EF(n,e.path)]}}function wW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=EF(n,i);let s=(function(d){if(d.length!==0)return TF(Kr.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);let o=(function(d){if(d.length!==0)return d.map(f=>(function(w){return{field:el(w.field),direction:bW(w.dir)}})(f))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=tC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function IW(n){let e=gW(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){We(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(m){let w=IF(m);return w instanceof Kr&&eF(w)?w.getFilters():[w]})(t.where));let o=[];t.orderBy&&(o=(function(m){return m.map(w=>(function(R){return new pc(tl(R.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w))})(t.orderBy));let a=null;t.limit&&(a=(function(m){let w;return w=typeof m=="object"?m.value:m,x_(w)?null:w})(t.limit));let c=null;t.startAt&&(c=(function(m){let w=!!m.before,A=m.values||[];return new fc(A,w)})(t.startAt));let d=null;return t.endAt&&(d=(function(m){let w=!m.before,A=m.values||[];return new fc(A,w)})(t.endAt)),G8(e,i,o,s,a,"F",c,d)}function TW(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IF(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=tl(t.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=tl(t.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=tl(t.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=tl(t.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ot.create(tl(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Kr.create(t.compositeFilter.filters.map(r=>IF(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}})(t.compositeFilter.op))})(n):se(30097,{filter:n})}function bW(n){return hW[n]}function CW(n){return fW[n]}function DW(n){return pW[n]}function el(n){return{fieldPath:n.canonicalString()}}function tl(n){return Ln.fromServerFormat(n.fieldPath)}function TF(n){return n instanceof Ot?(function(t){if(t.op==="=="){if(Kk(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(Wk(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Kk(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(Wk(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:CW(t.op),value:t.value}}})(n):n instanceof Kr?(function(t){let r=t.getFilters().map(i=>TF(i));return r.length===1?r[0]:{compositeFilter:{op:DW(t.op),filters:r}}})(n):se(54877,{filter:n})}function SW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function CF(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}var _f=class n{constructor(e,t,r,i,s=Ee.min(),o=Ee.min(),a=un.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var sC=class{constructor(e){this.yt=e}};function DF(n){let e=IW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?c_(e,e.limit,"L"):e}var p_=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ht(e.integerValue));else if("doubleValue"in e){let r=ht(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),ff(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Ts(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(bs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?JO(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):YO(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):se(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=ol,s=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ht(s)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ie.fromName(e).path.forEach(r=>{this.Ft(t,60),this.$t(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};p_.Wt=new p_;var oC=class{constructor(){this.Sn=new aC}addToCollectionParentIndex(e,t){return this.Sn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(hc.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(hc.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}},aC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qt(ft.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qt(ft.comparator)).toArray()}};var Rge=new Uint8Array(0);var aO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SF=41943040,yr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(SF,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);var vf=class n{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new n(0)}static ar(){return new n(-1)}};var cO="LruGarbageCollector",AW=1048576;function uO([n,e],[t,r]){let i=De(n,t);return i===0?De(e,r):i}var cC=class{constructor(e){this.Pr=e,this.buffer=new Qt(uO),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();uO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},uC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Y(cO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Il(t)?Y(cO,"Ignoring IndexedDB error during garbage collection: ",t):await wl(t)}await this.Ar(3e5)})}},lC=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return H.resolve(tD.ce);let r=new cC(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(aO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aO):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,s,o,a,c,d,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),Xu()<=Re.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}};function RW(n,e){return new lC(n,e)}var dC=class{constructor(){this.changes=new Cs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var fC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&df(r.mutation,i,_r.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ce()){let i=cc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=cf();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=cc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ds(),o=lf(),a=(function(){return lf()})();return t.forEach((c,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof ki)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),df(f.mutation,d,f.mutation.getFieldMask(),bt.now())):o.set(d.key,_r.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,f)=>o.set(d,f)),t.forEach((d,f)=>a.set(d,new hC(f,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,t){let r=lf(),i=new vt((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let f=r.get(c)||_r.empty();f=a.applyToLocalView(d,f),r.set(c,f);let m=(i.get(a.batchId)||Ce()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,f=c.value,m=uF();f.forEach(w=>{if(!s.has(w)){let A=mF(t.get(w),r.get(w));A!==null&&m.set(w,A),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return W8(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):H.resolve(cc()),a=hf,c=s;return o.next(d=>H.forEach(d,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(f)?H.resolve():this.remoteDocumentCache.getEntry(e,f).next(w=>{c=c.insert(f,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Ce())).next(f=>({batchId:a,changes:cF(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=cf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=cf();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,c=>{let d=(function(m,w){return new ul(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((m,w)=>{o=o.insert(m,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,Wr.newInvalidDocument(f)))});let a=cf();return o.forEach((c,d)=>{let f=s.get(c);f!==void 0&&df(f.mutation,d,_r.empty(),bt.now()),L_(t,d)&&(a=a.insert(c,d))}),a})}};var pC=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return H.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ni(i.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:DF(i.bundledQuery),readTime:Ni(i.readTime)}})(t)),H.resolve()}};var mC=class{constructor(){this.overlays=new vt(ie.comparator),this.Lr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){let r=cc();return H.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.bt(e,t,s)}),H.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){let i=cc(),s=t.length+1,o=new ie(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new vt((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=cc(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let a=cc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return H.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y0(t,r));let s=this.Lr.get(t);s===void 0&&(s=Ce(),this.Lr.set(t,s)),this.Lr.set(t,s.add(r.key))}};var gC=class{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}};var Ef=class{constructor(){this.kr=new Qt(kt.Kr),this.qr=new Qt(kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new kt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new kt(e,t))}Qr(e,t){e.forEach(r=>this.removeReference(r,t))}Gr(e){let t=new ie(new ft([])),r=new kt(t,e),i=new kt(t,e+1),s=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new ie(new ft([])),r=new kt(t,e),i=new kt(t,e+1),s=Ce();return this.qr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new kt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},kt=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ie.comparator(e.key,t.key)||De(e.Hr,t.Hr)}static Ur(e,t){return De(e.Hr,t.Hr)||ie.comparator(e.key,t.key)}};var yC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(kt.Kr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new K0(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Jr=this.Jr.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?nD:this.Yn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new kt(t,0),i=new kt(t,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],o=>{let a=this.Zr(o.Hr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qt(De);return t.forEach(i=>{let s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),H.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ie.isDocumentKey(s)||(s=s.child(""));let o=new kt(new ie(s),0),a=new Qt(De);return this.Jr.forEachWhile(c=>{let d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Hr)),!0)},o),H.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){We(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return H.forEach(t.mutations,i=>{let s=new kt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new kt(t,0),i=this.Jr.firstAfterOrEqual(r);return H.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var _C=class{constructor(e){this.ti=e,this.docs=(function(){return new vt(ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():Wr.newInvalidDocument(t))}getEntries(e,t){let r=Ds();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wr.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ds(),o=t.path,a=new ie(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||S8(D8(f),r)<=0||(i.has(f.key)||L_(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,t,r,i){se(9500)}ni(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vC(this)}getSize(e){return H.resolve(this.size)}},vC=class extends dC{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}};var EC=class{constructor(e){this.persistence=e,this.ri=new Cs(t=>oD(t),aD),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new Ef,this.targetCount=0,this.oi=vf._r()}forEachTarget(e,t){return this.ri.forEach((r,i)=>t(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),H.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new vf(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.lr(t),H.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),H.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.si.containsKey(t))}};var m_=class{constructor(e,t){this._i={},this.overlays={},this.ai=new tD(0),this.ui=!1,this.ui=!0,this.ci=new gC,this.referenceDelegate=e(this),this.li=new EC(this),this.indexManager=new oC,this.remoteDocumentCache=(function(i){return new _C(i)})(r=>this.referenceDelegate.hi(r)),this.serializer=new sC(t),this.Pi=new pC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new yC(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new wC(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return H.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}},wC=class extends M0{constructor(e){super(),this.currentSequenceNumber=e}},IC=class n{constructor(e){this.persistence=e,this.Ri=new Ef,this.Ai=null}static Vi(e){return new n(e)}get di(){if(this.Ai)return this.Ai;throw se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,r=>{let i=ie.fromPath(r);return this.mi(e,i).next(s=>{s||t.removeEntry(i,Ee.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return H.or([()=>H.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},g_=class n{constructor(e,t){this.persistence=e,this.fi=new Cs(r=>P8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=RW(this,t)}static Vi(e,t){return new n(e,t)}Ti(){}Ii(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}pr(e){let t=0;return this.mr(e,r=>{t++}).next(()=>t)}mr(e,t){return H.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?H.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,Ee.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),H.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ky(e.data.value)),t}wr(e,t,r){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.fi.get(t);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var TC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=Ce(),i=Ce();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var bC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var CC=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return k1()?8:R8(x1())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.gs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ps(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new bC;return this.ys(e,t,o).next(a=>{if(s.result=a,this.As)return this.ws(e,t,o,a.size)})}).next(()=>s.result)}ws(e,t,r,i){return r.documentReadCount<this.Vs?(Xu()<=Re.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Zu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(Xu()<=Re.DEBUG&&Y("QueryEngine","Query:",Zu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Xu()<=Re.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Zu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):H.resolve())}gs(e,t){if(Xk(t))return H.resolve(null);let r=Ai(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=c_(t,null,"F"),r=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ce(...s);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let d=this.bs(t,a);return this.Ss(t,d,o,c.readTime)?this.gs(e,c_(t,null,"F")):this.Ds(e,d,t,c)}))})))}ps(e,t,r,i){return Xk(t)||i.isEqual(Ee.min())?H.resolve(null):this.fs.getDocuments(e,r).next(s=>{let o=this.bs(t,s);return this.Ss(t,o,r,i)?H.resolve(null):(Xu()<=Re.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zu(t)),this.Ds(e,o,t,C8(i,hf)).next(a=>a))})}bs(e,t){let r=new Qt(oF(e));return t.forEach((i,s)=>{L_(e,s)&&(r=r.add(s))}),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,t,r){return Xu()<=Re.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Zu(t)),this.fs.getDocumentsMatchingQuery(e,t,hc.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var lD="LocalStore",NW=3e8,DC=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new vt(De),this.Fs=new Cs(s=>oD(s),aD),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}};function PW(n,e,t,r){return new DC(n,e,t,r)}async function AF(n,e){let t=me(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Ce();for(let d of i){o.push(d.batchId);for(let f of d.mutations)c=c.add(f.key)}for(let d of s){a.push(d.batchId);for(let f of d.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(d=>({Ns:d,removedBatchIds:o,addedBatchIds:a}))})})}function MW(n,e){let t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.xs.newChangeBuffer({trackRemovals:!0});return(function(a,c,d,f){let m=d.batch,w=m.keys(),A=H.resolve();return w.forEach(R=>{A=A.next(()=>f.getEntry(c,R)).next(M=>{let x=d.docVersions.get(R);We(x!==null,48541),M.version.compareTo(x)<0&&(m.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),f.addEntry(M)))})}),A.next(()=>a.mutationQueue.removeMutationBatch(c,m))})(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Ce();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function RF(n){let e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function xW(n,e){let t=me(n),r=e.snapshotVersion,i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;let a=[];e.targetChanges.forEach((f,m)=>{let w=i.get(m);if(!w)return;a.push(t.li.removeMatchingKeys(s,f.removedDocuments,m).next(()=>t.li.addMatchingKeys(s,f.addedDocuments,m)));let A=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?A=A.withResumeToken(un.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):f.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(f.resumeToken,r)),i=i.insert(m,A),(function(M,x,j){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=NW?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(w,A,f)&&a.push(t.li.updateTargetData(s,A))});let c=Ds(),d=Ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(kW(s,o,e.documentUpdates).next(f=>{c=f.Bs,d=f.Ls})),!r.isEqual(Ee.min())){let f=t.li.getLastRemoteSnapshotVersion(s).next(m=>t.li.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(t.vs=i,s))}function kW(n,e,t){let r=Ce(),i=Ce();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ds();return t.forEach((a,c)=>{let d=s.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ee.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Y(lD,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Bs:o,Ls:i}})}function OW(n,e){let t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FW(n,e){let t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.li.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):t.li.allocateTargetId(r).next(o=>(i=new _f(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r})}async function SC(n,e,t){let r=me(n),i=r.vs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Il(o))throw o;Y(lD,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function lO(n,e,t){let r=me(n),i=Ee.min(),s=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(c,d,f){let m=me(c),w=m.Fs.get(f);return w!==void 0?H.resolve(m.vs.get(w)):m.li.getTargetData(d,f)})(r,o,Ai(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,t?i:Ee.min(),t?s:Ce())).next(a=>(VW(r,Q8(e),a),{documents:a,ks:s})))}function VW(n,e,t){let r=n.Ms.get(e)||Ee.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ms.set(e,r)}var y_=class{constructor(){this.activeTargetIds=tW()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var AC=class{constructor(){this.vo=new y_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new y_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var RC=class{Mo(e){}shutdown(){}};var dO="ConnectivityMonitor",__=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Y(dO,"Network connectivity changed: AVAILABLE");for(let e of this.Lo)e(0)}Bo(){Y(dO,"Network connectivity changed: UNAVAILABLE");for(let e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wy=null;function NC(){return Wy===null?Wy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wy++,"0x"+Wy.toString(16)}var C0="RestConnection",LW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"},PC=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===o_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){let o=NC(),a=this.Qo(e,t.toUriEncodedString());Y(C0,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);let{host:d}=new URL(a),f=wy(d);return this.zo(e,a,c,r,f).then(m=>(Y(C0,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Uo(C0,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,t){let r=LW[e],i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}};var MC=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}};var wn="WebChannelConnection",af=(n,e,t)=>{n.listen(e,r=>{try{t(r)}catch(i){setTimeout(()=>{throw i},0)}})},v_=class n extends PC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!n.c_){let e=w0();af(e,E0.STAT_EVENT,t=>{t.stat===qy.PROXY?Y(wn,"STAT_EVENT: detected buffering proxy"):t.stat===qy.NOPROXY&&Y(wn,"STAT_EVENT: detected no buffering proxy")}),n.c_=!0}}zo(e,t,r,i,s){let o=NC();return new Promise((a,c)=>{let d=new _0;d.setWithCredentials(!0),d.listenOnce(v0.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case of.NO_ERROR:let m=d.getResponseJson();Y(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case of.TIMEOUT:Y(wn,`RPC '${e}' ${o} timed out`),c(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:let w=d.getStatus();if(Y(wn,`RPC '${e}' ${o} failed with status:`,w,"response text:",d.getResponseText()),w>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);let R=A?.error;if(R&&R.status&&R.message){let M=(function(j){let W=j.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(W)>=0?W:$.UNKNOWN})(R.status);c(new Z(M,R.message))}else c(new Z($.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Z($.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Y(wn,`RPC '${e}' ${o} completed.`)}});let f=JSON.stringify(i);Y(wn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}T_(e,t,r){let i=NC(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;let d=s.join("");Y(wn,`Creating RPC '${e}' stream ${i}: ${d}`,a);let f=o.createWebChannel(d,a);this.I_(f);let m=!1,w=!1,A=new MC({Ho:R=>{w?Y(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(Y(wn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),Y(wn,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Jo:()=>f.close()});return af(f,Ju.EventType.OPEN,()=>{w||(Y(wn,`RPC '${e}' stream ${i} transport opened.`),A.i_())}),af(f,Ju.EventType.CLOSE,()=>{w||(w=!0,Y(wn,`RPC '${e}' stream ${i} transport closed`),A.o_(),this.E_(f))}),af(f,Ju.EventType.ERROR,R=>{w||(w=!0,Uo(wn,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),A.o_(new Z($.UNAVAILABLE,"The operation could not be completed")))}),af(f,Ju.EventType.MESSAGE,R=>{if(!w){let M=R.data[0];We(!!M,16349);let x=M,j=x?.error||x[0]?.error;if(j){Y(wn,`RPC '${e}' stream ${i} received error:`,j);let W=j.status,K=(function(ce){let I=xt[ce];if(I!==void 0)return yF(I)})(W),re=j.message;K===void 0&&(K=$.INTERNAL,re="Unknown error status: "+W+" with message "+j.message),w=!0,A.o_(new Z(K,re)),f.close()}else Y(wn,`RPC '${e}' stream ${i} received:`,M),A.__(M)}}),n.u_(),setTimeout(()=>{A.s_()},0),A}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return I0()}};function UW(n){return new v_(n)}function D0(){return typeof document<"u"?document:null}function bf(n){return new eC(n,!0)}v_.c_=!1;var E_=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}};var hO="PersistentStream",w_=class{constructor(e,t,r,i,s,o,a,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Is(t.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(hO,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(Y(hO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},xC=class extends w_{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=yW(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Ni(o.readTime):Ee.min()})(e);return this.listener.J_(t,r)}Z_(e){let t={};t.database=iC(this.serializer),t.addTarget=(function(s,o){let a,c=o.target;if(a=z0(c)?{documents:EW(s,c)}:{query:wW(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_F(s,o.resumeToken);let d=tC(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=f_(s,o.snapshotVersion.toTimestamp());let d=tC(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a})(this.serializer,e);let r=TW(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){let t={};t.database=iC(this.serializer),t.removeTarget=e,this.K_(t)}},kC=class extends w_{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=vW(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=iC(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>_W(this.serializer,r))};this.K_(t)}};var OC=class{},FC=class extends OC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,nC(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z($.UNKNOWN,s.toString())})}jo(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,nC(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};function jW(n,e,t,r){return new FC(n,e,t,r)}var VC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(t),this.aa=!1):Y("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var _c="RemoteStore",LC=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{wc(this)&&(Y(_c,"Restarting streams for network reachability change."),await(async function(c){let d=me(c);d.Ea.add(4),await Cf(d),d.Va.set("Unknown"),d.Ea.delete(4),await U_(d)})(this))})}),this.Va=new VC(r,i)}};async function U_(n){if(wc(n))for(let e of n.Ra)await e(!0)}async function Cf(n){for(let e of n.Ra)await e(!1)}function NF(n,e){let t=me(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),pD(t)?fD(t):Tl(t).O_()&&hD(t,e))}function dD(n,e){let t=me(n),r=Tl(t);t.Ia.delete(e),r.O_()&&PF(t,e),t.Ia.size===0&&(r.O_()?r.L_():wc(t)&&t.Va.set("Unknown"))}function hD(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tl(n).Z_(e)}function PF(n,e){n.da.$e(e),Tl(n).X_(e)}function fD(n){n.da=new Z0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Tl(n).start(),n.Va.ua()}function pD(n){return wc(n)&&!Tl(n).x_()&&n.Ia.size>0}function wc(n){return me(n).Ea.size===0}function MF(n){n.da=void 0}async function BW(n){n.Va.set("Online")}async function $W(n){n.Ia.forEach((e,t)=>{hD(n,e)})}async function HW(n,e){MF(n),pD(n)?(n.Va.ha(e),fD(n)):n.Va.set("Unknown")}async function qW(n,e,t){if(n.Va.set("Online"),e instanceof d_&&e.state===2&&e.cause)try{await(async function(i,s){let o=s.cause;for(let a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.da.removeTarget(a))})(n,e)}catch(r){Y(_c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await I_(n,r)}else if(e instanceof il?n.da.Xe(e):e instanceof l_?n.da.st(e):n.da.tt(e),!t.isEqual(Ee.min()))try{let r=await RF(n.localStore);t.compareTo(r)>=0&&await(function(s,o){let a=s.da.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{let f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(un.EMPTY_BYTE_STRING,f.snapshotVersion)),PF(s,c);let m=new _f(f.target,c,d,f.sequenceNumber);hD(s,m)}),s.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){Y(_c,"Failed to raise snapshot:",r),await I_(n,r)}}async function I_(n,e,t){if(!Il(e))throw e;n.Ea.add(1),await Cf(n),n.Va.set("Offline"),t||(t=()=>RF(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Y(_c,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await U_(n)})}function xF(n,e){return e().catch(t=>I_(n,t,e))}async function j_(n){let e=me(n),t=Bo(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nD;for(;zW(e);)try{let i=await OW(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,GW(e,i)}catch(i){await I_(e,i)}kF(e)&&OF(e)}function zW(n){return wc(n)&&n.Ta.length<10}function GW(n,e){n.Ta.push(e);let t=Bo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function kF(n){return wc(n)&&!Bo(n).x_()&&n.Ta.length>0}function OF(n){Bo(n).start()}async function WW(n){Bo(n).ra()}async function KW(n){let e=Bo(n);for(let t of n.Ta)e.ea(t.mutations)}async function QW(n,e,t){let r=n.Ta.shift(),i=Q0.from(r,e,t);await xF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await j_(n)}async function YW(n,e){e&&Bo(n).Y_&&await(async function(r,i){if((function(o){return cW(o)&&o!==$.ABORTED})(i.code)){let s=r.Ta.shift();Bo(r).B_(),await xF(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await j_(r)}})(n,e),kF(n)&&OF(n)}async function fO(n,e){let t=me(n);t.asyncQueue.verifyOperationInProgress(),Y(_c,"RemoteStore received new credentials");let r=wc(t);t.Ea.add(3),await Cf(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await U_(t)}async function JW(n,e){let t=me(n);e?(t.Ea.delete(2),await U_(t)):e||(t.Ea.add(2),await Cf(t),t.Va.set("Unknown"))}function Tl(n){return n.ma||(n.ma=(function(t,r,i){let s=me(t);return s.sa(),new xC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:BW.bind(null,n),Yo:$W.bind(null,n),t_:HW.bind(null,n),J_:qW.bind(null,n)}),n.Ra.push(async e=>{e?(n.ma.B_(),pD(n)?fD(n):n.Va.set("Unknown")):(await n.ma.stop(),MF(n))})),n.ma}function Bo(n){return n.fa||(n.fa=(function(t,r,i){let s=me(t);return s.sa(),new kC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:WW.bind(null,n),t_:YW.bind(null,n),ta:KW.bind(null,n),na:QW.bind(null,n)}),n.Ra.push(async e=>{e?(n.fa.B_(),await j_(n)):(await n.fa.stop(),n.Ta.length>0&&(Y(_c,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var UC=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mD(n,e){if(Is("AsyncQueue",`${e}: ${n}`),Il(n))return new Z($.UNAVAILABLE,`${e}: ${n}`);throw n}var wf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=cf(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var T_=class{constructor(){this.ga=new vt(ie.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):se(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},vc=class n{constructor(e,t,r,i,s,o,a,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,wf.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var jC=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}},BC=class{constructor(){this.queries=pO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=me(t),s=i.queries;i.queries=pO(),s.forEach((o,a)=>{for(let c of a.ba)c.onError(r)})})(this,new Z($.ABORTED,"Firestore shutting down"))}};function pO(){return new Cs(n=>sF(n),V_)}async function XW(n,e){let t=me(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new jC,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){let a=mD(o,`Initialization of query '${Zu(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ba.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&gD(t)}async function ZW(n,e){let t=me(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function e7(n,e){let t=me(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.ba)a.Fa(i)&&(r=!0);o.wa=i}}r&&gD(t)}function t7(n,e,t){let r=me(n),i=r.queries.get(e);if(i)for(let s of i.ba)s.onError(t);r.queries.delete(e)}function gD(n){n.Ca.forEach(e=>{e.next()})}var $C,mO;(mO=$C||($C={})).Ma="default",mO.Cache="cache";var HC=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$C.Cache}};var b_=class{constructor(e){this.key=e}},C_=class{constructor(e){this.key=e}},qC=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ce(),this.mutatedKeys=Ce(),this.eu=oF(e),this.tu=new wf(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new T_,i=t?t.tu:this.tu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{let w=i.get(f),A=L_(this.query,m)?m:null,R=!!w&&this.mutatedKeys.has(w.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations),x=!1;w&&A?w.data.isEqual(A.data)?R!==M&&(r.track({type:3,doc:A}),x=!0):this.su(w,A)||(r.track({type:2,doc:A}),x=!0,(c&&this.eu(A,c)>0||d&&this.eu(A,d)<0)&&(a=!0)):!w&&A?(r.track({type:0,doc:A}),x=!0):w&&!A&&(r.track({type:1,doc:w}),x=!0,(c||d)&&(a=!0)),x&&(A?(o=o.add(A),s=M?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Ss:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((f,m)=>(function(A,R){let M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:x})}};return M(A)-M(R)})(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Xa;return this.Xa=c,o.length!==0||d?{snapshot:new vc(this.query,e.tu,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=Ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new C_(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new b_(r))}),t}cu(e){this.Za=e.ks,this.Ya=Ce();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},yD="SyncEngine",zC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},GC=class{constructor(e){this.key=e,this.hu=!1}},WC=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Cs(a=>sF(a),V_),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(ie.comparator),this.Au=new Map,this.Vu=new Ef,this.du={},this.mu=new Map,this.fu=vf.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function n7(n,e,t=!0){let r=BF(n),i,s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await FF(r,e,t,!0),i}async function r7(n,e){let t=BF(n);await FF(t,e,!0,!1)}async function FF(n,e,t,r){let i=await FW(n.localStore,Ai(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=await i7(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&NF(n.remoteStore,i),a}async function i7(n,e,t,r,i){n.pu=(m,w,A)=>(async function(M,x,j,W){let K=x.view.ru(j);K.Ss&&(K=await lO(M.localStore,x.query,!1).then(({documents:I})=>x.view.ru(I,K)));let re=W&&W.targetChanges.get(x.targetId),Fe=W&&W.targetMismatches.get(x.targetId)!=null,ce=x.view.applyChanges(K,M.isPrimaryClient,re,Fe);return yO(M,x.targetId,ce.au),ce.snapshot})(n,m,w,A);let s=await lO(n.localStore,e,!0),o=new qC(e,s.ks),a=o.ru(s.documents),c=yf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(a,n.isPrimaryClient,c);yO(n,t,d.au);let f=new zC(e,t,o);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function s7(n,e,t){let r=me(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!V_(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await SC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dD(r.remoteStore,i.targetId),KC(r,i.targetId)}).catch(wl)):(KC(r,i.targetId),await SC(r.localStore,i.targetId,!0))}async function o7(n,e){let t=me(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dD(t.remoteStore,r.targetId))}async function a7(n,e,t){let r=p7(n);try{let i=await(function(o,a){let c=me(o),d=bt.now(),f=a.reduce((A,R)=>A.add(R.key),Ce()),m,w;return c.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=Ds(),M=Ce();return c.xs.getEntries(A,f).next(x=>{R=x,R.forEach((j,W)=>{W.isValidDocument()||(M=M.add(j))})}).next(()=>c.localDocuments.getOverlayedDocuments(A,R)).next(x=>{m=x;let j=[];for(let W of a){let K=aW(W,m.get(W.key).overlayedDocument);K!=null&&j.push(new ki(W.key,K,XO(K.value.mapValue),Ri.exists(!0)))}return c.mutationQueue.addMutationBatch(A,d,j,a)}).next(x=>{w=x;let j=x.applyToLocalDocumentSet(m,M);return c.documentOverlayCache.saveOverlays(A,x.batchId,j)})}).then(()=>({batchId:w.batchId,changes:cF(m)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let d=o.du[o.currentUser.toKey()];d||(d=new vt(De)),d=d.insert(a,c),o.du[o.currentUser.toKey()]=d})(r,i.batchId,t),await Df(r,i.changes),await j_(r.remoteStore)}catch(i){let s=mD(i,"Failed to persist write");t.reject(s)}}async function VF(n,e){let t=me(n);try{let r=await xW(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Au.get(s);o&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?We(o.hu,14607):i.removedDocuments.size>0&&(We(o.hu,42227),o.hu=!1))}),await Df(t,r,e)}catch(r){await wl(r)}}function gO(n,e,t){let r=me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=me(o);c.onlineState=a;let d=!1;c.queries.forEach((f,m)=>{for(let w of m.ba)w.va(a)&&(d=!0)}),d&&gD(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c7(n,e,t){let r=me(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),s=i&&i.key;if(s){let o=new vt(ie.comparator);o=o.insert(s,Wr.newNoDocument(s,Ee.min()));let a=Ce().add(s),c=new u_(Ee.min(),new Map,new vt(De),o,a);await VF(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),_D(r)}else await SC(r.localStore,e,!1).then(()=>KC(r,e,t)).catch(wl)}async function u7(n,e){let t=me(n),r=e.batch.batchId;try{let i=await MW(t.localStore,e);UF(t,r,null),LF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Df(t,i)}catch(i){await wl(i)}}async function l7(n,e,t){let r=me(n);try{let i=await(function(o,a){let c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,a).next(m=>(We(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})})(r.localStore,e);UF(r,e,t),LF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Df(r,i)}catch(i){await wl(i)}}function LF(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function UF(n,e,t){let r=me(n),i=r.du[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function KC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach(r=>{n.Vu.containsKey(r)||jF(n,r)})}function jF(n,e){n.Eu.delete(e.path.canonicalString());let t=n.Ru.get(e);t!==null&&(dD(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),_D(n))}function yO(n,e,t){for(let r of t)r instanceof b_?(n.Vu.addReference(r.key,e),d7(n,r)):r instanceof C_?(Y(yD,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||jF(n,r.key)):se(19791,{wu:r})}function d7(n,e){let t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Y(yD,"New document in limbo: "+t),n.Eu.add(r),_D(n))}function _D(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new ie(ft.fromString(e)),r=n.fu.next();n.Au.set(r,new GC(t)),n.Ru=n.Ru.insert(t,r),NF(n.remoteStore,new _f(Ai(F_(t.path)),r,"TargetPurposeLimboResolution",tD.ce))}}async function Df(n,e,t){let r=me(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,t).then(d=>{if((d||t)&&r.isPrimaryClient){let f=d?!d.fromCache:t?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);let f=TC.Es(c.targetId,d);s.push(f)}}))}),await Promise.all(o),r.Pu.J_(i),await(async function(c,d){let f=me(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,w=>H.forEach(w.Ts,A=>f.persistence.referenceDelegate.addReference(m,w.targetId,A)).next(()=>H.forEach(w.Is,A=>f.persistence.referenceDelegate.removeReference(m,w.targetId,A)))))}catch(m){if(!Il(m))throw m;Y(lD,"Failed to update sequence numbers: "+m)}for(let m of d){let w=m.targetId;if(!m.fromCache){let A=f.vs.get(w),R=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(R);f.vs=f.vs.insert(w,M)}}})(r.localStore,s))}async function h7(n,e){let t=me(n);if(!t.currentUser.isEqual(e)){Y(yD,"User change. New user:",e.toKey());let r=await AF(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new Z($.CANCELLED,o))})}),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Df(t,r.Ns)}}function f7(n,e){let t=me(n),r=t.Au.get(e);if(r&&r.hu)return Ce().add(r.key);{let i=Ce(),s=t.Iu.get(e);if(!s)return i;for(let o of s){let a=t.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function BF(n){let e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c7.bind(null,e),e.Pu.J_=e7.bind(null,e.eventManager),e.Pu.yu=t7.bind(null,e.eventManager),e}function p7(n){let e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l7.bind(null,e),e}var vD=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return PW(this.persistence,new CC,t.initialUser,this.serializer)}Cu(t){return new m_(IC.Vi,this.serializer)}Du(t){return new AC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),D_=class extends vD{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof g_,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new uC(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new m_(r=>g_.Vi(r,t),this.serializer)}};var $F=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h7.bind(null,this.syncEngine),await JW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new BC})()}createDatastore(t){let r=bf(t.databaseInfo.databaseId),i=UW(t.databaseInfo);return jW(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,s,o,a,c){return new LC(i,s,o,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>gO(this.syncEngine,r,0),(function(){return __.v()?new __:new RC})())}createSyncEngine(t,r){return(function(s,o,a,c,d,f,m){let w=new WC(s,o,a,c,d,f);return m&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=me(r);Y(_c,"RemoteStore shutting down."),i.Ea.add(5),await Cf(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var QC=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var $o="FirestoreClient",YC=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=Kt.UNAUTHENTICATED,this.clientId=dc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y($o,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y($o,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=mD(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function S0(n,e){n.asyncQueue.verifyOperationInProgress(),Y($o,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function _O(n,e){n.asyncQueue.verifyOperationInProgress();let t=await m7(n);Y($o,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>fO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>fO(e.remoteStore,i)),n._onlineComponents=e}async function m7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y($o,"Using user provided OfflineComponentProvider");try{await S0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await S0(n,new vD)}}else Y($o,"Using default OfflineComponentProvider"),await S0(n,new D_(void 0));return n._offlineComponents}async function HF(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y($o,"Using user provided OnlineComponentProvider"),await _O(n,n._uninitializedComponentsProvider._online)):(Y($o,"Using default OnlineComponentProvider"),await _O(n,new $F))),n._onlineComponents}function g7(n){return HF(n).then(e=>e.syncEngine)}async function vO(n){let e=await HF(n),t=e.eventManager;return t.onListen=n7.bind(null,e.syncEngine),t.onUnlisten=s7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=o7.bind(null,e.syncEngine),t}function qF(n,e,t,r){let i=new QC(r),s=new HC(e,i,t);return n.asyncQueue.enqueueAndForget(async()=>XW(await vO(n),s)),()=>{i.Nu(),n.asyncQueue.enqueueAndForget(async()=>ZW(await vO(n),s))}}function zF(n,e){let t=new vs;return n.asyncQueue.enqueueAndForget(async()=>a7(await g7(n),e,t)),t.promise}function GF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var y7="ComponentProvider",EO=new Map;function _7(n,e,t,r,i){return new x0(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,GF(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var WF="firestore.googleapis.com",wO=!0,S_=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WF,this.ssl=wO}else this.host=e.host,this.ssl=e.ssl??wO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AW)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GF(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ml=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Xy;switch(r.type){case"firstParty":return new N0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=EO.get(t);r&&(Y(y7,"Removing Datastore"),EO.delete(t),r.terminate())})(this),Promise.resolve()}};function KF(n,e,t,r={}){n=Fi(n,ml);let i=wy(e),s=n._getSettings(),o=oe(F({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(N1(`https://${a}`),M1("Firestore",!0)),s.host!==WF&&s.host!==a&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=oe(F({},s),{host:a,ssl:i,emulatorOptions:r});if(!tc(c,o)&&(n._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Kt.MOCK_USER;else{d=P1(r.mockUserToken,n._app?.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kt(m)}n._authCredentials=new A0(new Jy(d,f))}}var gl=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Yt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(El(t,n._jsonSchema))return new n(e,r||null,new ie(ft.fromString(t.referencePath)))}};Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Tt("string",Yt._jsonSchemaVersion),referencePath:Tt("string")};var Es=class n extends gl{constructor(e,t,r){super(e,t,F_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function B_(n,e,...t){if(n=Gr(n),DO("collection","path",e),n instanceof ml){let r=ft.fromString(e,...t);return jk(r),new Es(n,null,r)}{if(!(n instanceof Yt||n instanceof Es))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ft.fromString(e,...t));return jk(r),new Es(n.firestore,null,r)}}function bl(n,e,...t){if(n=Gr(n),arguments.length===1&&(e=dc.newId()),DO("doc","path",e),n instanceof ml){let r=ft.fromString(e,...t);return Uk(r),new Yt(n,null,new ie(r))}{if(!(n instanceof Yt||n instanceof Es))throw new Z($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ft.fromString(e,...t));return Uk(r),new Yt(n.firestore,n instanceof Es?n.converter:null,new ie(r))}}var IO="AsyncQueue",A_=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E_(this,"async_queue_retry"),this._c=()=>{let r=D0();r&&Y(IO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=D0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=D0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new vs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;Y(IO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",TO(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=UC.createAndSchedule(this,e,t,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&se(47125,{Pc:TO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function TO(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Oi=class extends ml{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new A_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}};function ED(n,e){let t=typeof n=="object"?n:by(),r=typeof n=="string"?n:e||o_,i=B1(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=R1("firestore");s&&KF(i,...s)}return i}function $_(n){if(n._terminated)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||v7(n),n._firestoreClient}function v7(n){let e=n._freezeSettings(),t=_7(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new YC(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}var Pi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(un.fromBase64String(e))}catch(t){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(El(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:Tt("string",Pi._jsonSchemaVersion),bytes:Tt("string")};var Ec=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yl=class{constructor(e){this._methodName=e}};var ws=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(El(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Tt("string",ws._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};var Mi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(El(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Z($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Tt("string",Mi._jsonSchemaVersion),vectorValues:Tt("object")};var E7=/^__.*__$/,JC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new yc(e,this.data,t,this.fieldTransforms)}},R_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function QF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{dataSource:n})}}var XC=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(F(F({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return P_(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(QF(this.dataSource)&&E7.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},ZC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bf(e)}createContext(e,t,r,i=!1){return new XC({dataSource:e,methodName:t,targetDoc:r,path:Ln.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wD(n){let e=n._freezeSettings(),t=bf(n._databaseId);return new ZC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YF(n,e,t,r,i,s={}){let o=n.createContext(s.merge||s.mergeFields?2:0,e,t,i);ID("Data must be an object, but it was:",o,r);let a=ZF(r,o),c,d;if(s.merge)c=new _r(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let m of s.mergeFields){let w=_l(e,m,t);if(!o.contains(w))throw new Z($.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);tV(f,w)||f.push(w)}c=new _r(f),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new JC(new Vn(a),c,d)}var N_=class n extends yl{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function JF(n,e,t,r){let i=n.createContext(1,e,t);ID("Data must be an object, but it was:",i,r);let s=[],o=Vn.empty();Ho(r,(c,d)=>{let f=TD(e,c,t);d=Gr(d);let m=i.childContextForFieldPath(f);if(d instanceof N_)s.push(f);else{let w=H_(d,m);w!=null&&(s.push(f),o.set(f,w))}});let a=new _r(s);return new R_(o,a,i.fieldTransforms)}function XF(n,e,t,r,i,s){let o=n.createContext(1,e,t),a=[_l(e,r,t)],c=[i];if(s.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)a.push(_l(e,s[w])),c.push(s[w+1]);let d=[],f=Vn.empty();for(let w=a.length-1;w>=0;--w)if(!tV(d,a[w])){let A=a[w],R=c[w];R=Gr(R);let M=o.childContextForFieldPath(A);if(R instanceof N_)d.push(A);else{let x=H_(R,M);x!=null&&(d.push(A),f.set(A,x))}}let m=new _r(d);return new R_(f,m,o.fieldTransforms)}function H_(n,e){if(eV(n=Gr(n)))return ID("Unsupported field value:",e,n),ZF(n,e);if(n instanceof yl)return(function(r,i){if(!QF(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=H_(a,i.childContextForArray(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Gr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=bt.fromDate(r);return{timestampValue:f_(i.serializer,s)}}if(r instanceof bt){let s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:f_(i.serializer,s)}}if(r instanceof ws)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pi)return{bytesValue:_F(i.serializer,r._byteString)};if(r instanceof Yt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mi)return(function(o,a){let c=o instanceof Mi?o.toArray():o;return{mapValue:{fields:{[rD]:{stringValue:iD},[ol]:{arrayValue:{values:c.map(f=>{if(typeof f!="number")throw a.createError("VectorValues must only contain numeric values.");return cD(a.serializer,f)})}}}}}})(r,i);if(CF(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${M_(r)}`)})(n,e)}function ZF(n,e){let t={};return HO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(n,(r,i)=>{let s=H_(i,e.childContextForField(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function eV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof ws||n instanceof Pi||n instanceof Yt||n instanceof yl||n instanceof Mi||CF(n))}function ID(n,e,t){if(!eV(t)||!AO(t)){let r=M_(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function _l(n,e,t){if((e=Gr(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return TD(n,e);throw P_("Field path arguments must be of type string or ",n,!1,void 0,t)}var w7=new RegExp("[~\\*/\\[\\]]");function TD(n,e,t){if(e.search(w7)>=0)throw P_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ec(...e.split("."))._internalPath}catch{throw P_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function P_(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Z($.INVALID_ARGUMENT,a+n+c)}function tV(n,e){return n.some(t=>t.isEqual(e))}var If=class{convertValue(e,t="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ho(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){let t=e.fields?.[ol].arrayValue?.values?.map(r=>ht(r.doubleValue));return new Mi(t)}convertGeoPoint(e){return new ws(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=O_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pf(e));default:return null}}convertTimestamp(e){let t=Ts(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ft.fromString(e);We(bF(r),9688,{name:e});let i=new mf(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(t)||Is(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var Tf=class extends If{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}};var nV="@firebase/firestore",rV="4.10.0";function iV(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}var q_=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(_l("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},bD=class extends q_{data(){return super.data()}};function C7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function D7(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ic=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Tc=class n extends q_{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(_l("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tc._jsonSchema={type:Tt("string",Tc._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};var Cl=class extends Tc{data(e={}){return super.data(e)}},Dl=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cl(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:S7(a.type),doc:c,oldIndex:d,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function S7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:n})}}Dl._jsonSchemaVersion="firestore/querySnapshot/1.0",Dl._jsonSchema={type:Tt("string",Dl._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};function sV(n,e,t,...r){n=Fi(n,Yt);let i=Fi(n.firestore,Oi),s=wD(i),o;return o=typeof(e=Gr(e))=="string"||e instanceof Ec?XF(s,"updateDoc",n._key,e,t,r):JF(s,"updateDoc",n._key,e),CD(i,[o.toMutation(n._key,Ri.exists(!0))])}function oV(n){return CD(Fi(n.firestore,Oi),[new pl(n._key,Ri.none())])}function aV(n,e){let t=Fi(n.firestore,Oi),r=bl(n),i=D7(n.converter,e),s=wD(n.firestore);return CD(t,[YF(s,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ri.exists(!1))]).then(()=>r)}function cV(n,...e){n=Gr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||iV(e[r])||(t=e[r++]);let i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(iV(e[r])){let d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,o,a;if(n instanceof Yt)o=Fi(n.firestore,Oi),a=F_(n._key.path),s={next:d=>{e[r]&&e[r](A7(o,n,d))},error:e[r+1],complete:e[r+2]};else{let d=Fi(n,gl);o=Fi(d.firestore,Oi),a=d._query;let f=new Tf(o);s={next:m=>{e[r]&&e[r](new Dl(o,f,d,m))},error:e[r+1],complete:e[r+2]},C7(n._query)}let c=$_(o);return qF(c,a,i,s)}function CD(n,e){let t=$_(n);return zF(t,e)}function A7(n,e,t){let r=t.docs.get(e._key),i=new Tf(n);return new Tc(n,i,e._key,r,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){bO(H1),Yh(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Oi(new Zy(r.getProvider("auth-internal")),new t_(o,r.getProvider("app-check-internal")),KO(o,i),o);return s=F({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ko(nV,rV,e),ko(nV,rV,"esm2020")})();var uV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lV={};var z_,dV;(function(){var n;function e(I,y){function E(){}E.prototype=y.prototype,I.D=y.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(T,b,S){for(var v=Array(arguments.length-2),et=2;et<arguments.length;et++)v[et-2]=arguments[et];return y.prototype[b].apply(T,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,E){E||(E=0);var T=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)T[b]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(b=0;16>b;++b)T[b]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=I.g[0],E=I.g[1],b=I.g[2];var S=I.g[3],v=y+(S^E&(b^S))+T[0]+3614090360&4294967295;y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+T[1]+3905402710&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+T[2]+606105819&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+T[3]+3250441966&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+T[4]+4118548399&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+T[5]+1200080426&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+T[6]+2821735955&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+T[7]+4249261313&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+T[8]+1770035416&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+T[9]+2336552879&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+T[10]+4294925233&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+T[11]+2304563134&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+T[12]+1804603682&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+T[13]+4254626195&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+T[14]+2792965006&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+T[15]+1236535329&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(b^S&(E^b))+T[1]+4129170786&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+T[6]+3225465664&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+T[11]+643717713&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+T[0]+3921069994&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+T[5]+3593408605&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+T[10]+38016083&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+T[15]+3634488961&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+T[4]+3889429448&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+T[9]+568446438&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+T[14]+3275163606&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+T[3]+4107603335&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+T[8]+1163531501&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+T[13]+2850285829&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+T[2]+4243563512&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+T[7]+1735328473&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+T[12]+2368359562&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(E^b^S)+T[5]+4294588738&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+T[8]+2272392833&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+T[11]+1839030562&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+T[14]+4259657740&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+T[1]+2763975236&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+T[4]+1272893353&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+T[7]+4139469664&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+T[10]+3200236656&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+T[13]+681279174&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+T[0]+3936430074&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+T[3]+3572445317&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+T[6]+76029189&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+T[9]+3654602809&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+T[12]+3873151461&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+T[15]+530742520&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+T[2]+3299628645&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(b^(E|~S))+T[0]+4096336452&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+T[7]+1126891415&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+T[14]+2878612391&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+T[5]+4237533241&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+T[12]+1700485571&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+T[3]+2399980690&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+T[10]+4293915773&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+T[1]+2240044497&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+T[8]+1873313359&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+T[15]+4264355552&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+T[6]+2734768916&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+T[13]+1309151649&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+T[4]+4149444226&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+T[11]+3174756917&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+T[2]+718787259&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(b+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var E=y-this.blockSize,T=this.B,b=this.h,S=0;S<y;){if(b==0)for(;S<=E;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<y;)if(T[b++]=I.charCodeAt(S++),b==this.blockSize){i(this,T),b=0;break}}else for(;S<y;)if(T[b++]=I[S++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var E=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=E&255,E/=256;for(this.u(I),I=Array(16),y=E=0;4>y;++y)for(var T=0;32>T;T+=8)I[E++]=this.g[y]>>>T&255;return I};function s(I,y){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=y(I)}function o(I,y){this.h=y;for(var E=[],T=!0,b=I.length-1;0<=b;b--){var S=I[b]|0;T&&S==y||(E[b]=S,T=!1)}this.g=E}var a={};function c(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return x(d(-I));for(var y=[],E=1,T=0;I>=E;T++)y[T]=I/E|0,E*=4294967296;return new o(y,0)}function f(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return x(f(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(y,8)),T=m,b=0;b<I.length;b+=8){var S=Math.min(8,I.length-b),v=parseInt(I.substring(b,b+S),y);8>S?(S=d(Math.pow(y,S)),T=T.j(S).add(d(v))):(T=T.j(E),T=T.add(d(v)))}return T}var m=c(0),w=c(1),A=c(16777216);n=o.prototype,n.m=function(){if(M(this))return-x(this).m();for(var I=0,y=1,E=0;E<this.g.length;E++){var T=this.i(E);I+=(0<=T?T:4294967296+T)*y,y*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(M(this))return"-"+x(this).toString(I);for(var y=d(Math.pow(I,6)),E=this,T="";;){var b=re(E,y).g;E=j(E,b.j(y));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=b,R(E))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=j(this,I),M(I)?-1:R(I)?0:1};function x(I){for(var y=I.g.length,E=[],T=0;T<y;T++)E[T]=~I.g[T];return new o(E,~I.h).add(w)}n.abs=function(){return M(this)?x(this):this},n.add=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],T=0,b=0;b<=y;b++){var S=T+(this.i(b)&65535)+(I.i(b)&65535),v=(S>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);T=v>>>16,S&=65535,v&=65535,E[b]=v<<16|S}return new o(E,E[E.length-1]&-2147483648?-1:0)};function j(I,y){return I.add(x(y))}n.j=function(I){if(R(this)||R(I))return m;if(M(this))return M(I)?x(this).j(x(I)):x(x(this).j(I));if(M(I))return x(this.j(x(I)));if(0>this.l(A)&&0>I.l(A))return d(this.m()*I.m());for(var y=this.g.length+I.g.length,E=[],T=0;T<2*y;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<I.g.length;b++){var S=this.i(T)>>>16,v=this.i(T)&65535,et=I.i(b)>>>16,Jt=I.i(b)&65535;E[2*T+2*b]+=v*Jt,W(E,2*T+2*b),E[2*T+2*b+1]+=S*Jt,W(E,2*T+2*b+1),E[2*T+2*b+1]+=v*et,W(E,2*T+2*b+1),E[2*T+2*b+2]+=S*et,W(E,2*T+2*b+2)}for(T=0;T<y;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=y;T<2*y;T++)E[T]=0;return new o(E,0)};function W(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function K(I,y){this.g=I,this.h=y}function re(I,y){if(R(y))throw Error("division by zero");if(R(I))return new K(m,m);if(M(I))return y=re(x(I),y),new K(x(y.g),x(y.h));if(M(y))return y=re(I,x(y)),new K(x(y.g),y.h);if(30<I.g.length){if(M(I)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=w,T=y;0>=T.l(I);)E=Fe(E),T=Fe(T);var b=ce(E,1),S=ce(T,1);for(T=ce(T,2),E=ce(E,2);!R(T);){var v=S.add(T);0>=v.l(I)&&(b=b.add(E),S=v),T=ce(T,1),E=ce(E,1)}return y=j(I,b.j(y)),new K(b,y)}for(b=m;0<=I.l(y);){for(E=Math.max(1,Math.floor(I.m()/y.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=d(E),v=S.j(y);M(v)||0<v.l(I);)E-=T,S=d(E),v=S.j(y);R(S)&&(S=w),b=b.add(S),I=j(I,v)}return new K(b,I)}n.A=function(I){return re(this,I).h},n.and=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)&I.i(T);return new o(E,this.h&I.h)},n.or=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)|I.i(T);return new o(E,this.h|I.h)},n.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)^I.i(T);return new o(E,this.h^I.h)};function Fe(I){for(var y=I.g.length+1,E=[],T=0;T<y;T++)E[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(E,I.h)}function ce(I,y){var E=y>>5;y%=32;for(var T=I.g.length-E,b=[],S=0;S<T;S++)b[S]=0<y?I.i(S+E)>>>y|I.i(S+E+1)<<32-y:I.i(S+E);return new o(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dV=lV.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,z_=lV.Integer=o}).apply(typeof uV<"u"?uV:typeof self<"u"?self:typeof window<"u"?window:{});var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ss={};var hV,R7,fV,pV,mV,gV,yV,_V,vV;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,g){return u==Array.prototype||u==Object.prototype||(u[h]=g.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof G_=="object"&&G_];for(var h=0;h<u.length;++h){var g=u[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(u,h){if(h)e:{var g=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var P=u[C];if(!(P in g))break e;g=g[P]}u=u[u.length-1],C=g[u],h=h(C),h!=C&&h!=null&&e(g,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var g=0,C=!1,P={next:function(){if(!C&&g<u.length){var O=g++;return{value:h(O,u[O]),done:!1}}return C=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,g){return g})}});var o=o||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function d(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function f(u,h,g){return u.call.apply(u.bind,arguments)}function m(u,h,g){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,C),u.apply(h,P)}}return function(){return u.apply(h,arguments)}}function w(u,h,g){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,w.apply(null,arguments)}function A(u,h){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function R(u,h){function g(){}g.prototype=h.prototype,u.aa=h.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(C,P,O){for(var z=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)z[ke-2]=arguments[ke];return h.prototype[P].apply(C,z)}}function M(u){let h=u.length;if(0<h){let g=Array(h);for(let C=0;C<h;C++)g[C]=u[C];return g}return[]}function x(u,h){for(let g=1;g<arguments.length;g++){let C=arguments[g];if(c(C)){let P=u.length||0,O=C.length||0;u.length=P+O;for(let z=0;z<O;z++)u[P+z]=C[z]}else u.push(C)}}class j{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function W(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function re(u){return re[" "](u),u}re[" "]=function(){};var Fe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ce(u,h,g){for(let C in u)h.call(g,u[C],C,u)}function I(u,h){for(let g in u)h.call(void 0,u[g],g,u)}function y(u){let h={};for(let g in u)h[g]=u[g];return h}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,h){let g,C;for(let P=1;P<arguments.length;P++){C=arguments[P];for(g in C)u[g]=C[g];for(let O=0;O<E.length;O++)g=E[O],Object.prototype.hasOwnProperty.call(C,g)&&(u[g]=C[g])}}function b(u){var h=1;u=u.split(":");let g=[];for(;0<h&&u.length;)g.push(u.shift()),h--;return u.length&&g.push(u.join(":")),g}function S(u){a.setTimeout(()=>{throw u},0)}function v(){var u=we;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class et{constructor(){this.h=this.g=null}add(h,g){let C=Jt.get();C.set(h,g),this.h?this.h.next=C:this.g=C,this.h=C}}var Jt=new j(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ne=!1,we=new et,pt=()=>{let u=a.Promise.resolve(void 0);te=()=>{u.then(In)}};var In=()=>{for(var u;u=v();){try{u.h.call(u.g)}catch(g){S(g)}var h=Jt;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}ne=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var $e=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return u})();function Zn(u,h){if(Qe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(Fe){e:{try{re(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else g=="mouseover"?h=u.fromElement:g=="mouseout"&&(h=u.toElement);this.relatedTarget=h,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Go[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Zn.aa.h.call(this)}}R(Zn,Qe);var Go={2:"touch",3:"pen",4:"mouse"};Zn.prototype.h=function(){Zn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),jn=0;function Xt(u,h,g,C,P){this.listener=u,this.proxy=null,this.src=h,this.type=g,this.capture=!!C,this.ha=P,this.key=++jn,this.da=this.fa=!1}function er(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yr(u){this.src=u,this.g={},this.h=0}Yr.prototype.add=function(u,h,g,C,P){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var z=Ac(u,h,C,P);return-1<z?(h=u[z],g||(h.fa=!1)):(h=new Xt(h,this.src,O,!!C,P),h.fa=g,u.push(h)),h};function Sc(u,h){var g=h.type;if(g in u.g){var C=u.g[g],P=Array.prototype.indexOf.call(C,h,void 0),O;(O=0<=P)&&Array.prototype.splice.call(C,P,1),O&&(er(h),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Ac(u,h,g,C){for(var P=0;P<u.length;++P){var O=u[P];if(!O.da&&O.listener==h&&O.capture==!!g&&O.ha==C)return P}return-1}var Wo="closure_lm_"+(1e6*Math.random()|0),Rc={};function zf(u,h,g,C,P){if(C&&C.once)return Pc(u,h,g,C,P);if(Array.isArray(h)){for(var O=0;O<h.length;O++)zf(u,h[O],g,C,P);return null}return g=ji(g),u&&u[st]?u.K(h,g,d(C)?!!C.capture:!!C,P):Nc(u,h,g,!1,C,P)}function Nc(u,h,g,C,P,O){if(!h)throw Error("Invalid event type");var z=d(P)?!!P.capture:!!P,ke=Mc(u);if(ke||(u[Wo]=ke=new Yr(u)),g=ke.add(h,g,C,z,O),g.proxy)return g;if(C=Ul(),g.proxy=C,C.src=u,C.listener=g,u.addEventListener)$e||(P=z),P===void 0&&(P=!1),u.addEventListener(h.toString(),C,P);else if(u.attachEvent)u.attachEvent(Ko(h.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ul(){function u(g){return h.call(u.src,u.listener,g)}let h=Tv;return u}function Pc(u,h,g,C,P){if(Array.isArray(h)){for(var O=0;O<h.length;O++)Pc(u,h[O],g,C,P);return null}return g=ji(g),u&&u[st]?u.L(h,g,d(C)?!!C.capture:!!C,P):Nc(u,h,g,!0,C,P)}function Vt(u,h,g,C,P){if(Array.isArray(h))for(var O=0;O<h.length;O++)Vt(u,h[O],g,C,P);else C=d(C)?!!C.capture:!!C,g=ji(g),u&&u[st]?(u=u.i,h=String(h).toString(),h in u.g&&(O=u.g[h],g=Ac(O,g,C,P),-1<g&&(er(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete u.g[h],u.h--)))):u&&(u=Mc(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Ac(h,g,C,P)),(g=-1<u?h[u]:null)&&Lt(g))}function Lt(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[st])Sc(h.i,u);else{var g=u.type,C=u.proxy;h.removeEventListener?h.removeEventListener(g,C,u.capture):h.detachEvent?h.detachEvent(Ko(g),C):h.addListener&&h.removeListener&&h.removeListener(C),(g=Mc(h))?(Sc(g,u),g.h==0&&(g.src=null,h[Wo]=null)):er(u)}}}function Ko(u){return u in Rc?Rc[u]:Rc[u]="on"+u}function Tv(u,h){if(u.da)u=!0;else{h=new Zn(h,this);var g=u.listener,C=u.ha||u.src;u.fa&&Lt(u),u=g.call(C,h)}return u}function Mc(u){return u=u[Wo],u instanceof Yr?u:null}var jl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ji(u){return typeof u=="function"?u:(u[jl]||(u[jl]=function(h){return u.handleEvent(h)}),u[jl])}function Ut(){ct.call(this),this.i=new Yr(this),this.M=this,this.F=null}R(Ut,ct),Ut.prototype[st]=!0,Ut.prototype.removeEventListener=function(u,h,g,C){Vt(this,u,h,g,C)};function qt(u,h){var g,C=u.F;if(C)for(g=[];C;C=C.F)g.push(C);if(u=u.M,C=h.type||h,typeof h=="string")h=new Qe(h,u);else if(h instanceof Qe)h.target=h.target||u;else{var P=h;h=new Qe(C,u),T(h,P)}if(P=!0,g)for(var O=g.length-1;0<=O;O--){var z=h.g=g[O];P=xs(z,C,!0,h)&&P}if(z=h.g=u,P=xs(z,C,!0,h)&&P,P=xs(z,C,!1,h)&&P,g)for(O=0;O<g.length;O++)z=h.g=g[O],P=xs(z,C,!1,h)&&P}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var g=u.g[h],C=0;C<g.length;C++)er(g[C]);delete u.g[h],u.h--}}this.F=null},Ut.prototype.K=function(u,h,g,C){return this.i.add(String(u),h,!1,g,C)},Ut.prototype.L=function(u,h,g,C){return this.i.add(String(u),h,!0,g,C)};function xs(u,h,g,C){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,O=0;O<h.length;++O){var z=h[O];if(z&&!z.da&&z.capture==g){var ke=z.listener,Et=z.ha||z.src;z.fa&&Sc(u.i,z),P=ke.call(Et,C)!==!1&&P}}return P&&!C.defaultPrevented}function Gf(u,h,g){if(typeof u=="function")g&&(u=w(u,g));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function Wf(u){u.g=Gf(()=>{u.g=null,u.i&&(u.i=!1,Wf(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class Kf extends ct{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Wf(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(u){ct.call(this),this.h=u,this.g={}}R(ks,ct);var Os=[];function xc(u){ce(u.g,function(h,g){this.g.hasOwnProperty(g)&&Lt(h)},u),u.g={}}ks.prototype.N=function(){ks.aa.N.call(this),xc(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qo=a.JSON.stringify,Bi=a.JSON.parse,Qf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Fs(){}Fs.prototype.h=null;function Bl(u){return u.h||(u.h=u.i())}function Vs(){}var Ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jt(){Qe.call(this,"d")}R(jt,Qe);function kc(){Qe.call(this,"c")}R(kc,Qe);var Bn={},Us=null;function Oc(){return Us=Us||new Ut}Bn.La="serverreachability";function Yf(u){Qe.call(this,Bn.La,u)}R(Yf,Qe);function tr(u){let h=Oc();qt(h,new Yf(h))}Bn.STAT_EVENT="statevent";function Jf(u,h){Qe.call(this,Bn.STAT_EVENT,u),this.stat=h}R(Jf,Qe);function Zt(u){let h=Oc();qt(h,new Jf(h,u))}Bn.Ma="timingevent";function Yo(u,h){Qe.call(this,Bn.Ma,u),this.size=h}R(Yo,Qe);function js(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function Bs(){this.g=!0}Bs.prototype.xa=function(){this.g=!1};function $l(u,h,g,C,P,O){u.info(function(){if(u.g)if(O)for(var z="",ke=O.split("&"),Et=0;Et<ke.length;Et++){var Oe=ke[Et].split("=");if(1<Oe.length){var hn=Oe[0];Oe=Oe[1];var fn=hn.split("_");z=2<=fn.length&&fn[1]=="type"?z+(hn+"="+Oe+"&"):z+(hn+"=redacted&")}}else z=null;else z=O;return"XMLHTTP REQ ("+C+") [attempt "+P+"]: "+h+`
`+g+`
`+z})}function Jo(u,h,g,C,P,O,z){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+P+"]: "+h+`
`+g+`
`+O+" "+z})}function $s(u,h,g,C){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+Xf(u,g)+(C?" "+C:"")})}function Jr(u,h){u.info(function(){return"TIMEOUT: "+h})}Bs.prototype.info=function(){};function Xf(u,h){if(!u.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var C=g[u];if(!(2>C.length)){var P=C[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if(O!="noop"&&O!="stop"&&O!="close")for(var z=1;z<P.length;z++)P[z]=""}}}}return Qo(g)}catch{return h}}var Xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zo;function ea(){}R(ea,Fs),ea.prototype.g=function(){return new XMLHttpRequest},ea.prototype.i=function(){return{}},Zo=new ea;function Xr(u,h,g,C){this.j=u,this.i=h,this.l=g,this.R=C||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hl}function Hl(){this.i=null,this.g="",this.h=!1}var Zf={},Hs={};function Vc(u,h,g){u.L=1,u.v=Bc(Er(h)),u.m=g,u.P=!0,Lc(u,null)}function Lc(u,h){u.F=Date.now(),zs(u),u.A=Er(u.v);var g=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),ap(g.i,"t",C),u.C=0,g=u.j.J,u.h=new Hl,u.g=p(u.j,g?h:null,!u.m),0<u.O&&(u.M=new Kf(w(u.Y,u,u.g),u.O)),h=u.U,g=u.g,C=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Os[0]=P.toString()),P=Os);for(var O=0;O<P.length;O++){var z=zf(g,P[O],C||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),tr(),$l(u.i,u.u,u.A,u.l,u.R,u.m)}Xr.prototype.ca=function(u){u=u.target;let h=this.M;h&&Sn(u)==3?h.j():this.Y(u)},Xr.prototype.Y=function(u){try{if(u==this.g)e:{let fn=Sn(this.g);var h=this.g.Ba();let Yc=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||hp(this.g)))){this.J||fn!=4||h==7||(h==8||0>=Yc?tr(3):tr(2)),Uc(this);var g=this.g.Z();this.X=g;t:if(qs(this)){var C=hp(this.g);u="";var P=C.length,O=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),Gs(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,u+=this.h.i.decode(C[h],{stream:!(O&&h==P-1)});C.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,Jo(this.i,this.u,this.A,this.l,this.R,fn,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Et=this.g;if((ke=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ke)){var Oe=ke;break t}}Oe=null}if(g=Oe)$s(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,g);else{this.o=!1,this.s=3,Zt(12),Zr(this),Gs(this);break e}}if(this.P){g=!0;let Cr;for(;!this.J&&this.C<z.length;)if(Cr=$i(this,z),Cr==Hs){fn==4&&(this.s=4,Zt(14),g=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==Zf){this.s=4,Zt(15),$s(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else $s(this.i,this.l,Cr,null),ta(this,Cr);if(qs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||z.length!=0||this.h.h||(this.s=1,Zt(16),g=!1),this.o=this.o&&g,!g)$s(this.i,this.l,z,"[Invalid Chunked Response]"),Zr(this),Gs(this);else if(0<z.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Qc(hn),hn.M=!0,Zt(11))}}else $s(this.i,this.l,z,null),ta(this,z);fn==4&&Zr(this),this.o&&!this.J&&(fn==4?dn(this.j,this):(this.o=!1,zs(this)))}else fp(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Zr(this),Gs(this)}}}catch{}};function qs(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function $i(u,h){var g=u.C,C=h.indexOf(`
`,g);return C==-1?Hs:(g=Number(h.substring(g,C)),isNaN(g)?Zf:(C+=1,C+g>h.length?Hs:(h=h.slice(C,C+g),u.C=C+g,h)))}Xr.prototype.cancel=function(){this.J=!0,Zr(this)};function zs(u){u.S=Date.now()+u.I,ep(u,u.I)}function ep(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=js(w(u.ba,u),h)}function Uc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Xr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Jr(this.i,this.A),this.L!=2&&(tr(),Zt(17)),Zr(this),this.s=2,Gs(this)):ep(this,this.S-u)};function Gs(u){u.j.G==0||u.J||dn(u.j,u)}function Zr(u){Uc(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,xc(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function ta(u,h){try{var g=u.j;if(g.G!=0&&(g.g==u||Kl(g.h,u))){if(!u.K&&Kl(g.h,u)&&g.G==3){try{var C=g.Da.g.parse(h)}catch{C=null}if(Array.isArray(C)&&C.length==3){var P=C;if(P[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)qi(g),Zs(g);else break e;Kc(g),Zt(18)}}else g.za=P[1],0<g.za-g.T&&37500>P[2]&&g.F&&g.v==0&&!g.C&&(g.C=js(w(g.Za,g),6e3));if(1>=Wl(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ni(g,11)}else if((u.K||g.g==u)&&qi(g),!W(h))for(P=g.Da.g.parse(h),h=0;h<P.length;h++){let Oe=P[h];if(g.T=Oe[0],Oe=Oe[1],g.G==2)if(Oe[0]=="c"){g.K=Oe[1],g.ia=Oe[2];let hn=Oe[3];hn!=null&&(g.la=hn,g.j.info("VER="+g.la));let fn=Oe[4];fn!=null&&(g.Aa=fn,g.j.info("SVER="+g.Aa));let Yc=Oe[5];Yc!=null&&typeof Yc=="number"&&0<Yc&&(C=1.5*Yc,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;let Cr=u.g;if(Cr){let pp=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pp){var O=C.h;O.g||pp.indexOf("spdy")==-1&&pp.indexOf("quic")==-1&&pp.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(nr(O,O.h),O.h=null))}if(C.D){let Cv=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cv&&(C.ya=Cv,tt(C.I,C.D,Cv))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var z=u;if(C.qa=l(C,C.J?C.ia:null,C.W),z.K){$n(C.h,z);var ke=z,Et=C.L;Et&&(ke.I=Et),ke.B&&(Uc(ke),zs(ke)),C.g=z}else rd(C);0<g.i.length&&ca(g)}else Oe[0]!="stop"&&Oe[0]!="close"||ni(g,7);else g.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?ni(g,7):zc(g):Oe[0]!="noop"&&g.l&&g.l.ta(Oe),g.v=0)}}tr(4)}catch{}}var ql=class{constructor(u,h){this.g=u,this.map=h}};function zl(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wl(u){return u.h?1:u.g?u.g.size:0}function Kl(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function nr(u,h){u.g?u.g.add(h):u.h=h}function $n(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}zl.prototype.cancel=function(){if(this.i=Ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Ws(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let g of u.g.values())h=h.concat(g.D);return h}return M(u.i)}function na(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],g=u.length,C=0;C<g;C++)h.push(u[C]);return h}h=[],g=0;for(C in u)h[g++]=u[C];return h}function Ql(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var g=0;g<u;g++)h.push(g);return h}h=[],g=0;for(let C in u)h[g++]=C;return h}}}function Ye(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var g=Ql(u),C=na(u),P=C.length,O=0;O<P;O++)h.call(void 0,C[O],g&&g[O],u)}var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,h){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var C=u[g].indexOf("="),P=null;if(0<=C){var O=u[g].substring(0,C);P=u[g].substring(C+1)}else O=u[g];h(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Hn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Hn){this.h=u.h,sa(this,u.j),this.o=u.o,this.g=u.g,jc(this,u.s),this.l=u.l;var h=u.i,g=new oa;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),tp(this,g),this.m=u.m}else u&&(h=String(u).match(ra))?(this.h=!1,sa(this,h[1]||"",!0),this.o=wr(h[2]||""),this.g=wr(h[3]||"",!0),jc(this,h[4]),this.l=wr(h[5]||"",!0),tp(this,h[6]||"",!0),this.m=wr(h[7]||"")):(this.h=!1,this.i=new oa(null,this.h))}Hn.prototype.toString=function(){var u=[],h=this.j;h&&u.push(qn(h,Yl,!0),":");var g=this.g;return(g||h=="file")&&(u.push("//"),(h=this.o)&&u.push(qn(h,Yl,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(qn(g,g.charAt(0)=="/"?ip:rp,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",qn(g,Ks)),u.join("")};function Er(u){return new Hn(u)}function sa(u,h,g){u.j=g?wr(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function jc(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function tp(u,h,g){h instanceof oa?(u.i=h,$c(u.i,u.h)):(g||(h=qn(h,sp)),u.i=new oa(h,u.h))}function tt(u,h,g){u.i.set(h,g)}function Bc(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wr(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qn(u,h,g){return typeof u=="string"?(u=encodeURI(u).replace(h,np),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function np(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yl=/[#\/\?@]/g,rp=/[#\?:]/g,ip=/[#\?]/g,sp=/[#\?@]/g,Ks=/#/g;function oa(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function ei(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(h,g){u.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}n=oa.prototype,n.add=function(u,h){ei(this),this.i=null,u=Tr(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(h),this.h+=1,this};function op(u,h){ei(u),h=Tr(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function Ir(u,h){return ei(u),h=Tr(u,h),u.g.has(h)}n.forEach=function(u,h){ei(this),this.g.forEach(function(g,C){g.forEach(function(P){u.call(h,P,C,this)},this)},this)},n.na=function(){ei(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let C=0;C<h.length;C++){let P=u[C];for(let O=0;O<P.length;O++)g.push(h[C])}return g},n.V=function(u){ei(this);let h=[];if(typeof u=="string")Ir(this,u)&&(h=h.concat(this.g.get(Tr(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)h=h.concat(u[g])}return h},n.set=function(u,h){return ei(this),this.i=null,u=Tr(this,u),Ir(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},n.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function ap(u,h,g){op(u,h),0<g.length&&(u.i=null,u.g.set(Tr(u,h),M(g)),u.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var C=h[g];let O=encodeURIComponent(String(C)),z=this.V(C);for(C=0;C<z.length;C++){var P=O;z[C]!==""&&(P+="="+encodeURIComponent(String(z[C]))),u.push(P)}}return this.i=u.join("&")};function Tr(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function $c(u,h){h&&!u.j&&(ei(u),u.i=null,u.g.forEach(function(g,C){var P=C.toLowerCase();C!=P&&(op(this,C),ap(this,P,g))},u)),u.j=h}function cp(u,h){let g=new Bs;if(a.Image){let C=new Image;C.onload=A(Dn,g,"TestLoadImage: loaded",!0,h,C),C.onerror=A(Dn,g,"TestLoadImage: error",!1,h,C),C.onabort=A(Dn,g,"TestLoadImage: abort",!1,h,C),C.ontimeout=A(Dn,g,"TestLoadImage: timeout",!1,h,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else h(!1)}function aa(u,h){let g=new Bs,C=new AbortController,P=setTimeout(()=>{C.abort(),Dn(g,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:C.signal}).then(O=>{clearTimeout(P),O.ok?Dn(g,"TestPingServer: ok",!0,h):Dn(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),Dn(g,"TestPingServer: error",!1,h)})}function Dn(u,h,g,C,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),C(g)}catch{}}function up(){this.g=new Qf}function Jl(u,h,g){let C=g||"";try{Ye(u,function(P,O){let z=P;d(P)&&(z=Qo(P)),h.push(C+O+"="+encodeURIComponent(z))})}catch(P){throw h.push(C+"type="+encodeURIComponent("_badmap")),P}}function Je(u){this.l=u.Ub||null,this.j=u.eb||!1}R(Je,Fs),Je.prototype.g=function(){return new Hc(this.l,this.j)},Je.prototype.i=(function(u){return function(){return u}})({});function Hc(u,h){Ut.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Hc,Ut),n=Hc.prototype,n.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Ys(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lp(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function lp(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?Qs(this):Ys(this),this.readyState==3&&lp(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Qs(this))},n.Qa=function(u){this.g&&(this.response=u,Qs(this))},n.ga=function(){this.g&&Qs(this)};function Qs(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ys(u)}n.setRequestHeader=function(u,h){this.u.append(u,h)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=h.next();return u.join(`\r
`)};function Ys(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xl(u){let h="";return ce(u,function(g,C){h+=C,h+=":",h+=g,h+=`\r
`}),h}function Js(u,h,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=Xl(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):tt(u,h,g))}function Ve(u){Ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ve,Ut);var dp=/^https?$/i,bv=["POST","PUT"];n=Ve.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,h,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zo.g(),this.v=this.o?Bl(this.o):Bl(Zo),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(O){Xs(this,O);return}if(u=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var P in C)g.set(P,C[P]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(let O of C.keys())g.set(O,C.get(O));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),P=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bv,h,void 0))||C||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,z]of g)this.g.setRequestHeader(O,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ed(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){Xs(this,O)}};function Xs(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,Zl(u),Hi(u)}function Zl(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Hi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Ve.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qc(this):this.bb())},n.bb=function(){qc(this)};function qc(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)Gf(u.Ea,0,u);else if(qt(u,"readystatechange"),Sn(u)==4){u.h=!1;try{let z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var C;if(C=z===0){var P=String(u.D).match(ra)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),C=!dp.test(P?P.toLowerCase():"")}g=C}if(g)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var O=2<Sn(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",Zl(u)}}finally{Hi(u)}}}}function Hi(u,h){if(u.g){ed(u);let g=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||qt(u,"ready");try{g.onreadystatechange=C}catch{}}}function ed(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),Bi(h)}};function hp(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fp(u){let h={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(W(u[C]))continue;var g=b(u[C]);let P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let O=h[P]||[];h[P]=O,O.push(g)}I(h,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(u,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||h}function td(u){this.Aa=0,this.i=[],this.j=new Bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,u),this.cb=br("retryDelaySeedMs",1e4,u),this.Wa=br("forwardChannelMaxRetries",2,u),this.wa=br("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zl(u&&u.concurrentRequestLimit),this.Da=new up,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=td.prototype,n.la=8,n.G=1,n.connect=function(u,h,g,C){Zt(0),this.W=u,this.H=h||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=l(this,null,this.W),ca(this)};function zc(u){if(Gc(u),u.G==3){var h=u.U++,g=Er(u.I);if(tt(g,"SID",u.K),tt(g,"RID",h),tt(g,"TYPE","terminate"),eo(u,g),h=new Xr(u,u.j,h),h.L=2,h.v=Bc(Er(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=p(h.j,null),h.g.ea(h.v)),h.F=Date.now(),zs(h)}zi(u)}function Zs(u){u.g&&(Qc(u),u.g.cancel(),u.g=null)}function Gc(u){Zs(u),u.u&&(a.clearTimeout(u.u),u.u=null),qi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ca(u){if(!Gl(u.h)&&!u.s){u.s=!0;var h=u.Ga;te||pt(),ne||(te(),ne=!0),we.add(h,u),u.B=0}}function Wc(u,h){return Wl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=js(w(u.Ga,u,h),sd(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let P=new Xr(this,this.j,u),O=this.o;if(this.S&&(O?(O=y(O),T(O,this.S)):O=this.S),this.m!==null||this.O||(P.H=O,O=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(h+=C,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=ti(this,P,h),g=Er(this.I),tt(g,"RID",u),tt(g,"CVER",22),this.D&&tt(g,"X-HTTP-Session-Id",this.D),eo(this,g),O&&(this.O?h="headers="+encodeURIComponent(String(Xl(O)))+"&"+h:this.m&&Js(g,this.m,O)),nr(this.h,P),this.Ua&&tt(g,"TYPE","init"),this.P?(tt(g,"$req",h),tt(g,"SID","null"),P.T=!0,Vc(P,g,null)):Vc(P,g,h),this.G=2}}else this.G==3&&(u?nd(this,u):this.i.length==0||Gl(this.h)||nd(this))};function nd(u,h){var g;h?g=h.l:g=u.U++;let C=Er(u.I);tt(C,"SID",u.K),tt(C,"RID",g),tt(C,"AID",u.T),eo(u,C),u.m&&u.o&&Js(C,u.m,u.o),g=new Xr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),h&&(u.i=h.D.concat(u.i)),h=ti(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),nr(u.h,g),Vc(g,C,h)}function eo(u,h){u.H&&ce(u.H,function(g,C){tt(h,C,g)}),u.l&&Ye({},function(g,C){tt(h,C,g)})}function ti(u,h,g){g=Math.min(u.i.length,g);var C=u.l?w(u.l.Na,u.l,u):null;e:{var P=u.i;let O=-1;for(;;){let z=["count="+g];O==-1?0<g?(O=P[0].g,z.push("ofs="+O)):O=0:z.push("ofs="+O);let ke=!0;for(let Et=0;Et<g;Et++){let Oe=P[Et].g,hn=P[Et].map;if(Oe-=O,0>Oe)O=Math.max(0,P[Et].g-100),ke=!1;else try{Jl(hn,z,"req"+Oe+"_")}catch{C&&C(hn)}}if(ke){C=z.join("&");break e}}}return u=u.i.splice(0,g),h.D=u,C}function rd(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;te||pt(),ne||(te(),ne=!0),we.add(h,u),u.v=0}}function Kc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=js(w(u.Fa,u),sd(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,id(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=js(w(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Zs(this),id(this))};function Qc(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function id(u){u.g=new Xr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Er(u.qa);tt(h,"RID","rpc"),tt(h,"SID",u.K),tt(h,"AID",u.T),tt(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(h,"TO",u.ja),tt(h,"TYPE","xmlhttp"),eo(u,h),u.m&&u.o&&Js(h,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Bc(Er(h)),g.m=null,g.P=!0,Lc(g,u)}n.Za=function(){this.C!=null&&(this.C=null,Zs(this),Kc(this),Zt(19))};function qi(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function dn(u,h){var g=null;if(u.g==h){qi(u),Qc(u),u.g=null;var C=2}else if(Kl(u.h,h))g=h.D,$n(u.h,h),C=1;else return;if(u.G!=0){if(h.o)if(C==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var P=u.B;C=Oc(),qt(C,new Yo(C,g)),ca(u)}else rd(u);else if(P=h.s,P==3||P==0&&0<h.X||!(C==1&&Wc(u,h)||C==2&&Kc(u)))switch(g&&0<g.length&&(h=u.h,h.i=h.i.concat(g)),P){case 1:ni(u,5);break;case 4:ni(u,10);break;case 3:ni(u,6);break;default:ni(u,2)}}}function sd(u,h){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*h}function ni(u,h){if(u.j.info("Error code "+h),h==2){var g=w(u.fb,u),C=u.Xa;let P=!C;C=new Hn(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sa(C,"https"),Bc(C),P?cp(C.toString(),g):aa(C.toString(),g)}else Zt(2);u.G=0,u.l&&u.l.sa(h),zi(u),Gc(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function zi(u){if(u.G=0,u.ka=[],u.l){let h=Ws(u.h);(h.length!=0||u.i.length!=0)&&(x(u.ka,h),x(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function l(u,h,g){var C=g instanceof Hn?Er(g):new Hn(g);if(C.g!="")h&&(C.g=h+"."+C.g),jc(C,C.s);else{var P=a.location;C=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var O=new Hn(null);C&&sa(O,C),h&&(O.g=h),P&&jc(O,P),g&&(O.l=g),C=O}return g=u.D,h=u.ya,g&&h&&tt(C,g,h),tt(C,"VER",u.la),eo(u,C),C}function p(u,h,g){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new Ve(new Je({eb:g})):new Ve(u.pa),h.Ha(u.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _(){}n=_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function D(){}D.prototype.g=function(u,h){return new N(u,h)};function N(u,h){Ut.call(this),this.g=new td(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!W(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!W(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new ue(this)}R(N,Ut),N.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},N.prototype.close=function(){zc(this.g)},N.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Qo(u),u=g);h.i.push(new ql(h.Ya++,u)),h.G==3&&ca(h)},N.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,N.aa.N.call(this)};function k(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let g in h){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}R(k,jt);function G(){kc.call(this),this.status=1}R(G,kc);function ue(u){this.g=u}R(ue,_),ue.prototype.ua=function(){qt(this.g,"a")},ue.prototype.ta=function(u){qt(this.g,new k(u))},ue.prototype.sa=function(u){qt(this.g,new G)},ue.prototype.ra=function(){qt(this.g,"b")},D.prototype.createWebChannel=D.prototype.g,N.prototype.send=N.prototype.o,N.prototype.open=N.prototype.m,N.prototype.close=N.prototype.close,vV=Ss.createWebChannelTransport=function(){return new D},_V=Ss.getStatEventTarget=function(){return Oc()},yV=Ss.Event=Bn,gV=Ss.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,mV=Ss.ErrorCode=Xo,Fc.COMPLETE="complete",pV=Ss.EventType=Fc,Vs.EventType=Ls,Ls.OPEN="a",Ls.CLOSE="b",Ls.ERROR="c",Ls.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,fV=Ss.WebChannel=Vs,R7=Ss.FetchXmlHttpFactory=Je,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,hV=Ss.XhrIo=Ve}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var EV="@firebase/firestore",wV="4.8.0";var ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");var xf="11.10.0";var Pl=new wi("@firebase/firestore");function Qr(n,...e){if(Pl.logLevel<=Be.DEBUG){let t=e.map(GD);Pl.debug(`Firestore (${xf}): ${n}`,...t)}}function kV(n,...e){if(Pl.logLevel<=Be.ERROR){let t=e.map(GD);Pl.error(`Firestore (${xf}): ${n}`,...t)}}function N7(n,...e){if(Pl.logLevel<=Be.WARN){let t=e.map(GD);Pl.warn(`Firestore (${xf}): ${n}`,...t)}}function GD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Un(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,OV(n,r,t)}function OV(n,e,t){let r=`FIRESTORE (${xf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw kV(r),new Error(r)}function bc(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||OV(e,i,r)}var Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Se=class extends Cn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cc=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var W_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},SD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}},AD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},RD=class{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bc(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Cc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cc,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Qr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Qr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cc)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Qr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bc(typeof r.accessToken=="string",31837,{l:r}),new W_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return bc(e===null||typeof e=="string",2055,{h:e}),new ln(e)}},ND=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},PD=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ND(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}},K_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},MD=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bc(this.o===void 0,3512);let r=s=>{s.error!=null&&Qr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,Qr("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Qr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Qr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bc(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new K_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function P7(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function M7(){return new TextEncoder}var xD=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=P7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function vr(n,e){return n<e?-1:n>e?1:0}function x7(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return vr(r,i);{let s=M7(),o=k7(s.encode(IV(n,t)),s.encode(IV(e,t)));return o!==0?o:vr(r,i)}}t+=r>65535?2:1}return vr(n.length,e.length)}function IV(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function k7(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return vr(n[t],e[t]);return vr(n.length,e.length)}var TV="__name__",Q_=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Un(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Un(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return vr(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):x7(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return z_.fromString(e.substring(4,e.length-2))}},As=class n extends Q_{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Se(Me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},O7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kD=class n extends Q_{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return O7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TV}static keyField(){return new n([TV])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new Se(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Se(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Se(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Rs=class n{constructor(e){this.path=e}static fromPath(e){return new n(As.fromString(e))}static fromName(e){return new n(As.fromString(e).popFirst(5))}static empty(){return new n(As.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&As.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return As.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new As(e.slice()))}};function F7(n,e,t,r){if(e===!0&&r===!0)throw new Se(Me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function V7(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function L7(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Un(12329,{type:typeof n})}function U7(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=L7(n);throw new Se(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ft(n,e){let t={typeString:n};return e&&(t.value=e),t}function kf(n,e){if(!V7(n))throw new Se(Me.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Se(Me.INVALID_ARGUMENT,t);return!0}var bV=-62135596800,CV=1e6,Sf=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*CV);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bV)throw new Se(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CV}_compareTo(e){return this.seconds===e.seconds?vr(this.nanoseconds,e.nanoseconds):vr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kf(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-bV;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Sf._jsonSchemaVersion="firestore/timestamp/1.0",Sf._jsonSchema={type:Ft("string",Sf._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};var OD=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};OD.UNKNOWN_ID=-1;function j7(n){return n.name==="IndexedDbTransactionError"}function B7(n){return n===0&&1/n==-1/0}var $7="remoteDocuments",FV="owner";var VV="mutationQueues";var LV="mutations";var UV="documentMutations",H7="remoteDocumentsV14";var jV="remoteDocumentGlobal";var BV="targets";var $V="targetDocuments";var HV="targetGlobal",qV="collectionParents";var zV="clientMetadata";var GV="bundles";var WV="namedQueries";var q7="indexConfiguration";var z7="indexState";var G7="indexEntries";var KV="documentOverlays";var W7="globals";var K7=[VV,LV,UV,$7,BV,FV,HV,$V,zV,jV,qV,GV,WV],t_e=[...K7,KV],Q7=[VV,LV,UV,H7,BV,FV,HV,$V,zV,jV,qV,GV,WV,KV],Y7=Q7,J7=[...Y7,q7,z7,G7];var n_e=[...J7,W7];var Ml=class n{constructor(e,t){this.comparator=e,this.root=t||Li.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sl(this.root,e,this.comparator,!0)}},Sl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Li=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Un(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Un(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Un(27949);return e+(this.isRed()?0:1)}};Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1;Li.EMPTY=new class{constructor(){this.size=0}get key(){throw Un(57766)}get value(){throw Un(16141)}get color(){throw Un(16727)}get left(){throw Un(29726)}get right(){throw Un(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Y_=class n{constructor(e){this.comparator=e,this.data=new Ml(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},J_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var FD=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qo=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FD("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qo.EMPTY_BYTE_STRING=new qo("");var X7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Z7(n){if(bc(!!n,39018),typeof n=="string"){let e=0,t=X7.exec(n);if(bc(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Af(n.seconds),nanos:Af(n.nanos)}}function Af(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eK(n){return typeof n=="string"?qo.fromBase64String(n):qo.fromUint8Array(n)}var VD="(default)",LD=class n{constructor(e,t){this.projectId=e,this.database=t||VD}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===VD}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var QV="__type__",tK="__max__";var YV="__vector__",JV="value";function nK(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[QV])===null||t===void 0?void 0:t.stringValue)===YV}function rK(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tK}var i_e={mapValue:{fields:{[QV]:{stringValue:YV},[JV]:{arrayValue:{}}}}};var UD=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function iK(n){return new UD(n)}var s_e=new Ml(Rs.comparator);var o_e=new Ml(Rs.comparator);var a_e=new Ml(Rs.comparator),c_e=new Y_(Rs.comparator);var u_e=new Y_(vr);var DV,Pe;(Pe=DV||(DV={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var l_e=new z_([4294967295,4294967295],0);var X_=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Af(e.integerValue));else if("doubleValue"in e){let r=Af(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),B7(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Z7(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(eK(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?rK(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):nK(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Un(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let o=JV,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Af(a)),this.xt(o,t),this.Dt(s[o],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Rs.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};X_.Ut=new X_;var d_e=new Uint8Array(0);var XV=41943040,Vi=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Vi.DEFAULT_COLLECTION_PERCENTILE=10,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vi.DEFAULT=new Vi(XV,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vi.DISABLED=new Vi(-1,0,0);var sK=1048576;function DD(){return typeof document<"u"?document:null}var jD=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Qr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var BD=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var SV,AV;(AV=SV||(SV={})).Fa="default",AV.Cache="cache";function oK(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var RV=new Map;var ZV="firestore.googleapis.com",NV=!0,Z_=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZV,this.ssl=NV}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:NV;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sK)throw new Se(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oK((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ev=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SD;switch(r.type){case"firstParty":return new PD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=RV.get(t);r&&(Qr("ComponentProvider","Removing Datastore"),RV.delete(t),r.terminate())})(this),Promise.resolve()}};function eL(n,e,t,r={}){var i;n=U7(n,ev);let s=as(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(Gu(`https://${c}`),Wu("Firestore",!0)),o.host!==ZV&&o.host!==c&&N7("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!Ei(d,a)&&(n._setSettings(d),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=ln.MOCK_USER;else{f=fy(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Se(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ln(w)}n._authCredentials=new AD(new W_(f,m))}}var $D=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Dc=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new HD(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(kf(t,n._jsonSchema))return new n(e,r||null,new Rs(As.fromString(t.referencePath)))}};Dc._jsonSchemaVersion="firestore/documentReference/1.0",Dc._jsonSchema={type:Ft("string",Dc._jsonSchemaVersion),referencePath:Ft("string")};var HD=class n extends $D{constructor(e,t,r){super(e,t,iK(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Dc(this.firestore,null,new Rs(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var PV="AsyncQueue",tv=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new jD(this,"async_queue_retry"),this.oc=()=>{let r=DD();r&&Qr(PV,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=DD();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=DD();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Cc;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!j7(e))throw e;Qr(PV,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,kV("INTERNAL UNHANDLED ERROR: ",MV(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=BD.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Un(47125,{hc:MV(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function MV(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var qD=class extends ev{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tv,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new tv(e),this._firestoreClient=void 0,await e}}};function tL(n,e){let t=typeof n=="object"?n:us(),r=typeof n=="string"?n:e||VD,i=Ro(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=hy("firestore");s&&eL(i,...s)}return i}var Rf=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qo.fromBase64String(e))}catch(t){throw new Se(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kf(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Rf._jsonSchemaVersion="firestore/bytes/1.0",Rf._jsonSchema={type:Ft("string",Rf._jsonSchemaVersion),bytes:Ft("string")};var nv=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kD(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Nf=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vr(this._lat,e._lat)||vr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(kf(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Nf._jsonSchemaVersion="firestore/geoPoint/1.0",Nf._jsonSchema={type:Ft("string",Nf._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};var Pf=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kf(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Se(Me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Pf._jsonSchemaVersion="firestore/vectorValue/1.0",Pf._jsonSchema={type:Ft("string",Pf._jsonSchemaVersion),vectorValues:Ft("object")};var aK=new RegExp("[~\\*/\\[\\]]");function cK(n,e,t){if(e.search(aK)>=0)throw xV(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nv(...e.split("."))._internalPath}catch{throw xV(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xV(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Se(Me.INVALID_ARGUMENT,a+n+c)}var rv=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dc(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new zD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(nL("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},zD=class extends rv{data(){return super.data()}};function nL(n,e){return typeof e=="string"?cK(n,e):e instanceof nv?e._internalPath:e._delegate._internalPath}var Al=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rl=class n extends rv{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(nL("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(Me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rl._jsonSchema={type:Ft("string",Rl._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};var Nl=class extends Rl{data(e={}){return super.data(e)}},Mf=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nl(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Nl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Nl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:uK(a.type),doc:c,oldIndex:d,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(Me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function uK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Un(61501,{type:n})}}Mf._jsonSchemaVersion="firestore/querySnapshot/1.0",Mf._jsonSchema={type:Ft("string",Mf._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};(function(e,t=!0){(function(i){xf=i})(Ti),Xn(new cn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new qD(new RD(r.getProvider("auth-internal")),new MD(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new LD(d.options.projectId,f)})(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),it(EV,wV,e),it(EV,wV,"esm2017")})();var Of=class{constructor(e){return e}},rL="firestore",WD=class{constructor(){return No(rL)}};var KD=new Q("angularfire2.firestore-instances");function lK(n,e){let t=ec(rL,n,e);return t&&new Of(t)}function dK(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Of(r)}}var hK={provide:WD,deps:[[new zt,KD]]},fK={provide:Of,useFactory:lK,deps:[[new zt,KD],qr]};function iL(n,...e){return it("angularfire",bi.full,"fst"),sn([fK,hK,{provide:KD,useFactory:dK(n),multi:!0,deps:[Ge,lt,Ci,ds,[new zt,ac],[new zt,Mo],...e]}])}var sL=ls(tL,!0);var dL="firebasestorage.googleapis.com",pK="storageBucket",mK=120*1e3,gK=600*1e3;var Ui=class n extends Cn{constructor(e,t,r=0){super(QD(e),`Firebase Storage: ${t} (${QD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ps=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(Ps||{});function QD(n){return"storage/"+n}function yK(){let n="An unknown error occurred, please check the error payload for server response.";return new Ui(Ps.UNKNOWN,n)}function _K(){return new Ui(Ps.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vK(){return new Ui(Ps.CANCELED,"User canceled the upload/download.")}function EK(n){return new Ui(Ps.INVALID_URL,"Invalid URL '"+n+"'.")}function wK(n){return new Ui(Ps.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function oL(n){return new Ui(Ps.INVALID_ARGUMENT,n)}function hL(){return new Ui(Ps.APP_DELETED,"The Firebase app was deleted.")}function IK(n){return new Ui(Ps.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ns=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw wK(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(re){re.path_=decodeURIComponent(re.path)}let f="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${m}/${f}/b/${i}/o${w}`,"i"),R={bucket:1,path:3},M=t===dL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",j=new RegExp(`^https?://${M}/${i}/${x}`,"i"),K=[{regex:a,indices:c,postModify:s},{regex:A,indices:R,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let re=0;re<K.length;re++){let Fe=K[re],ce=Fe.regex.exec(e);if(ce){let I=ce[Fe.indices.bucket],y=ce[Fe.indices.path];y||(y=""),r=new n(I,y),Fe.postModify(r);break}}if(r==null)throw EK(e);return r}},YD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function TK(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let d=!1;function f(...x){d||(d=!0,e.apply(null,x))}function m(x){i=setTimeout(()=>{i=null,n(A,c())},x)}function w(){s&&clearTimeout(s)}function A(x,...j){if(d){w();return}if(x){w(),f.call(null,x,...j);return}if(c()||o){w(),f.call(null,x,...j);return}r<64&&(r*=2);let K;a===1?(a=2,K=0):K=(r+Math.random())*1e3,m(K)}let R=!1;function M(x){R||(R=!0,w(),!d&&(i!==null?(x||(a=2),clearTimeout(i),m(0)):x||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,M(!0)},t),M}function bK(n){n(!1)}function CK(n){return n!==void 0}function aL(n,e,t,r){if(r<e)throw oL(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw oL(`Invalid value for '${n}'. Expected ${t} or less.`)}function DK(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var JD=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(JD||{});function SK(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var XD=class{constructor(e,t,r,i,s,o,a,c,d,f,m,w=!0,A=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=w,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,M)=>{this.resolve_=R,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new xl(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===JD.NO_ERROR,c=s.getStatus();if(!a||SK(c,this.additionalRetryCodes_)&&this.retry){let f=s.getErrorCode()===JD.ABORT;r(!1,new xl(!1,null,f));return}let d=this.successCodes_.indexOf(c)!==-1;r(!0,new xl(d,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());CK(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=yK();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?hL():vK();o(c)}else{let c=_K();o(c)}};this.canceled_?t(!1,new xl(!1,null,!0)):this.backoffId_=TK(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},xl=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function AK(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function RK(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NK(n,e){e&&(n["X-Firebase-GMPID"]=e)}function PK(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function MK(n,e,t,r,i,s,o=!0,a=!1){let c=DK(n.urlParams),d=n.url+c,f=Object.assign({},n.headers);return NK(f,e),AK(f,t),RK(f,s),PK(f,r),new XD(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,a)}function xK(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function kK(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Nve=256*1024;var ZD=class n{constructor(e,t){this._service=e,t instanceof Ns?this._location=t:this._location=Ns.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kK(this._location.path)}get storage(){return this._service}get parent(){let e=xK(this._location.path);if(e===null)return null;let t=new Ns(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw IK(e)}};function cL(n,e){let t=e?.[pK];return t==null?null:Ns.makeFromBucketSpec(t,n)}function OK(n,e,t,r={}){n.host=`${e}:${t}`;let i=as(e);i&&(Gu(`https://${n.host}/b`),Wu("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:fy(s,n.app.options.projectId))}var eS=class{constructor(e,t,r,i,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=dL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mK,this._maxUploadRetryTime=gK,this._requests=new Set,i!=null?this._bucket=Ns.makeFromBucketSpec(i,this._host):this._bucket=cL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ns.makeFromBucketSpec(this._url,e):this._bucket=cL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ZD(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new YD(hL());{let o=MK(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){let[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}},uL="@firebase/storage",lL="0.13.14";var fL="storage";function pL(n=us(),e){n=Hr(n);let r=Ro(n,fL).getImmediate({identifier:e}),i=hy("storage");return i&&mL(r,...i),r}function mL(n,e,t,r={}){OK(n,e,t,r)}function FK(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new eS(t,r,i,e,Ti)}function LK(){Xn(new cn(fL,FK,"PUBLIC").setMultipleInstances(!0)),it(uL,lL,""),it(uL,lL,"esm2017")}LK();var Ff=class{constructor(e){return e}},gL="storage",tS=class{constructor(){return No(gL)}};var nS=new Q("angularfire2.storage-instances");function UK(n,e){let t=ec(gL,n,e);return t&&new Ff(t)}function jK(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ff(r)}}var BK={provide:tS,deps:[[new zt,nS]]},$K={provide:Ff,useFactory:UK,deps:[[new zt,nS],qr]};function yL(n,...e){return it("angularfire",bi.full,"gcs"),sn([$K,BK,{provide:nS,useFactory:jK(n),multi:!0,deps:[Ge,lt,Ci,ds,[new zt,ac],[new zt,Mo],...e]}])}var _L=ls(pL,!0);var iv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"hero"],["routerLink","/login",1,"cta-button"]],template:function(t,r){t&1&&(B(0,"section",0)(1,"h2"),q(2,"Bienvenido a Agility Asturias"),U(),B(3,"p"),q(4,"Perretes y agility en Asturias."),U(),B(5,"button",1),q(6,"Entrar"),U()())},dependencies:[Uu],styles:[".hero[_ngcontent-%COMP%]{text-align:center;padding:4rem 0}.cta-button[_ngcontent-%COMP%]{background-color:var(--secondary-yellow);color:var(--primary-blue);border:none;padding:.75rem 1.5rem;font-size:1rem;font-weight:700;border-radius:4px;cursor:pointer;margin-top:1rem}"]})};function HK(n,e){if(n&1){let t=_n();B(0,"div",8)(1,"div",9)(2,"span",10),q(3),U()(),B(4,"div",11)(5,"div",12)(6,"span",13),q(7,"Disponibilidad:"),U(),B(8,"span",14),q(9),U()(),B(10,"div",15),dt(11,"div",16),U()(),B(12,"div",17)(13,"button",18),be("click",function(){let i=nt(t).$implicit,s=xe(2);return rt(s.cancelSlot(i.id))}),q(14," Cancelar "),U(),B(15,"button",19),be("click",function(){let i=nt(t).$implicit,s=xe(2);return rt(s.bookSlot(i.id))}),q(16),U()()()}if(n&2){let t=e.$implicit;Qn("full",t.currentBookings>=t.maxBookings),J(3),Kd("",t.startTime," - ",t.endTime),J(6),Kd("",t.currentBookings," / ",t.maxBookings),J(2),Zm("width",t.currentBookings/t.maxBookings*100,"%"),J(2),fe("disabled",t.currentBookings===0),J(2),fe("disabled",t.currentBookings>=t.maxBookings),J(),lr(" ",t.currentBookings>=t.maxBookings?"Completo":"Reservar"," ")}}function qK(n,e){if(n&1&&(B(0,"div")(1,"div",3)(2,"h3",4),q(3),U(),B(4,"span",5),q(5),U()(),B(6,"div",6),ut(7,HK,17,11,"div",7),U()()),n&2){let t=e.$implicit;J(3),Gt(t.day),J(),Qn("morning",t.period==="Ma\xF1ana")("afternoon",t.period==="Tarde"),J(),lr(" ",t.period," "),J(2),fe("ngForOf",t.slots)}}var sv=class n{slots=ot(this.generateSlots());groupedSlots=es(()=>{let e=this.slots();return["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado","Domingo"].map(i=>({day:i,period:i==="Lunes"||i==="Jueves"?"Ma\xF1ana":"Tarde",slots:e.filter(s=>s.day===i)})).filter(i=>i.slots.length>0)});generateSlots(){let e=["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado","Domingo"],t=[],r=1;return e.forEach(i=>{i==="Lunes"||i==="Jueves"?t.push({id:r++,day:i,startTime:"10:00",endTime:"11:30",currentBookings:0,maxBookings:5},{id:r++,day:i,startTime:"11:30",endTime:"13:00",currentBookings:0,maxBookings:5},{id:r++,day:i,startTime:"13:00",endTime:"14:30",currentBookings:0,maxBookings:5}):["Martes","Mi\xE9rcoles","Viernes"].includes(i)&&t.push({id:r++,day:i,startTime:"16:30",endTime:"18:00",currentBookings:0,maxBookings:7},{id:r++,day:i,startTime:"18:00",endTime:"19:30",currentBookings:0,maxBookings:5},{id:r++,day:i,startTime:"19:30",endTime:"21:00",currentBookings:0,maxBookings:6})}),t}bookSlot(e){this.slots.update(t=>t.map(r=>r.id===e&&r.currentBookings<r.maxBookings?oe(F({},r),{currentBookings:r.currentBookings+1}):r))}cancelSlot(e){this.slots.update(t=>t.map(r=>r.id===e&&r.currentBookings>0?oe(F({},r),{currentBookings:r.currentBookings-1}):r))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-gestionar-reservas"]],decls:6,vars:1,consts:[[1,"reservations-container"],[1,"subtitle"],[4,"ngFor","ngForOf"],[1,"header-container"],[1,"day-header"],[1,"period-badge"],[1,"slots-grid"],["class","slot-card",3,"full",4,"ngFor","ngForOf"],[1,"slot-card"],[1,"slot-time"],[1,"time"],[1,"slot-status"],[1,"crowdedness"],[1,"label"],[1,"value"],[1,"progress-bar"],[1,"fill"],[1,"actions"],[1,"book-btn","cancel-btn",3,"click","disabled"],[1,"book-btn",3,"click","disabled"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"h2"),q(2,"Gestionar Reservas"),U(),B(3,"p",1),q(4,"Selecciona una franja horaria para reservar tu clase de Agility."),U(),ut(5,qK,8,7,"div",2),U()),t&2&&(J(5),fe("ngForOf",r.groupedSlots()))},dependencies:[fr,mi],styles:[".reservations-container[_ngcontent-%COMP%]{padding:2rem 0}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:var(--text-light);margin-bottom:3rem}.header-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto 1rem;border-bottom:2px solid var(--secondary-yellow);padding-bottom:.5rem;display:flex;align-items:center;gap:1rem}.day-header[_ngcontent-%COMP%]{margin:0;color:var(--primary-blue);font-size:1.5rem}.period-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:999px;font-size:.875rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em}.period-badge.morning[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00;border:1px solid #ffe0b2}.period-badge.afternoon[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2;border:1px solid #bbdefb}.slots-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;max-width:900px;margin:0 auto 2rem}.slot-card[_ngcontent-%COMP%]{background:var(--white);border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000000d;border:1px solid rgba(0,0,0,.05);display:flex;flex-direction:column;gap:1.25rem;transition:transform .2s ease}.slot-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.slot-time[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:1.1rem}.day[_ngcontent-%COMP%]{color:var(--primary-blue)}.slot-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.crowdedness[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.9rem;color:var(--text-light)}.progress-bar[_ngcontent-%COMP%]{height:6px;background-color:#eee;border-radius:3px;overflow:hidden}.fill[_ngcontent-%COMP%]{height:100%;background-color:var(--secondary-yellow);transition:width .3s ease}.slot-card.full[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#e57373}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.book-btn[_ngcontent-%COMP%]{flex:1;background-color:var(--primary-blue);color:var(--white);border:none;padding:.75rem;border-radius:4px;cursor:pointer;font-weight:500;transition:background-color .2s}.book-btn[_ngcontent-%COMP%]:hover:not([disabled]){background-color:color-mix(in srgb,var(--primary-blue),black 10%)}.book-btn[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.cancel-btn[_ngcontent-%COMP%]{background-color:#ef5350}.cancel-btn[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#d32f2f}"]})};var ov=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-contacto"]],decls:47,vars:0,consts:[[1,"contact-container"],[1,"contact-header"],[1,"subtitle"],[1,"contact-wrapper"],[1,"info-column"],[1,"info-card"],[1,"info-item"],[1,"icon-box"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"info-content"],["href","https://wa.me/34633484345","target","_blank","rel","noopener noreferrer",1,"whatsapp-btn"],[1,"secondary-text","phone-number"],[1,"divider"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["href","mailto:agilityasturias@gmail.com",1,"email-link"],["d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"],["cx","12","cy","10","r","3"],[1,"map-column"],[1,"map-card"],["src",qw`https://maps.google.com/maps?q=Agility+Asturias,+Langreo&t=&z=15&ie=UTF8&iwloc=&output=embed`,"width","100%","height","100%","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"]],template:function(t,r){t&1&&(Pt(0,"div",0)(1,"div",1)(2,"h2"),q(3,"Cont\xE1ctanos"),on(),Pt(4,"p",2),q(5,"Estamos deseando conocerte a ti y a tu perro"),on()(),Pt(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),mu(),Pt(11,"svg",8),pi(12,"path",9),on()(),gu(),Pt(13,"div",10)(14,"h3"),q(15,"Tel\xE9fono / WhatsApp"),on(),Pt(16,"a",11),q(17," Chat en WhatsApp "),on(),Pt(18,"p",12),q(19,"633 48 43 45"),on()()(),pi(20,"div",13),Pt(21,"div",6)(22,"div",7),mu(),Pt(23,"svg",8),pi(24,"path",14)(25,"polyline",15),on()(),gu(),Pt(26,"div",10)(27,"h3"),q(28,"Correo Electr\xF3nico"),on(),Pt(29,"a",16),q(30,"agilityasturias@gmail.com"),on()()(),pi(31,"div",13),Pt(32,"div",6)(33,"div",7),mu(),Pt(34,"svg",8),pi(35,"path",17)(36,"circle",18),on()(),gu(),Pt(37,"div",10)(38,"h3"),q(39,"Ubicaci\xF3n"),on(),Pt(40,"address"),q(41," Antig\xFCo Campo de f\xFAtbol La Salle"),pi(42,"br"),q(43," Langreo, Asturias, CP: 33939 "),on()()()()(),Pt(44,"div",19)(45,"div",20),pi(46,"iframe",21),on()()()())},styles:[".contact-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1rem}.contact-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}h2[_ngcontent-%COMP%]{color:var(--primary-blue);font-size:2.5rem;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--text-light)}.contact-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;align-items:stretch}.info-card[_ngcontent-%COMP%]{background:var(--white);padding:2.5rem;border-radius:12px;box-shadow:0 4px 20px #0000000d;height:100%;display:flex;flex-direction:column;justify-content:center}.info-item[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:flex-start}.icon-box[_ngcontent-%COMP%]{background-color:#e3f2fd;color:var(--primary-blue);width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.info-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-light);margin:0 0 .5rem;font-weight:600}.phone-number[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:700;color:var(--text-main);margin-top:.5rem;letter-spacing:.5px}.whatsapp-btn[_ngcontent-%COMP%]{display:inline-block;background-color:#25d366;color:#fff;padding:.5rem 1rem;border-radius:20px;font-weight:500;text-decoration:none;transition:background-color .2s;margin-bottom:.25rem}.whatsapp-btn[_ngcontent-%COMP%]:hover{background-color:#1ebc57}.email-link[_ngcontent-%COMP%]{color:var(--primary-blue);font-size:1.1rem;font-weight:500;text-decoration:none}.email-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.secondary-text[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-light);margin-top:.25rem}address[_ngcontent-%COMP%]{font-style:normal;color:var(--text-main);line-height:1.6;font-size:1.1rem}.divider[_ngcontent-%COMP%]{height:1px;background-color:#eee;margin:2rem 0}.map-card[_ngcontent-%COMP%]{height:100%;min-height:400px;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px #0000000d}@media(max-width:900px){.contact-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr}.map-card[_ngcontent-%COMP%]{min-height:300px}.info-card[_ngcontent-%COMP%]{padding:2rem}}@media(max-width:600px){h2[_ngcontent-%COMP%]{font-size:2rem}.contact-container[_ngcontent-%COMP%]{padding:1rem .5rem}.info-card[_ngcontent-%COMP%]{padding:1.5rem}.info-item[_ngcontent-%COMP%]{gap:1rem}.icon-box[_ngcontent-%COMP%]{width:40px;height:40px}.phone-number[_ngcontent-%COMP%]{font-size:1.25rem}.whatsapp-btn[_ngcontent-%COMP%]{width:100%;text-align:center}}"]})};function zK(n,e){if(n&1){let t=_n();B(0,"div",5),be("click",function(){let i=nt(t).index,s=xe();return rt(s.openLightbox(i))}),dt(1,"img",6),B(2,"div",7)(3,"span"),q(4),U()()()}if(n&2){let t=e.$implicit;J(),fe("src",t.url,kr)("alt",t.alt),J(3),Gt(t.alt)}}function GK(n,e){if(n&1){let t=_n();B(0,"div",8),be("click",function(){nt(t);let i=xe();return rt(i.closeLightbox())}),B(1,"div",9),be("click",function(i){return nt(t),rt(i.stopPropagation())}),B(2,"button",10),be("click",function(){nt(t);let i=xe();return rt(i.closeLightbox())}),q(3,"\xD7"),U(),B(4,"button",11),be("click",function(i){nt(t);let s=xe();return rt(s.prevImage(i))}),q(5,"\u276E"),U(),dt(6,"img",12),B(7,"button",13),be("click",function(i){nt(t);let s=xe();return rt(s.nextImage(i))}),q(8,"\u276F"),U(),B(9,"div",14),q(10),U()()()}if(n&2){let t=xe();J(6),fe("src",t.images()[t.currentImageIndex()].url,kr)("alt",t.images()[t.currentImageIndex()].alt),J(4),lr(" ",t.images()[t.currentImageIndex()].alt," ")}}var av=class n{images=ot([{url:"Images/Perros/Ana y Pompa.jpeg",alt:"Ana y Pompa"},{url:"Images/Perros/Carysse.jpeg",alt:"Carysse"},{url:"Images/Perros/Cris y Peca.jpeg",alt:"Cris y Peca"},{url:"Images/Perros/Diego Tuco y Ponga.jpeg",alt:"Diego Tuco y Ponga"},{url:"Images/Perros/Fiti\xF1o y Fits.jpeg",alt:"Fiti\xF1o y Fits"},{url:"Images/Perros/Golti.jpeg",alt:"Golti"},{url:"Images/Perros/Helena y Pumba.jpeg",alt:"Helena y Pumba"},{url:"Images/Perros/Jes\xFAs y Ginebra.jpeg",alt:"Jes\xFAs y Ginebra"},{url:"Images/Perros/Kinder.jpeg",alt:"Kinder"},{url:"Images/Perros/Leah.jpeg",alt:"Leah"},{url:"Images/Perros/Lyan y Boo.jpeg",alt:"Lyan y Boo"},{url:"Images/Perros/Lyan y Shaggy.jpeg",alt:"Lyan y Shaggy"},{url:"Images/Perros/Magda y Balto.jpeg",alt:"Magda y Balto"},{url:"Images/Perros/Marina-Chris Dafne.jpeg",alt:"Marina-Chris Dafne"},{url:"Images/Perros/Merle y Noly.jpeg",alt:"Merle y Noly"},{url:"Images/Perros/Moka.jpeg",alt:"Moka"},{url:"Images/Perros/Nala y Rosa.jpeg",alt:"Nala y Rosa"},{url:"Images/Perros/Narcea.jpeg",alt:"Narcea"},{url:"Images/Perros/Pompa.jpeg",alt:"Pompa"},{url:"Images/Perros/Pumba.jpeg",alt:"Pumba"},{url:"Images/Perros/Raylee.jpeg",alt:"Raylee"},{url:"Images/Perros/Sami.jpeg",alt:"Sami"},{url:"Images/Perros/Sami H.jpeg",alt:"Sami H"}]);lightboxOpen=ot(!1);currentImageIndex=ot(0);constructor(){this.shuffleImages()}shuffleImages(){let e=this.images();for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}this.images.set([...e])}openLightbox(e){this.currentImageIndex.set(e),this.lightboxOpen.set(!0),document.body.style.overflow="hidden"}closeLightbox(){this.lightboxOpen.set(!1),document.body.style.overflow="auto"}nextImage(e){e?.stopPropagation();let t=this.currentImageIndex(),r=this.images().length;this.currentImageIndex.set((t+1)%r)}prevImage(e){e?.stopPropagation();let t=this.currentImageIndex(),r=this.images().length;this.currentImageIndex.set((t-1+r)%r)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-galeria"]],decls:8,vars:3,consts:[[1,"gallery-container"],[1,"subtitle"],[1,"gallery-masonry"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["class","lightbox",3,"click",4,"ngIf"],[1,"gallery-item",3,"click"],["loading","lazy",3,"src","alt"],[1,"overlay"],[1,"lightbox",3,"click"],[1,"lightbox-content",3,"click"],[1,"close-btn",3,"click"],[1,"nav-btn","prev",3,"click"],[1,"lightbox-img",3,"src","alt"],[1,"nav-btn","next",3,"click"],[1,"lightbox-caption"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"h2"),q(2,"Galer\xEDa"),U(),B(3,"p",1),q(4,"Momentos destacados de nuestro equipo."),U(),B(5,"div",2),ut(6,zK,5,3,"div",3),U()(),ut(7,GK,11,3,"div",4)),t&2&&(J(5),fe("@listAnimation",r.images().length),J(),fe("ngForOf",r.images()),J(),fe("ngIf",r.lightboxOpen()))},dependencies:[fr,mi,La],styles:[".gallery-container[_ngcontent-%COMP%]{padding:2rem 1rem;max-width:1400px;margin:0 auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:.5rem;color:var(--primary-blue);font-size:2.5rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:var(--text-light);margin-bottom:3rem;font-size:1.1rem}.gallery-masonry[_ngcontent-%COMP%]{column-count:3;column-gap:1.5rem}.gallery-item[_ngcontent-%COMP%]{break-inside:avoid;margin-bottom:1.5rem;border-radius:12px;overflow:hidden;box-shadow:0 4px 15px #0000001a;cursor:pointer;position:relative;transition:transform .3s cubic-bezier(.25,.8,.25,1),box-shadow .3s ease}.gallery-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #00000026}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;transition:transform .5s ease}.gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000004d;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.gallery-item[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:600;border:1px solid white;padding:.5rem 1rem;border-radius:20px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:1000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.lightbox-content[_ngcontent-%COMP%]{position:relative;max-width:90%;max-height:90vh;display:flex;flex-direction:column;align-items:center}.lightbox-img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;border-radius:4px;box-shadow:0 5px 30px #00000080}.lightbox-caption[_ngcontent-%COMP%]{color:#fff;margin-top:1rem;font-size:1.1rem;font-weight:300}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-40px;right:0;background:none;border:none;color:#fff;font-size:2.5rem;cursor:pointer;line-height:1;padding:0}.nav-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#ffffff1a;border:none;color:#fff;font-size:2rem;cursor:pointer;padding:1rem;border-radius:50%;transition:background .2s}.nav-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.prev[_ngcontent-%COMP%]{left:-80px}.next[_ngcontent-%COMP%]{right:-80px}@media(max-width:900px){.gallery-masonry[_ngcontent-%COMP%]{column-count:2}}@media(max-width:600px){.gallery-masonry[_ngcontent-%COMP%]{column-count:1}.nav-btn[_ngcontent-%COMP%]{padding:.5rem;font-size:1.5rem}.prev[_ngcontent-%COMP%]{left:-10px}.next[_ngcontent-%COMP%]{right:-10px}.close-btn[_ngcontent-%COMP%]{top:-30px;right:10px}}"],data:{animation:[oT("listAnimation",[cT("* => *",[uT(":enter",[Ga({opacity:0,transform:"translateY(20px)"}),lT(100,[aT("0.5s ease-out",Ga({opacity:1,transform:"translateY(0)"}))])],{optional:!0})])])]}})};var WK="firebase",KK="12.8.0";ko(WK,KK,"app");var Vf={production:!1,firebase:{apiKey:"AIzaSyB_9AlTCYi27xFQkP64f5aU4OrQBZ7TE8k",authDomain:"agilityasturias-4a107.firebaseapp.com",projectId:"agilityasturias-4a107",storageBucket:"agilityasturias-4a107.firebasestorage.app",messagingSenderId:"898271086134",appId:"1:898271086134:web:10e005442180b8d2943a97",measurementId:"G-N6SP2XNR7Q"}};var kl=class n{firestore;competitionsSignal=ot([]);unsubscribe=null;constructor(){let e;try{e=by()}catch{e=Ob(Vf.firebase)}this.firestore=ED(e);let t=B_(this.firestore,"competitions");this.unsubscribe=cV(t,r=>{let i=r.docs.map(s=>F({id:s.id},s.data()));this.competitionsSignal.set(i)},r=>{console.error("Error reading competitions:",r)})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe()}getCompetitions(){return this.competitionsSignal}addCompetition(e){let t=B_(this.firestore,"competitions");return aV(t,e)}updateCompetition(e){let t=bl(this.firestore,`competitions/${e.id}`),s=e,{id:r}=s,i=gp(s,["id"]);return sV(t,i)}deleteCompetition(e){let t=bl(this.firestore,`competitions/${e}`);return oV(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})};function QK(n,e){if(n&1&&(B(0,"span"),q(1),Eo(2,"date"),U()),n&2){let t=xe().$implicit;J(),Gt(wo(2,1,t.date,"d"))}}function YK(n,e){if(n&1){let t=_n();B(0,"div",8),be("click",function(){let i=nt(t).$implicit,s=xe(2);return rt(i.isCompetition&&s.openModal(i.competitionDetails))}),ut(1,QK,3,4,"span",9),U()}if(n&2){let t=e.$implicit;Qn("other-month",t.isOtherMonth)("weekend",t.isWeekend)("competition",t.isCompetition),J(),fe("ngIf",!t.isOtherMonth)}}function JK(n,e){if(n&1&&(B(0,"div",4)(1,"h2"),q(2),U(),B(3,"div",5)(4,"span"),q(5,"L"),U(),B(6,"span"),q(7,"M"),U(),B(8,"span"),q(9,"X"),U(),B(10,"span"),q(11,"J"),U(),B(12,"span"),q(13,"V"),U(),B(14,"span"),q(15,"S"),U(),B(16,"span"),q(17,"D"),U()(),B(18,"div",6),ut(19,YK,2,7,"div",7),U()()),n&2){let t=e.$implicit;J(2),Gt(t.name),J(17),fe("ngForOf",t.days)}}function XK(n,e){if(n&1){let t=_n();B(0,"div",15)(1,"img",21),be("click",function(){nt(t);let i=xe(3);return rt(i.expandImage())}),U()()}if(n&2){let t=xe(3);J(),fe("src",t.selectedCompetition.cartel,kr)}}function ZK(n,e){if(n&1){let t=_n();B(0,"div",22),be("click",function(){nt(t);let i=xe(3);return rt(i.closeImage())}),B(1,"div",23),dt(2,"img",24),U()()}if(n&2){let t=xe(3);J(2),fe("src",t.selectedCompetition.cartel,kr)}}function eQ(n,e){if(n&1&&(B(0,"div",14)(1,"h3"),q(2),U(),B(3,"div",15)(4,"strong"),q(5,"Fecha:"),U(),B(6,"span"),q(7),Eo(8,"date"),U()(),B(9,"div",15)(10,"strong"),q(11,"Cierre Inscripci\xF3n:"),U(),B(12,"span"),q(13),Eo(14,"date"),U()(),B(15,"div",15)(16,"strong"),q(17,"Forma de Pago:"),U(),B(18,"p",16),q(19),U()(),ut(20,XK,2,1,"div",17)(21,ZK,3,1,"div",18),B(22,"div",19)(23,"a",20),q(24," Inscribirse "),U()()()),n&2){let t=xe(2);J(2),Gt(t.selectedCompetition.lugar),J(5),Gt(wo(8,7,t.selectedCompetition.fechaEvento,"fullDate")),J(6),Gt(wo(14,10,t.selectedCompetition.fechaLimite,"shortDate")),J(6),Gt(t.selectedCompetition.formaPago),J(),fe("ngIf",t.selectedCompetition.cartel),J(),fe("ngIf",t.isImageExpanded),J(2),fe("href",t.selectedCompetition.enlace,kr)}}function tQ(n,e){if(n&1){let t=_n();B(0,"div",10),be("click",function(){nt(t);let i=xe();return rt(i.closeModal())}),B(1,"div",11),be("click",function(i){return nt(t),rt(i.stopPropagation())}),B(2,"button",12),be("click",function(){nt(t);let i=xe();return rt(i.closeModal())}),q(3,"\xD7"),U(),ut(4,eQ,25,13,"div",13),U()()}if(n&2){let t=xe();J(4),fe("ngIf",t.selectedCompetition)}}var cv=class n{constructor(e){this.competitionService=e;this.competitions=this.competitionService.getCompetitions()}currentYear=2026;months=[];monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];competitions;selectedCompetition=null;isModalOpen=!1;ngOnInit(){this.generateCalendar()}generateCalendar(){this.months=[];for(let e=0;e<12;e++)this.months.push({name:this.monthNames[e],days:this.getDaysInMonth(e)})}getDaysInMonth(e){let t=[],r=new Date(this.currentYear,e,1),i=(r.getDay()+6)%7;for(let s=0;s<i;s++)t.push({date:new Date(this.currentYear,e,-s),isCompetition:!1,isWeekend:!1,isOtherMonth:!0});for(;r.getMonth()===e;){let s=r.getDay(),o=s===0||s===6,a=r.getFullYear(),c=(r.getMonth()+1).toString().padStart(2,"0"),d=r.getDate().toString().padStart(2,"0"),f=`${a}-${c}-${d}`,m=this.competitions().find(A=>A.fechaEvento===f),w=!!m;t.push({date:new Date(r),isCompetition:w,isWeekend:o,isOtherMonth:!1,competitionDetails:m}),r.setDate(r.getDate()+1)}return t}openModal(e){e&&(this.selectedCompetition=e,this.isModalOpen=!0,document.body.style.overflow="hidden")}closeModal(){this.isModalOpen=!1,this.selectedCompetition=null,this.isImageExpanded=!1,document.body.style.overflow="auto"}isImageExpanded=!1;expandImage(){this.isImageExpanded=!0}closeImage(){this.isImageExpanded=!1}static \u0275fac=function(t){return new(t||n)(ve(kl))};static \u0275cmp=$t({type:n,selectors:[["app-calendario"]],decls:6,vars:3,consts:[[1,"calendar-container"],[1,"months-grid"],["class","month-card",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"month-card"],[1,"weekdays"],[1,"days-grid"],["class","day",3,"other-month","weekend","competition","click",4,"ngFor","ngForOf"],[1,"day",3,"click"],[4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["class","competition-details",4,"ngIf"],[1,"competition-details"],[1,"detail-row"],[1,"payment-info"],["class","detail-row",4,"ngIf"],["class","image-overlay",3,"click",4,"ngIf"],[1,"modal-actions"],["target","_blank",1,"btn-register",3,"href"],["alt","Cartel","title","Click para ampliar",1,"modal-poster",3,"click","src"],[1,"image-overlay",3,"click"],[1,"image-wrapper"],["alt","Cartel Ampliado",3,"src"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"h1"),q(2),U(),B(3,"div",1),ut(4,JK,20,2,"div",2),U(),ut(5,tQ,5,1,"div",3),U()),t&2&&(J(2),lr("Calendario de Competiciones ",r.currentYear),J(2),fe("ngForOf",r.months),J(),fe("ngIf",r.isModalOpen))},dependencies:[fr,mi,La,oh],styles:[".calendar-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto;text-align:center}h1[_ngcontent-%COMP%]{color:#036;margin-bottom:2rem}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem}.month-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;box-shadow:0 2px 5px #0000001a}.month-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#036;font-size:1.2rem;margin-bottom:1rem;text-transform:uppercase}.weekdays[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);margin-bottom:.5rem;font-weight:700;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px}.day[_ngcontent-%COMP%]{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:4px;font-size:.9rem;position:relative}.day[_ngcontent-%COMP%]:not(.other-month):hover{background-color:#f0f0f0}.other-month[_ngcontent-%COMP%]{color:#ccc}.weekend[_ngcontent-%COMP%]{background-color:#fff3cd}.competition[_ngcontent-%COMP%]{background-color:#036;color:#fff;cursor:pointer;font-weight:700;transition:transform .2s,background-color .2s}.competition[_ngcontent-%COMP%]:hover{background-color:#004080;transform:scale(1.1);z-index:1;box-shadow:0 2px 4px #0003}.competition.weekend[_ngcontent-%COMP%]{background-color:#036}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;position:relative;box-shadow:0 10px 25px #0003;text-align:left;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:none;border:none;font-size:2rem;line-height:1;cursor:pointer;color:#666;z-index:10}.close-btn[_ngcontent-%COMP%]:hover{color:#000}.competition-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#036;margin-top:0;border-bottom:2px solid #FFCC00;padding-bottom:.5rem;margin-bottom:1.5rem}.detail-row[_ngcontent-%COMP%]{margin-bottom:1rem}.detail-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#555;margin-bottom:.25rem}.payment-info[_ngcontent-%COMP%]{margin:0;white-space:pre-wrap;background:#f8f9fa;padding:.5rem;border-radius:4px;font-size:.9rem}.modal-poster[_ngcontent-%COMP%]{width:100%;max-height:300px;object-fit:contain;border-radius:8px;margin-top:.5rem;box-shadow:0 4px 8px #0000001a;cursor:zoom-in;transition:transform .2s}.modal-poster[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.image-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;z-index:2000;display:flex;justify-content:center;align-items:center;cursor:zoom-out;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:95vw;max-height:95vh;object-fit:contain;border-radius:4px;box-shadow:0 0 20px #ffffff1a}.modal-actions[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.btn-register[_ngcontent-%COMP%]{display:inline-block;background:#036;color:#fff;padding:.75rem 2rem;border-radius:6px;text-decoration:none;font-weight:700;transition:background .2s}.btn-register[_ngcontent-%COMP%]:hover{background:#004080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};var AL=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ve(_o),ve(di))};static \u0275dir=Ht({type:n})}return n})(),nQ=(()=>{class n extends AL{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ka(n)))(i||n)}})();static \u0275dir=Ht({type:n,features:[hi]})}return n})(),RL=new Q("");var rQ={provide:RL,useExisting:ao(()=>_v),multi:!0};function iQ(){let n=dr()?dr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var sQ=new Q(""),_v=(()=>{class n extends AL{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!iQ())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ve(_o),ve(di),ve(sQ,8))};static \u0275dir=Ht({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&be("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Qd([rQ]),hi]})}return n})();function aS(n){return n==null||cS(n)===0}function cS(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var NL=new Q(""),PL=new Q(""),oQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ms=class{static min(e){return aQ(e)}static max(e){return cQ(e)}static required(e){return uQ(e)}static requiredTrue(e){return lQ(e)}static email(e){return dQ(e)}static minLength(e){return hQ(e)}static maxLength(e){return fQ(e)}static pattern(e){return pQ(e)}static nullValidator(e){return ML()}static compose(e){return LL(e)}static composeAsync(e){return jL(e)}};function aQ(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function cQ(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function uQ(n){return aS(n.value)?{required:!0}:null}function lQ(n){return n.value===!0?null:{required:!0}}function dQ(n){return aS(n.value)||oQ.test(n.value)?null:{email:!0}}function hQ(n){return e=>{let t=e.value?.length??cS(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function fQ(n){return e=>{let t=e.value?.length??cS(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function pQ(n){if(!n)return ML;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(aS(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function ML(n){return null}function xL(n){return n!=null}function kL(n){return vo(n)?St(n):n}function OL(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function FL(n,e){return e.map(t=>t(n))}function mQ(n){return!n.validate}function VL(n){return n.map(e=>mQ(e)?e:t=>e.validate(t))}function LL(n){if(!n)return null;let e=n.filter(xL);return e.length==0?null:function(t){return OL(FL(t,e))}}function UL(n){return n!=null?LL(VL(n)):null}function jL(n){if(!n)return null;let e=n.filter(xL);return e.length==0?null:function(t){let r=FL(t,e).map(kL);return Zv(r).pipe(Le(OL))}}function BL(n){return n!=null?jL(VL(n)):null}function EL(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $L(n){return n._rawValidators}function HL(n){return n._rawAsyncValidators}function rS(n){return n?Array.isArray(n)?n:[n]:[]}function dv(n,e){return Array.isArray(n)?n.includes(e):n===e}function wL(n,e){let t=rS(e);return rS(n).forEach(i=>{dv(t,i)||t.push(i)}),t}function IL(n,e){return rS(e).filter(t=>!dv(n,t))}var hv=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Vl=class extends hv{name;get formDirective(){return null}get path(){return null}},$f=class extends hv{_parent=null;name=null;valueAccessor=null},fv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var qL=(()=>{class n extends fv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ve($f,2))};static \u0275dir=Ht({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Qn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[hi]})}return n})(),zL=(()=>{class n extends fv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ve(Vl,10))};static \u0275dir=Ht({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Qn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[hi]})}return n})();var Lf="VALID",uv="INVALID",Ol="PENDING",Uf="DISABLED",zo=class{},pv=class extends zo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},jf=class extends zo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Bf=class extends zo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Fl=class extends zo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},iS=class extends zo{source;constructor(e){super(),this.source=e}},Hf=class extends zo{source;constructor(e){super(),this.source=e}};function uS(n){return(vv(n)?n.validators:n)||null}function gQ(n){return Array.isArray(n)?UL(n):n||null}function lS(n,e){return(vv(e)?e.asyncValidators:n)||null}function yQ(n){return Array.isArray(n)?BL(n):n||null}function vv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function GL(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function WL(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Ll=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Nt(this.statusReactive)}set status(e){Nt(()=>this.statusReactive.set(e))}_status=es(()=>this.statusReactive());statusReactive=ot(void 0);get valid(){return this.status===Lf}get invalid(){return this.status===uv}get pending(){return this.status==Ol}get disabled(){return this.status===Uf}get enabled(){return this.status!==Uf}errors;get pristine(){return Nt(this.pristineReactive)}set pristine(e){Nt(()=>this.pristineReactive.set(e))}_pristine=es(()=>this.pristineReactive());pristineReactive=ot(!0);get dirty(){return!this.pristine}get touched(){return Nt(this.touchedReactive)}set touched(e){Nt(()=>this.touchedReactive.set(e))}_touched=es(()=>this.touchedReactive());touchedReactive=ot(!1);get untouched(){return!this.touched}_events=new mt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(IL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(IL(e,this._rawAsyncValidators))}hasValidator(e){return dv(this._rawValidators,e)}hasAsyncValidator(e){return dv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Bf(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Bf(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new jf(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new jf(!0,r))}markAsPending(e={}){this.status=Ol;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uf,this.errors=null,this._forEachChild(i=>{i.disable(oe(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new pv(this.value,r)),this._events.next(new Fl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Lf,this._forEachChild(r=>{r.enable(oe(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lf||this.status===Ol)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new pv(this.value,t)),this._events.next(new Fl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uf:Lf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ol,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=kL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?Uf:this.errors?uv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ol)?Ol:this._anyControlsHaveStatus(uv)?uv:Lf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new jf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Bf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gQ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yQ(this._rawAsyncValidators)}},mv=class extends Ll{constructor(e,t,r){super(uS(t),lS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){WL(this,!0,e),Object.keys(e).forEach(r=>{GL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,oe(F({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Hf(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var sS=class extends mv{};var KL=new Q("",{factory:()=>dS}),dS="always";function _Q(n,e){return[...e.path,n]}function TL(n,e,t=dS){hS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),EQ(n,e),IQ(n,e),wQ(n,e),vQ(n,e)}function bL(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function gv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vQ(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function hS(n,e){let t=$L(n);e.validator!==null?n.setValidators(EL(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=HL(n);e.asyncValidator!==null?n.setAsyncValidators(EL(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();gv(e._rawValidators,i),gv(e._rawAsyncValidators,i)}function yv(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=$L(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=HL(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return gv(e._rawValidators,r),gv(e._rawAsyncValidators,r),t}function EQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&QL(n,e)})}function wQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&QL(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function QL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IQ(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function TQ(n,e){n==null,hS(n,e)}function bQ(n,e){return yv(n,e)}function CQ(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function DQ(n){return Object.getPrototypeOf(n.constructor)===nQ}function SQ(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function AQ(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===_v?t=s:DQ(s)?r=s:i=s}),i||r||t||null}function RQ(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function CL(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function DL(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var lv=class extends Ll{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(uS(t),lS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(DL(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Hf(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var NQ=n=>n instanceof lv;var YL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ht({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var oS=class extends Ll{constructor(e,t,r){super(uS(t),lS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){WL(this,!1,e),e.forEach((r,i)=>{GL(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],oe(F({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Hf(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var PQ=(()=>{class n extends Vl{callSetDisabledState;get submitted(){return Nt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=es(()=>this._submittedReactive());_submittedReactive=ot(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(yv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let r=this.form.get(t.path);return TL(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){bL(t.control||null,t,!1),RQ(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,r){this.form.get(t.path).setValue(r)}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,SQ(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new iS(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(bL(r||null,t),NQ(i)&&(TL(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);TQ(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&bQ(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hS(this.form,this),this._oldForm&&yv(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(ve(NL,10),ve(PL,10),ve(KL,8))};static \u0275dir=Ht({type:n,features:[hi,Zi]})}return n})();var JL=new Q("");var MQ={provide:$f,useExisting:ao(()=>fS)},fS=(()=>{class n extends $f{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new gt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AQ(this,s)}ngOnChanges(t){this._added||this._setUpControl(),CQ(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return _Q(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(ve(Vl,13),ve(NL,10),ve(PL,10),ve(RL,10),ve(JL,8))};static \u0275dir=Ht({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Qd([MQ]),hi,Zi]})}return n})();var xQ={provide:Vl,useExisting:ao(()=>pS)},pS=(()=>{class n extends PQ{form=null;ngSubmit=new gt;get control(){return this.form}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ka(n)))(i||n)}})();static \u0275dir=Ht({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&be("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Qd([xQ]),hi]})}return n})();var kQ=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fr({type:n});static \u0275inj=rr({})}return n})();function SL(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var XL=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return SL(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new mv(i,s)}record(t,r=null){let i=this._reduceControls(t);return new sS(i,r)}control(t,r,i){let s={};return this.useNonNullable?(SL(r)?s=r:(s.validators=r,s.asyncValidators=i),new lv(t,oe(F({},s),{nonNullable:!0}))):new lv(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new oS(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof lv)return t;if(t instanceof Ll)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ZL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:JL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:KL,useValue:t.callSetDisabledState??dS}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Fr({type:n});static \u0275inj=rr({imports:[kQ]})}return n})();var qf=n=>({"is-invalid":n});function FQ(n,e){if(n&1){let t=_n();B(0,"button",6),be("click",function(){nt(t);let i=xe();return rt(i.initNewCompetition())}),B(1,"span"),q(2,"+"),U(),q(3," Nueva Competici\xF3n "),U()}}function VQ(n,e){if(n&1){let t=_n();B(0,"button",7),be("click",function(){nt(t);let i=xe();return rt(i.toggleView())}),q(1," \u2190 Volver al Listado "),U()}}function LQ(n,e){if(n&1){let t=_n();B(0,"tr")(1,"td")(2,"strong"),q(3),U()(),B(4,"td"),q(5),Eo(6,"date"),U(),B(7,"td"),q(8),Eo(9,"date"),U(),B(10,"td",14)(11,"button",15),be("click",function(){let i=nt(t).$implicit,s=xe(2);return rt(s.editCompetition(i))}),q(12," Editar "),U(),B(13,"button",16),be("click",function(){let i=nt(t).$implicit,s=xe(2);return rt(s.deleteCompetition(i.id))}),q(14," Eliminar "),U()()()}if(n&2){let t=e.$implicit;J(3),Gt(t.lugar),J(2),Gt(wo(6,3,t.fechaEvento,"dd/MM/yyyy")),J(3),Gt(wo(9,6,t.fechaLimite,"dd/MM/yyyy"))}}function UQ(n,e){n&1&&(B(0,"tr")(1,"td",17),q(2," No hay competiciones registradas actualmente. "),U()())}function jQ(n,e){if(n&1&&(B(0,"div",8)(1,"div",9)(2,"table",10)(3,"thead")(4,"tr")(5,"th"),q(6,"Lugar"),U(),B(7,"th"),q(8,"Fecha Evento"),U(),B(9,"th"),q(10,"Cierre Inscripci\xF3n"),U(),B(11,"th",11),q(12,"Acciones"),U()()(),B(13,"tbody"),ut(14,LQ,15,9,"tr",12)(15,UQ,3,0,"tr",13),U()()()()),n&2){let t=xe();J(14),fe("ngForOf",t.competitions()),J(),fe("ngIf",t.competitions().length===0)}}function BQ(n,e){n&1&&(B(0,"div",41),q(1," El lugar del evento es requerido. "),U())}function $Q(n,e){n&1&&(B(0,"div",41),q(1," La fecha del evento es requerida. "),U())}function HQ(n,e){n&1&&(B(0,"div",41),q(1," La fecha l\xEDmite es requerida. "),U())}function qQ(n,e){n&1&&(B(0,"div",41),q(1," La forma de pago es requerida. "),U())}function zQ(n,e){n&1&&(B(0,"div",41),q(1," Se requiere una URL v\xE1lida (http:// o https://). "),U())}function GQ(n,e){if(n&1&&(B(0,"div",42),dt(1,"img",43),U()),n&2){let t=xe(2);J(),fe("src",t.f.cartel.value,kr)}}function WQ(n,e){if(n&1){let t=_n();B(0,"div",18)(1,"h3",19),q(2),U(),B(3,"form",20),be("ngSubmit",function(){nt(t);let i=xe();return rt(i.onSubmit())}),B(4,"div",21)(5,"label",22),q(6,"Lugar del Evento"),U(),dt(7,"input",23),ut(8,BQ,2,0,"div",24),U(),B(9,"div",25)(10,"div",26)(11,"label",27),q(12,"Fecha Evento"),U(),dt(13,"input",28),ut(14,$Q,2,0,"div",24),U(),B(15,"div",26)(16,"label",29),q(17,"Fecha L\xEDmite de Inscripci\xF3n"),U(),dt(18,"input",30),ut(19,HQ,2,0,"div",24),U()(),B(20,"div",21)(21,"label",31),q(22,"Forma de Pago"),U(),dt(23,"textarea",32),ut(24,qQ,2,0,"div",24),U(),B(25,"div",21)(26,"label",33),q(27,"Enlace Inscripci\xF3n"),U(),dt(28,"input",34),ut(29,zQ,2,0,"div",24),U(),B(30,"div",21)(31,"label",35),q(32,"Cartel (Imagen)"),U(),B(33,"input",36),be("change",function(i){nt(t);let s=xe();return rt(s.onFileSelected(i))}),U(),ut(34,GQ,2,1,"div",37),U(),B(35,"div",38)(36,"button",39),q(37),U(),B(38,"button",40),be("click",function(){nt(t);let i=xe();return rt(i.toggleView())}),q(39," Cancelar "),U()()()()}if(n&2){let t=xe();J(2),Gt(t.isEditing()?"Editar Competici\xF3n":"Nueva Competici\xF3n"),J(),fe("formGroup",t.competitionForm),J(4),fe("ngClass",Va(14,qf,t.submitted&&t.f.lugar.errors)),J(),fe("ngIf",t.submitted&&t.f.lugar.errors),J(5),fe("ngClass",Va(16,qf,t.submitted&&t.f.fechaEvento.errors)),J(),fe("ngIf",t.submitted&&t.f.fechaEvento.errors),J(4),fe("ngClass",Va(18,qf,t.submitted&&t.f.fechaLimite.errors)),J(),fe("ngIf",t.submitted&&t.f.fechaLimite.errors),J(4),fe("ngClass",Va(20,qf,t.submitted&&t.f.formaPago.errors)),J(),fe("ngIf",t.submitted&&t.f.formaPago.errors),J(4),fe("ngClass",Va(22,qf,t.submitted&&t.f.enlace.errors)),J(),fe("ngIf",t.submitted&&t.f.enlace.errors),J(5),fe("ngIf",t.f.cartel.value),J(3),lr(" ",t.isEditing()?"Guardar Cambios":"Crear Competici\xF3n"," ")}}var Ev=class n{constructor(e,t){this.fb=e;this.competitionService=t;this.competitions=this.competitionService.getCompetitions(),this.competitionForm=this.fb.group({lugar:["",Ms.required],fechaEvento:["",Ms.required],fechaLimite:["",Ms.required],formaPago:["",Ms.required],enlace:["",[Ms.required,Ms.pattern("https?://.+")]],cartel:[null]})}competitions;isEditing=ot(!1);showForm=ot(!1);competitionForm;submitted=!1;currentCompetitionId=null;get f(){return this.competitionForm.controls}toggleView(){this.showForm.update(e=>!e),this.showForm()||this.resetForm()}initNewCompetition(){this.resetForm(),this.showForm.set(!0),this.isEditing.set(!1)}existingCartel=null;editCompetition(e){this.currentCompetitionId=e.id,this.existingCartel=e.cartel,this.competitionForm.patchValue({lugar:e.lugar,fechaEvento:e.fechaEvento,fechaLimite:e.fechaLimite,formaPago:e.formaPago,enlace:e.enlace}),this.showForm.set(!0),this.isEditing.set(!0)}deleteCompetition(e){confirm("\xBFEst\xE1s seguro de que quieres eliminar esta competici\xF3n?")&&this.competitionService.deleteCompetition(e)}onFileSelected(e){let t=e.target.files[0];if(t){if(t.size>5e5){alert("La imagen es demasiado grande. Por favor sube una imagen menor de 500KB."),e.target.value="";return}let r=new FileReader;r.onload=()=>{this.competitionForm.patchValue({cartel:r.result})},r.readAsDataURL(t)}}onFileChange(e){this.onFileSelected(e)}async onSubmit(){if(this.submitted=!0,this.competitionForm.invalid)return;let e=this.competitionForm.value,t=e.cartel||(this.isEditing()?this.existingCartel:null),r=oe(F({},e),{cartel:t});this.isEditing()&&this.currentCompetitionId?(await this.competitionService.updateCompetition(F({id:this.currentCompetitionId},r)),alert("Competici\xF3n actualizada")):(await this.competitionService.addCompetition(r),alert("Competici\xF3n creada")),this.toggleView()}resetForm(){this.submitted=!1,this.currentCompetitionId=null,this.existingCartel=null,this.competitionForm.reset()}static \u0275fac=function(t){return new(t||n)(ve(XL),ve(kl))};static \u0275cmp=$t({type:n,selectors:[["app-crud-competicion"]],decls:8,vars:4,consts:[[1,"crud-container"],[1,"header"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","list-view",4,"ngIf"],["class","form-view",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"list-view"],[1,"table-responsive"],[1,"table"],[2,"width","150px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"actions"],["title","Editar",1,"btn-icon","edit",3,"click"],["title","Eliminar",1,"btn-icon","delete",3,"click"],["colspan","4",1,"empty-msg"],[1,"form-view"],[1,"form-header"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","lugar"],["type","text","id","lugar","formControlName","lugar","placeholder","Ej: Polideportivo Gij\xF3n",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-row"],[1,"form-group","col"],["for","fechaEvento"],["type","date","id","fechaEvento","formControlName","fechaEvento",1,"form-control",3,"ngClass"],["for","fechaLimite"],["type","date","id","fechaLimite","formControlName","fechaLimite",1,"form-control",3,"ngClass"],["for","formaPago"],["id","formaPago","formControlName","formaPago","rows","3","placeholder","Instrucciones de pago...",1,"form-control",3,"ngClass"],["for","enlace"],["type","url","id","enlace","formControlName","enlace","placeholder","https://...",1,"form-control",3,"ngClass"],["for","cartel"],["type","file","id","cartel","accept","image/*",1,"form-control",3,"change"],["class","mt-2",4,"ngIf"],[1,"form-actions"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-cancel",3,"click"],[1,"invalid-feedback"],[1,"mt-2"],["alt","Preview",2,"max-height","150px","border-radius","4px","box-shadow","0 2px 4px rgba(0,0,0,0.1)",3,"src"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"div",1)(2,"h2"),q(3,"Gesti\xF3n de Competiciones"),U(),ut(4,FQ,4,0,"button",2)(5,VQ,2,0,"button",3),U(),ut(6,jQ,16,2,"div",4)(7,WQ,40,24,"div",5),U()),t&2&&(J(4),fe("ngIf",!r.showForm()),J(),fe("ngIf",r.showForm()),J(),fe("ngIf",!r.showForm()),J(),fe("ngIf",r.showForm()))},dependencies:[fr,DI,mi,La,ZL,YL,_v,qL,zL,pS,fS,oh],styles:[`.crud-container[_ngcontent-%COMP%]{max-width:1000px;margin:2rem auto;padding:2.5rem;background:#fff;border-radius:12px;box-shadow:0 8px 24px #0033661a;font-family:Segoe UI,Roboto,Helvetica,Arial,sans-serif}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2.5rem;padding-bottom:1rem;border-bottom:2px solid #f0f2f5}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:var(--primary-blue, #003366);font-weight:700}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;cursor:pointer;font-weight:600;font-size:.95rem;transition:all .2s ease;display:inline-flex;align-items:center;gap:.5rem}.btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#036,#004080);color:#fff;box-shadow:0 4px 6px #0363}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#004080,#00509e);box-shadow:0 6px 8px #00336640}.btn-secondary[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;border:1px solid #dee2e6}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e6ea;color:#212529}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#218838);color:#fff;box-shadow:0 4px 6px #28a74533}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#218838,#1e7e34);box-shadow:0 6px 8px #28a74540}.btn-cancel[_ngcontent-%COMP%]{background:transparent;color:#6c757d;border:1px solid #ced4da;margin-left:.75rem}.btn-cancel[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#343a40;border-color:#adb5bd}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;border-radius:8px;border:1px solid #e9ecef}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1rem;text-align:left;border-bottom:1px solid #e9ecef}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057;font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:.5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.empty-msg[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-style:italic;padding:3rem!important}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-icon[_ngcontent-%COMP%]{padding:.4rem .8rem;border:1px solid #dee2e6;background:#fff;border-radius:4px;cursor:pointer;font-size:.85rem;transition:all .2s;color:#495057}.btn-icon.edit[_ngcontent-%COMP%]:hover{background:#fff3cd;color:#856404;border-color:#ffeeba}.btn-icon.delete[_ngcontent-%COMP%]:hover{background:#f8d7da;color:#721c24;border-color:#f5c6cb}.form-view[_ngcontent-%COMP%]{background:#f8f9fa;padding:2rem;border-radius:8px;border:1px solid #e9ecef;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.form-header[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1.5rem;color:var(--primary-blue, #003366);font-size:1.4rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.form-group.col[_ngcontent-%COMP%]{flex:1}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#343a40;font-size:.95rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #ced4da;border-radius:6px;font-size:1rem;transition:border-color .2s,box-shadow .2s;box-sizing:border-box;background-color:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#004080;box-shadow:0 0 0 3px #0040801a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5zM6 8.2a.3.3 0 110-.6.3.3 0 010 .6z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.invalid-feedback[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:.875rem;color:#dc3545}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-actions[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:flex-end;align-items:center}@media(max-width:768px){.crud-container[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.btn[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-top:.5rem;justify-content:center}.form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.5rem}}`]})};var e2=[{path:"",component:iv},{path:"reservas",component:sv},{path:"contacto",component:ov},{path:"galeria",component:av},{path:"calendario",component:cv},{path:"gestionar-competiciones",component:Ev}];mb(Vf.firebase);var t2={providers:[lw(),Mx(),sT(e2),d1(()=>mb(Vf.firebase)),iL(()=>sL()),kk(()=>Ok()),yL(()=>_L()),{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:HT.PROVIDER_ID,provider:new HT("YOUR_GOOGLE_CLIENT_ID")}],onError:n=>{console.error(n)}}},Fx("ngsw-worker.js",{enabled:!Xd(),registrationStrategy:"registerWhenStable:30000"})]};var wv=class n{isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-navbar"]],decls:29,vars:4,consts:[[1,"app-header"],[1,"logo-area"],[1,"mobile-menu-btn",3,"click"],[1,"bar"],["src","Images/Agility_Asturias_logo.jpg","alt","Agility Asturias Logo",1,"nav-logo"],["routerLink","/",3,"click"],["routerLink","/reservas",3,"click"],["routerLink","/galeria",3,"click"],["routerLink","/calendario",3,"click"],["routerLink","/gestionar-competiciones",3,"click"],["routerLink","/contacto",3,"click"]],template:function(t,r){t&1&&(B(0,"header",0)(1,"div",1)(2,"button",2),be("click",function(){return r.toggleMenu()}),dt(3,"span",3)(4,"span",3)(5,"span",3),U(),dt(6,"img",4),B(7,"h1"),q(8,"Agility Asturias"),U()(),B(9,"nav")(10,"ul")(11,"li")(12,"a",5),be("click",function(){return r.closeMenu()}),q(13,"Home"),U()(),B(14,"li")(15,"a",6),be("click",function(){return r.closeMenu()}),q(16,"Reservas"),U()(),B(17,"li")(18,"a",7),be("click",function(){return r.closeMenu()}),q(19,"Galer\xEDa"),U()(),B(20,"li")(21,"a",8),be("click",function(){return r.closeMenu()}),q(22,"Calendario"),U()(),B(23,"li")(24,"a",9),be("click",function(){return r.closeMenu()}),q(25,"Competiciones"),U()(),B(26,"li")(27,"a",10),be("click",function(){return r.closeMenu()}),q(28,"Contacto"),U()()()()()),t&2&&(J(2),Qn("active",r.isMenuOpen),J(8),Qn("active",r.isMenuOpen))},dependencies:[Uu,fr],styles:[".app-header[_ngcontent-%COMP%]{background-color:var(--primary-blue);color:var(--white);padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:1000;box-shadow:0 2px 4px #0000001a}.logo-area[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.nav-logo[_ngcontent-%COMP%]{height:40px;width:auto;border-radius:4px}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);margin:0;font-size:1.5rem}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;gap:1.5rem}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);font-weight:500}.mobile-menu-btn[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;width:30px;height:21px;background:transparent;border:none;cursor:pointer;padding:0;z-index:10}.mobile-menu-btn[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:100%;height:3px;background-color:var(--white);border-radius:3px;transition:all .3s ease-in-out}.mobile-menu-btn.active[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(1){transform:translateY(9px) rotate(45deg)}.mobile-menu-btn.active[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(2){opacity:0}.mobile-menu-btn.active[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-9px) rotate(-45deg)}@media(max-width:768px){.app-header[_ngcontent-%COMP%]{padding:1rem}.logo-area[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.mobile-menu-btn[_ngcontent-%COMP%]{display:flex}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none;flex-direction:column;width:100%;position:absolute;top:100%;left:0;background-color:var(--primary-blue);padding:1rem 0;box-shadow:0 4px 6px #0000001a;z-index:9}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul.active[_ngcontent-%COMP%]{display:flex}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 2rem;width:100%}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}}"]})};var Iv=class n{title=ot("AgilityAsturias");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$t({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"app-container"]],template:function(t,r){t&1&&(B(0,"div",0),dt(1,"app-navbar"),B(2,"main"),dt(3,"router-outlet"),U(),B(4,"footer")(5,"p"),q(6,"\xA9 2026 Agility Asturias"),U()()())},dependencies:[Sh,wv],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:var(--container-width);margin:0 auto;width:100%}footer[_ngcontent-%COMP%]{text-align:center;padding:1rem;background-color:#e0e0e0;font-size:.875rem}"]})};kI(Iv,t2).catch(n=>console.error(n));
