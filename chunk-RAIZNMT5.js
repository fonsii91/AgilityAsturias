import{a as w}from"./chunk-OYFWMAOQ.js";import"./chunk-ZMUGLBPJ.js";import"./chunk-KMKEUFOK.js";import{h as b,i as O,k as P,l as S}from"./chunk-J4EIBAYN.js";import{Ea as a,Fb as _,Ib as h,Mb as v,Ra as C,V as y,Wa as m,fb as d,gb as n,hb as i,rb as M,wb as r,xb as c,yb as x}from"./chunk-WYX5KYRP.js";import"./chunk-7CGTOI24.js";function D(t,o){t&1&&(n(0,"div",15)(1,"p"),r(2,"No hay reservas para hoy. \xA1D\xEDa tranquilo! \u{1F634}"),i()())}function I(t,o){if(t&1&&(n(0,"span",30),r(1),i()),t&2){let e=o.$implicit;a(),x("\u{1F415} ",e)}}function F(t,o){t&1&&(n(0,"span",31),r(1,"Sin perros"),i())}function T(t,o){if(t&1&&(n(0,"div",25)(1,"span",26),r(2),i(),n(3,"div",27),m(4,I,2,1,"span",28)(5,F,2,0,"span",29),i()()),t&2){let e=o.$implicit;a(2),c(e.userName),a(2),d("ngForOf",e.selectedDogs),a(),d("ngIf",!(e.selectedDogs!=null&&e.selectedDogs.length))}}function z(t,o){if(t&1&&(n(0,"div",18)(1,"div",19)(2,"span",20),r(3),i(),n(4,"span",21),r(5),i()(),n(6,"div",22)(7,"div",23),m(8,T,6,3,"div",24),i()()()),t&2){let e=o.$implicit;a(3),c(e.time),a(2),x("",e.reservations.length," pers."),a(3),d("ngForOf",e.reservations)}}function k(t,o){if(t&1&&(n(0,"div",16),m(1,z,9,3,"div",17),i()),t&2){let e=M();a(),d("ngForOf",e.todayTimeSlots())}}function N(t,o){t&1&&(n(0,"div",32)(1,"p"),r(2,"No hay m\xE1s reservas a la vista."),i()())}function j(t,o){if(t&1&&(n(0,"div",42)(1,"span",43),r(2),i(),n(3,"span",44),r(4),i()()),t&2){let e=o.$implicit;a(2),c(e.userName),a(2),x(" ",(e.selectedDogs==null?null:e.selectedDogs.join(", "))||"Sin perros"," ")}}function H(t,o){if(t&1&&(n(0,"div",38)(1,"div",39)(2,"span",20),r(3),i()(),n(4,"div",40),m(5,j,5,2,"div",41),i()()),t&2){let e=o.$implicit;a(3),c(e.time),a(2),d("ngForOf",e.reservations)}}function $(t,o){if(t&1&&(n(0,"div",33)(1,"div",34)(2,"h3"),r(3),_(4,"date"),i(),n(5,"span",35),r(6),i()(),n(7,"div",36),m(8,H,6,2,"div",37),i()()),t&2){let e=o.$implicit;a(3),c(h(4,3,e.date,"EEEE, d MMMM","","es-ES")),a(3),c(e.totalCount),a(2),d("ngForOf",e.timeSlots)}}var E=class t{reservationService=y(w);allReservations=this.reservationService.getReservations();todayStr=new Date().toISOString().split("T")[0];todayReservationsRaw=v(()=>{let o=this.todayStr;return this.allReservations().filter(e=>e.date===o)});todayTimeSlots=v(()=>{let o=this.todayReservationsRaw(),e=new Map;return o.forEach(s=>{let l=s.startTime||"Unknown";e.has(l)||e.set(l,[]),e.get(l).push(s)}),Array.from(e.entries()).sort((s,l)=>s[0].localeCompare(l[0])).map(([s,l])=>({time:s,reservations:l}))});futureReservationsGrouped=v(()=>{let o=this.todayStr,e=this.allReservations().filter(l=>l.date&&l.date>o),s=new Map;return e.forEach(l=>{let p=l.date||"Sin Fecha";s.has(p)||s.set(p,[]),s.get(p).push(l)}),Array.from(s.entries()).sort((l,p)=>l[0].localeCompare(p[0])).map(([l,p])=>{let u=new Map;p.forEach(f=>{let g=f.startTime||"Unknown";u.has(g)||u.set(g,[]),u.get(g).push(f)});let R=Array.from(u.entries()).sort((f,g)=>f[0].localeCompare(g[0])).map(([f,g])=>({time:f,reservations:g}));return{date:l,timeSlots:R,totalCount:p.length}})});statsHoje=v(()=>({totalReservas:this.todayReservationsRaw().length,totalPerros:this.todayReservationsRaw().reduce((o,e)=>o+(e.selectedDogs?.length||0),0)}));constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-info-reservas"]],decls:31,vars:12,consts:[[1,"reservas-container"],[1,"header"],[1,"dashboard-stats"],[1,"stat-card","blue"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","orange"],[1,"section-title"],[1,"date-badge"],["class","empty-state glass-effect today-empty",4,"ngIf"],["class","reservations-list today-list glass-effect",4,"ngIf"],[1,"section-title","future-title"],["class","empty-state",4,"ngIf"],[1,"reservations-timeline"],["class","day-group glass-effect",4,"ngFor","ngForOf"],[1,"empty-state","glass-effect","today-empty"],[1,"reservations-list","today-list","glass-effect"],["class","res-card today-card",4,"ngFor","ngForOf"],[1,"res-card","today-card"],[1,"time-slot-large"],[1,"time"],[1,"slot-count"],[1,"card-content"],[1,"users-list"],["class","user-row",4,"ngFor","ngForOf"],[1,"user-row"],[1,"user-name"],[1,"dogs-chips"],["class","dog-chip",4,"ngFor","ngForOf"],["class","no-dogs",4,"ngIf"],[1,"dog-chip"],[1,"no-dogs"],[1,"empty-state"],[1,"day-group","glass-effect"],[1,"date-header"],[1,"count-badge"],[1,"reservations-list"],["class","res-card small-card",4,"ngFor","ngForOf"],[1,"res-card","small-card"],[1,"time-slot"],[1,"users-list-small"],["class","user-row-small",4,"ngFor","ngForOf"],[1,"user-row-small"],[1,"user-name-small"],[1,"dogs-text-small"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),r(3,"\u{1F4C5} Monitor de Reservas"),i(),n(4,"p"),r(5,"Vista r\xE1pida de actividad diaria"),i()(),n(6,"div",2)(7,"div",3)(8,"span",4),r(9),i(),n(10,"span",5),r(11,"Reservas Hoy"),i()(),n(12,"div",6)(13,"span",4),r(14),i(),n(15,"span",5),r(16,"Perros Hoy"),i()()(),n(17,"div",7)(18,"h2"),r(19,"\u{1F525} Hoy"),i(),n(20,"span",8),r(21),_(22,"date"),i()(),m(23,D,3,0,"div",9)(24,k,2,1,"div",10),n(25,"div",11)(26,"h2"),r(27,"\u{1F4C5} Pr\xF3ximos D\xEDas"),i()(),m(28,N,3,0,"div",12),n(29,"div",13),m(30,$,9,8,"div",14),i()()),e&2&&(a(9),c(s.statsHoje().totalReservas),a(5),c(s.statsHoje().totalPerros),a(7),c(h(22,7,s.todayStr,"EEEE, d MMMM","","es-ES")),a(2),d("ngIf",s.todayTimeSlots().length===0),a(),d("ngIf",s.todayTimeSlots().length>0),a(4),d("ngIf",s.futureReservationsGrouped().length===0),a(2),d("ngForOf",s.futureReservationsGrouped()))},dependencies:[S,b,O,P],styles:[".reservas-container[_ngcontent-%COMP%]{max-width:800px;margin:1rem auto;padding:1rem 1rem 4rem}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;margin:0;color:var(--primary-blue)}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:5px 0 0}.dashboard-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:12px;text-align:center;box-shadow:0 4px 10px #0000000d;display:flex;flex-direction:column;align-items:center;border:1px solid #eee}.stat-card.blue[_ngcontent-%COMP%]{border-bottom:4px solid var(--primary-blue)}.stat-card.orange[_ngcontent-%COMP%]{border-bottom:4px solid var(--accent-orange)}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;line-height:1;margin-bottom:5px}.blue[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--primary-blue)}.orange[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--accent-orange)}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;text-transform:uppercase;font-weight:600}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-bottom:1rem}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;color:#333}.date-badge[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:2px 10px;border-radius:12px;font-size:.8rem;text-transform:capitalize}.future-title[_ngcontent-%COMP%]{margin-top:3rem;opacity:.7}.today-list[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 30px #00000014;border:1px solid rgba(0,0,0,.05);overflow:hidden}.today-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1.2rem;border-bottom:1px solid #f0f0f0;transition:background .2s}.today-card[_ngcontent-%COMP%]:hover{background-color:#fcfcfc}.time-slot-large[_ngcontent-%COMP%]{background-color:var(--primary-blue);color:#fff;padding:8px 12px;border-radius:8px;font-weight:700;font-size:1.2rem;margin-right:2rem;min-width:100px;text-align:center;box-shadow:0 2px 5px #0000001a;display:flex;flex-direction:column;justify-content:center;align-items:center}.small-card[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#666;font-weight:700;font-size:.95rem;min-width:80px;margin-right:20px;display:block}.card-content[_ngcontent-%COMP%]{flex:1}.user-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.user-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#222}.dogs-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.dog-chip[_ngcontent-%COMP%]{background-color:#fff4e6;color:#d97706;padding:2px 8px;border-radius:4px;font-size:.85rem;font-weight:600}.day-group[_ngcontent-%COMP%]{background:#fff9;margin-bottom:1rem;border-radius:8px;overflow:hidden;border:1px solid rgba(0,0,0,.05)}.date-header[_ngcontent-%COMP%]{background-color:#f0f4f8;color:#444;padding:8px 15px;display:flex;justify-content:space-between;align-items:center;font-weight:700}.date-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.95rem;text-transform:capitalize}.small-card[_ngcontent-%COMP%]{display:flex;padding:10px 15px;border-bottom:1px solid #eee;align-items:center}.small-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.small-card[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#666;font-weight:700;font-size:.95rem;width:60px}.user-name-small[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-right:10px}.dogs-text-small[_ngcontent-%COMP%]{color:#888;font-size:.85rem}.users-list-small[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:8px}.user-row-small[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:10px}.empty-state[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#999;background:#ffffff80;border-radius:12px}@media(max-width:600px){.today-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.time-slot-large[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;margin-right:0;margin-bottom:10px;padding:8px 15px;box-sizing:border-box}.slot-count[_ngcontent-%COMP%]{margin-top:0;font-size:.9rem}.user-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}"]})};export{E as InfoReservasComponent};
