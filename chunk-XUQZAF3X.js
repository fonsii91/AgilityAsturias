import{a as s,b as c,c as d,i as b,j as g,k as h,l as D,m as C}from"./chunk-ZMUGLBPJ.js";import{G as f,H as u}from"./chunk-KMKEUFOK.js";import{Q as a,la as l}from"./chunk-WYX5KYRP.js";import{a as p,c as m}from"./chunk-7CGTOI24.js";var v=class r{firestore;competitionsSignal=l([]);unsubscribe=null;constructor(){let t;try{t=u()}catch{t=f(C.firebase)}this.firestore=d(t);let i=s(this.firestore,"competitions");this.unsubscribe=D(i,o=>{let n=o.docs.map(e=>p({id:e.id},e.data()));this.competitionsSignal.set(n)},o=>{console.error("Error reading competitions:",o)})}ngOnDestroy(){this.unsubscribe&&this.unsubscribe()}getCompetitions(){return this.competitionsSignal}addCompetition(t){let i=s(this.firestore,"competitions");return h(i,t)}updateCompetition(t){let i=c(this.firestore,`competitions/${t.id}`),e=t,{id:o}=e,n=m(e,["id"]);return b(i,n)}deleteCompetition(t){let i=c(this.firestore,`competitions/${t}`);return g(i)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})};export{v as a};
