import{a as X,b as _t,e as Kf,f as Kc,j as $n,k as so,l as Ei}from"./chunk-SQFYRXBB.js";import{a as ht}from"./chunk-SZQNQJVS.js";import"./chunk-V4F4V7VE.js";import{a as io}from"./chunk-I3RXV3E6.js";import{m as Qc}from"./chunk-ZMUGLBPJ.js";import{a as Qf}from"./chunk-KMKEUFOK.js";import{a as vi,b as Bf,c as $f,d as zf,e as qf,f as wr,g as Hf,i as to,l as Bn,m as no,n as ro,o as Gf,p as Wf}from"./chunk-J4EIBAYN.js";import{$ as Ae,$a as yi,A as fi,Aa as Ws,B as pi,Ba as Ks,C as Ge,D as zs,Da as Ef,E as vn,Ea as re,F as Mc,Fa as gi,G as xc,Ga as wf,H as lf,Ha as Qs,I as $e,Ia as qc,J as qs,Jb as xf,K as Ht,Kb as Lf,L as uf,La as Ys,Lb as Vf,M as hf,Ma as Tf,N as x,Na as wn,Nb as Ff,O as mi,Oa as If,Ob as Uf,Pa as bf,Pb as _i,Q as G,Qa as Hc,Qb as Wc,Ra as ut,S as df,Sb as jf,T as Y,Ta as Xs,Tb as eo,U as W,V as C,W as We,Wa as Wt,X as ff,Xa as Sf,Y as nt,Ya as Af,Z as be,Za as Gc,_ as Se,_a as Rf,a as tf,aa as Lc,ab as Cf,b as nf,ba as Vc,bb as Pf,c as tt,ca as Pe,cb as kf,d as gt,da as Ke,db as Df,e as Be,ea as yr,eb as Nf,f as kc,fa as pf,fb as _e,g as rf,ga as Gt,gb as k,h as sf,ha as ye,hb as N,i as lt,ia as Fc,ib as we,j as Dc,ja as Hs,k as Nc,ka as mf,l as Oc,la as En,m as Ct,ma as _r,mb as Ve,n as Q,na as gf,o as js,oa as yt,p as Bs,pa as ke,q as of,qa as Gs,qb as fe,r as gr,ra as Uc,rb as Ee,s as ae,sa as yf,sb as Of,t as af,ta as jc,tb as Mf,u as yn,ua as _f,ub as Js,v as cf,va as Bc,w as $s,wa as vf,wb as M,xa as vr,xb as Er,y as _n,ya as $c,yb as Zs,z as Ie,za as zc}from"./chunk-WYX5KYRP.js";import{a as U,b as He,c as Pc}from"./chunk-7CGTOI24.js";var wi=class{_doc;constructor(e){this._doc=e}manager},oo=(()=>{class n extends wi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(W(Ke))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),lo=new Y(""),Zc=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(a=>{a.manager=this});let i=t.filter(a=>!(a instanceof oo));this._plugins=i.slice().reverse();let s=t.find(a=>a instanceof oo);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(lo),W(ye))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Yc="ng-app-id";function Yf(n){for(let e of n)e.remove()}function Xf(n,e){let t=e.createElement("style");return t.textContent=n,t}function Av(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Yc}="${e}"],link[${Yc}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Yc),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Jc(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var el=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,Av(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Xf);r?.forEach(i=>this.addUsage(i,this.external,Jc))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Yf(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Yf(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Xf(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Jc(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(Ke),W(Bc),W(zc,8),W(vr))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Xc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tl=/%COMP%/g;var Zf="%COMP%",Rv=`_nghost-${Zf}`,Cv=`_ngcontent-${Zf}`,Pv=!0,kv=new Y("",{factory:()=>Pv});function Dv(n){return Cv.replace(tl,n)}function Nv(n){return Rv.replace(tl,n)}function ep(n,e){return e.map(t=>t.replace(tl,n))}var bi=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.defaultRenderer=new Ti(t,a,c,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof co?i.applyToHost(t):i instanceof Ii&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,_=this.tracingService;switch(r.encapsulation){case Ws.Emulated:s=new co(u,d,r,this.appId,y,a,c,_);break;case Ws.ShadowDom:return new ao(u,t,r,a,c,this.nonce,_,d);case Ws.ExperimentalIsolatedShadowDom:return new ao(u,t,r,a,c,this.nonce,_);default:s=new Ii(u,d,r,y,a,c,_);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(Zc),W(el),W(Bc),W(kv),W(Ke),W(ye),W(zc),W(Qs,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Ti=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Xc[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Jf(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Jf(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Xc[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Xc[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(gi.DashCase|gi.Important)?e.style.setProperty(t,r,i&gi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&gi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=vi().getGlobalEventTarget(this.doc,e),!e))throw new x(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Jf(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ao=class extends Ti{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,s,a,c,u){super(e,i,s,c),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=ep(r.id,d);for(let _ of d){let b=document.createElement("style");a&&b.setAttribute("nonce",a),b.textContent=_,this.shadowRoot.appendChild(b)}let y=r.getExternalStyles?.();if(y)for(let _ of y){let b=Jc(_,i);a&&b.setAttribute("nonce",a),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ii=class extends Ti{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,a,c,u){super(e,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?ep(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&wf.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},co=class extends Ii{contentAttr;hostAttr;constructor(e,t,r,i,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,s,a,c,u,d),this.contentAttr=Dv(d),this.hostAttr=Nv(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var uo=class n extends $f{supportsDOMEvents=!0;static makeCurrent(){Bf(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Ov();return t==null?null:Mv(t)}resetBaseElement(){Si=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return no(document.cookie,e)}},Si=null;function Ov(){return Si=Si||document.head.querySelector("base"),Si?Si.getAttribute("href"):null}function Mv(n){return new URL(n,document.baseURI).pathname}var xv=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),tp=["alt","control","meta","shift"],Lv={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vv={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},np=(()=>{class n extends wi{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vi().onAndCancel(t,a.domEventName,c,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),tp.forEach(d=>{let y=r.indexOf(d);y>-1&&(r.splice(y,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(t,r){let i=Lv[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tp.forEach(a=>{if(a!==i){let c=Vv[a];c(t)&&(s+=a+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(Ke))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();async function nl(n,e,t){let r=U({rootComponent:n},Fv(e,t));return jf(r)}function Fv(n,e){return{platformRef:e?.platformRef,appProviders:[...zv,...n?.providers??[]],platformProviders:$v}}function Uv(){uo.makeCurrent()}function jv(){return new Fc}function Bv(){return _f(document),document}var $v=[{provide:vr,useValue:Wf},{provide:vf,useValue:Uv,multi:!0},{provide:Ke,useFactory:Bv}];var zv=[{provide:ff,useValue:"root"},{provide:Fc,useFactory:jv},{provide:lo,useClass:oo,multi:!0},{provide:lo,useClass:np,multi:!0},bi,el,Zc,{provide:Ys,useExisting:bi},{provide:ro,useClass:xv},[]];var zn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(c=>s.indexOf(c)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var fo=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},po=class{encodeKey(e){return rp(e)}encodeValue(e){return rp(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qv(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(a)||[];u.push(c),t.set(a,u)}),t}var Hv=/%(\d[a-f0-9])/gi,Gv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rp(n){return encodeURIComponent(n).replace(Hv,(e,t)=>Gv[t]??e)}function ho(n){return`${n}`}var Tn=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new po,e.fromString){if(e.fromObject)throw new x(2805,!1);this.map=qv(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ho):[ho(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ho(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ho(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function Wv(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ip(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sp(n){return typeof Blob<"u"&&n instanceof Blob}function op(n){return typeof FormData<"u"&&n instanceof FormData}function Kv(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ap="Content-Type",cp="Accept",lp="text/plain",up="application/json",Qv=`${up}, ${lp}, */*`,Ci=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(Wv(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new x(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new zn,this.context??=new fo,!this.params)this.params=new Tn,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),u=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+u+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ip(this.body)||sp(this.body)||op(this.body)||Kv(this.body)?this.body:this.body instanceof Tn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||op(this.body)?null:sp(this.body)?this.body.type||null:ip(this.body)?null:typeof this.body=="string"?lp:this.body instanceof Tn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?up:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.keepalive??this.keepalive,a=e.priority||this.priority,c=e.cache||this.cache,u=e.mode||this.mode,d=e.redirect||this.redirect,y=e.credentials||this.credentials,_=e.referrer||this.referrer,b=e.integrity||this.integrity,R=e.referrerPolicy||this.referrerPolicy,A=e.transferCache??this.transferCache,D=e.timeout??this.timeout,P=e.body!==void 0?e.body:this.body,L=e.withCredentials??this.withCredentials,B=e.reportProgress??this.reportProgress,z=e.headers||this.headers,F=e.params||this.params,le=e.context??this.context;return e.setHeaders!==void 0&&(z=Object.keys(e.setHeaders).reduce((Z,v)=>Z.set(v,e.setHeaders[v]),z)),e.setParams&&(F=Object.keys(e.setParams).reduce((Z,v)=>Z.set(v,e.setParams[v]),F)),new n(t,r,P,{params:F,headers:z,context:le,reportProgress:B,responseType:i,withCredentials:L,transferCache:A,keepalive:s,cache:c,priority:a,timeout:D,mode:u,redirect:d,credentials:y,referrer:_,integrity:b,referrerPolicy:R})}},Tr=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Tr||{}),Ir=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,r="OK"){this.headers=e.headers||new zn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},mo=class n extends Ir{constructor(e={}){super(e)}type=Tr.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},go=class n extends Ir{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Tr.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},Pi=class extends Ir{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Yv=200,Xv=204;var Jv=new Y("");var Zv=/^\)\]\}',?\n/;var il=(()=>{class n{xhrFactory;tracingService=C(Qs,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return Q(null).pipe($e(()=>new tt(s=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((P,L)=>a.setRequestHeader(P,L.join(","))),t.headers.has(cp)||a.setRequestHeader(cp,Qv),!t.headers.has(ap)){let P=t.detectContentTypeHeader();P!==null&&a.setRequestHeader(ap,P)}if(t.timeout&&(a.timeout=t.timeout),t.responseType){let P=t.responseType.toLowerCase();a.responseType=P!=="json"?P:"text"}let c=t.serializeBody(),u=null,d=()=>{if(u!==null)return u;let P=a.statusText||"OK",L=new zn(a.getAllResponseHeaders()),B=a.responseURL||t.url;return u=new mo({headers:L,status:a.status,statusText:P,url:B}),u},y=this.maybePropagateTrace(()=>{let{headers:P,status:L,statusText:B,url:z}=d(),F=null;L!==Xv&&(F=typeof a.response>"u"?a.responseText:a.response),L===0&&(L=F?Yv:0);let le=L>=200&&L<300;if(t.responseType==="json"&&typeof F=="string"){let Z=F;F=F.replace(Zv,"");try{F=F!==""?JSON.parse(F):null}catch(v){F=Z,le&&(le=!1,F={error:v,text:F})}}le?(s.next(new go({body:F,headers:P,status:L,statusText:B,url:z||void 0})),s.complete()):s.error(new Pi({error:F,headers:P,status:L,statusText:B,url:z||void 0}))}),_=this.maybePropagateTrace(P=>{let{url:L}=d(),B=new Pi({error:P,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});s.error(B)}),b=_;t.timeout&&(b=this.maybePropagateTrace(P=>{let{url:L}=d(),B=new Pi({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:L||void 0});s.error(B)}));let R=!1,A=this.maybePropagateTrace(P=>{R||(s.next(d()),R=!0);let L={type:Tr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(L.total=P.total),t.responseType==="text"&&a.responseText&&(L.partialText=a.responseText),s.next(L)}),D=this.maybePropagateTrace(P=>{let L={type:Tr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(L.total=P.total),s.next(L)});return a.addEventListener("load",y),a.addEventListener("error",_),a.addEventListener("timeout",b),a.addEventListener("abort",_),t.reportProgress&&(a.addEventListener("progress",A),c!==null&&a.upload&&a.upload.addEventListener("progress",D)),a.send(c),s.next({type:Tr.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",y),a.removeEventListener("timeout",b),t.reportProgress&&(a.removeEventListener("progress",A),c!==null&&a.upload&&a.upload.removeEventListener("progress",D)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||n)(W(ro))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eE(n,e){return e(n)}function tE(n,e,t){return(r,i)=>be(t,()=>e(r,s=>n(s,i)))}var sl=new Y("",{factory:()=>[]}),nE=new Y(""),hp=new Y("",{factory:()=>!0});var ol=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=W(il),i},providedIn:"root"})}return n})();var yo=(()=>{class n{backend;injector;chain=null;pendingTasks=C(_r);contributeToStability=C(hp);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(sl),...this.injector.get(nE,[])]));this.chain=r.reduceRight((i,s)=>tE(i,s,this.injector),eE)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(zs(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(W(ol),W(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),al=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=W(yo),i},providedIn:"root"})}return n})();function rl(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var rE=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Ci)s=t;else{let u;i.headers instanceof zn?u=i.headers:u=new zn(i.headers);let d;i.params&&(i.params instanceof Tn?d=i.params:d=new Tn({fromObject:i.params})),s=new Ci(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let a=Q(s).pipe(pi(u=>this.handler.handle(u)));if(t instanceof Ci||i.observe==="events")return a;let c=a.pipe(Ie(u=>u instanceof go));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ae(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new x(2806,!1);return u.body}));case"blob":return c.pipe(ae(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new x(2807,!1);return u.body}));case"text":return c.pipe(ae(u=>{if(u.body!==null&&typeof u.body!="string")throw new x(2808,!1);return u.body}));default:return c.pipe(ae(u=>u.body))}case"response":return c;default:throw new x(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Tn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,rl(i,r))}post(t,r,i={}){return this.request("POST",t,rl(i,r))}put(t,r,i={}){return this.request("PUT",t,rl(i,r))}static \u0275fac=function(r){return new(r||n)(W(al))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iE=new Y("",{factory:()=>!0}),sE="XSRF-TOKEN",oE=new Y("",{factory:()=>sE}),aE="X-XSRF-TOKEN",cE=new Y("",{factory:()=>aE}),lE=(()=>{class n{cookieName=C(oE);doc=C(Ke);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=no(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=W(lE),i},providedIn:"root"})}return n})();function uE(n,e){if(!C(iE)||n.method==="GET"||n.method==="HEAD")return e(n);try{let i=C(zf).href,{origin:s}=new URL(i),{origin:a}=new URL(n.url,s);if(s!==a)return e(n)}catch{return e(n)}let t=C(dp).getToken(),r=C(cE);return t!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,t)})),e(n)}var cl=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(cl||{});function hE(n,e){return{\u0275kind:n,\u0275providers:e}}function ll(...n){let e=[rE,yo,{provide:al,useExisting:yo},{provide:ol,useFactory:()=>C(Jv,{optional:!0})??C(il)},{provide:sl,useValue:uE,multi:!0}];for(let t of n)e.push(...t.\u0275providers);return We(e)}function ul(n){return hE(cl.Interceptors,n.map(e=>({provide:sl,useValue:e,multi:!0})))}var fp=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(Ke))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var H="primary",Bi=Symbol("RouteTitle"),ml=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Gn(n){return new ml(n)}function hl(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(i[0]===":")t[i.substring(1)]=s;else if(i!==s.path)return!1}return!0}function Ip(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let u={},d=n.slice(0,r.length);return hl(r,d,u)?{consumed:d,posParams:u}:null}if(i!==r.lastIndexOf("**"))return null;let s=r.slice(0,i),a=r.slice(i+1);if(s.length+a.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let c={};return!hl(s,n.slice(0,s.length),c)||!hl(a,n.slice(n.length-a.length),c)?null:{consumed:n,posParams:c}}function Io(n){return new Promise((e,t)=>{n.pipe(vn()).subscribe({next:r=>e(r),error:r=>t(r)})})}function pE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pt(n[t],e[t]))return!1;return!0}function Pt(n,e){let t=n?gl(n):void 0,r=e?gl(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!bp(n[i],e[i]))return!1;return!0}function gl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function bp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function mE(n){return n.length>0?n[n.length-1]:null}function Qn(n){return Bs(n)?n:Af(n)?Ct(Promise.resolve(n)):Q(n)}function Sp(n){return Bs(n)?Io(n):Promise.resolve(n)}var gE={exact:Rp,subset:Cp},Ap={exact:yE,subset:_E,ignored:()=>!0};function pp(n,e,t){return gE[t.paths](n.root,e.root,t.matrixParams)&&Ap[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function yE(n,e){return Pt(n,e)}function Rp(n,e,t){if(!qn(n.segments,e.segments)||!Eo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Rp(n.children[r],e.children[r],t))return!1;return!0}function _E(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bp(n[t],e[t]))}function Cp(n,e,t){return Pp(n,e,e.segments,t)}function Pp(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!qn(i,t)||e.hasChildren()||!Eo(i,t,r))}else if(n.segments.length===t.length){if(!qn(n.segments,t)||!Eo(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Cp(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!qn(n.segments,i)||!Eo(n.segments,i,r)||!n.children[H]?!1:Pp(n.children[H],e,s,r)}}function Eo(n,e,t){return e.every((r,i)=>Ap[t](n[i].parameters,r.parameters))}var Et=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gn(this.queryParams),this._queryParamMap}toString(){return wE.serialize(this)}},ie=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wo(this)}},In=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Gn(this.parameters),this._parameterMap}toString(){return Dp(this)}};function vE(n,e){return qn(n,e)&&n.every((t,r)=>Pt(t.parameters,e[r].parameters))}function qn(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function EE(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===H&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==H&&(t=t.concat(e(i,r)))}),t}var $i=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new bn,providedIn:"root"})}return n})(),bn=class{parse(e){let t=new _l(e);return new Et(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ki(e.root,!0)}`,r=bE(e.queryParams),i=typeof e.fragment=="string"?`#${TE(e.fragment)}`:"";return`${t}${r}${i}`}},wE=new bn;function wo(n){return n.segments.map(e=>Dp(e)).join("/")}function ki(n,e){if(!n.hasChildren())return wo(n);if(e){let t=n.children[H]?ki(n.children[H],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${ki(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=EE(n,(r,i)=>i===H?[ki(n.children[H],!1)]:[`${i}:${ki(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[H]!=null?`${wo(n)}/${t[0]}`:`${wo(n)}/(${t.join("//")})`}}function kp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _o(n){return kp(n).replace(/%3B/gi,";")}function TE(n){return encodeURI(n)}function yl(n){return kp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function To(n){return decodeURIComponent(n)}function mp(n){return To(n.replace(/\+/g,"%20"))}function Dp(n){return`${yl(n.path)}${IE(n.parameters)}`}function IE(n){return Object.entries(n).map(([e,t])=>`;${yl(e)}=${yl(t)}`).join("")}function bE(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${_o(t)}=${_o(i)}`).join("&"):`${_o(t)}=${_o(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var SE=/^[^\/()?;#]+/;function dl(n){let e=n.match(SE);return e?e[0]:""}var AE=/^[^\/()?;=#]+/;function RE(n){let e=n.match(AE);return e?e[0]:""}var CE=/^[^=?&#]+/;function PE(n){let e=n.match(CE);return e?e[0]:""}var kE=/^[^&#]+/;function DE(n){let e=n.match(kE);return e?e[0]:""}var _l=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[H]=new ie(e,t)),r}parseSegment(){let e=dl(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new In(To(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=RE(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=dl(this.remaining);i&&(r=i,this.capture(r))}e[To(t)]=To(r)}parseQueryParam(e){let t=PE(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=DE(this.remaining);a&&(r=a,this.capture(r))}let i=mp(t),s=mp(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=dl(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let a=this.parseChildren();t[s??H]=Object.keys(a).length===1&&a[H]?a[H]:new ie([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function Np(n){return n.segments.length>0?new ie([],{[H]:n}):n}function Op(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=Op(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[a,c]of Object.entries(s.children))e[a]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ie(n.segments,e);return NE(t)}function NE(n){if(n.numberOfChildren===1&&n.children[H]){let e=n.children[H];return new ie(n.segments.concat(e.segments),e.children)}return n}function Sn(n){return n instanceof Et}function Mp(n,e,t=null,r=null,i=new bn){let s=xp(n);return Lp(s,e,t,r,i)}function xp(n){let e;function t(s){let a={};for(let u of s.children){let d=t(u);a[u.outlet]=d}let c=new ie(s.url,a);return s===n&&(e=c),c}let r=t(n.root),i=Np(r);return e??i}function Lp(n,e,t,r,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return fl(s,s,s,t,r,i);let a=OE(e);if(a.toRoot())return fl(s,s,new ie([],{}),t,r,i);let c=ME(a,s,n),u=c.processChildren?Ni(c.segmentGroup,c.index,a.commands):Fp(c.segmentGroup,c.index,a.commands);return fl(s,c.segmentGroup,u,t,r,i)}function bo(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function xi(n){return typeof n=="object"&&n!=null&&n.outlets}function gp(n,e,t){n||="\u0275";let r=new Et;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function fl(n,e,t,r,i,s){let a={};for(let[d,y]of Object.entries(r??{}))a[d]=Array.isArray(y)?y.map(_=>gp(d,_,s)):gp(d,y,s);let c;n===e?c=t:c=Vp(n,e,t);let u=Np(Op(c));return new Et(u,a,i)}function Vp(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Vp(s,e,t)}),new ie(n.segments,r)}var So=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bo(r[0]))throw new x(4003,!1);let i=r.find(xi);if(i&&i!==mE(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OE(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new So(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new So(t,e,r)}var Sr=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ME(n,e,t){if(n.isAbsolute)return new Sr(e,!0,0);if(!t)return new Sr(e,!1,NaN);if(t.parent===null)return new Sr(t,!0,0);let r=bo(n.commands[0])?0:1,i=t.segments.length-1+r;return xE(t,i,n.numberOfDoubleDots)}function xE(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Sr(r,!1,i-s)}function LE(n){return xi(n[0])?n[0].outlets:{[H]:n}}function Fp(n,e,t){if(n??=new ie([],{}),n.segments.length===0&&n.hasChildren())return Ni(n,e,t);let r=VE(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ie(n.segments.slice(0,r.pathIndex),{});return s.children[H]=new ie(n.segments.slice(r.pathIndex),n.children),Ni(s,0,i)}else return r.match&&i.length===0?new ie(n.segments,{}):r.match&&!n.hasChildren()?vl(n,e,t):r.match?Ni(n,0,i):vl(n,e,t)}function Ni(n,e,t){if(t.length===0)return new ie(n.segments,{});{let r=LE(t),i={};if(Object.keys(r).some(s=>s!==H)&&n.children[H]&&n.numberOfChildren===1&&n.children[H].segments.length===0){let s=Ni(n.children[H],e,t);return new ie(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=Fp(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new ie(n.segments,i)}}function VE(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let a=n.segments[i],c=t[r];if(xi(c))break;let u=`${c}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!_p(u,d,a))return s;r+=2}else{if(!_p(u,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vl(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(xi(s)){let u=FE(s.outlets);return new ie(r,u)}if(i===0&&bo(t[0])){let u=n.segments[e];r.push(new In(u.path,yp(t[0]))),i++;continue}let a=xi(s)?s.outlets[H]:`${s}`,c=i<t.length-1?t[i+1]:null;a&&c&&bo(c)?(r.push(new In(a,yp(c))),i+=2):(r.push(new In(a,{})),i++)}return new ie(r,{})}function FE(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=vl(new ie([],{}),0,r))}),e}function yp(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _p(n,e,t){return n==t.path&&Pt(e,t.parameters)}var Oi="imperative",Re=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Re||{}),it=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wn=class extends it{type=Re.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kt=class extends it{urlAfterRedirects;type=Re.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fe=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Fe||{}),Li=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Li||{}),dt=class extends it{reason;code;type=Re.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function Up(n){return n instanceof dt&&(n.code===Fe.Redirect||n.code===Fe.SupersededByNewNavigation)}var Qt=class extends it{reason;code;type=Re.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Kn=class extends it{error;target;type=Re.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rr=class extends it{urlAfterRedirects;state;type=Re.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ao=class extends it{urlAfterRedirects;state;type=Re.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ro=class extends it{urlAfterRedirects;state;shouldActivate;type=Re.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Co=class extends it{urlAfterRedirects;state;type=Re.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Po=class extends it{urlAfterRedirects;state;type=Re.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ko=class{route;type=Re.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Do=class{route;type=Re.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},No=class{snapshot;type=Re.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oo=class{snapshot;type=Re.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mo=class{snapshot;type=Re.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xo=class{snapshot;type=Re.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Cr=class{},Pr=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function UE(n){return!(n instanceof Cr)&&!(n instanceof Pr)}var Lo=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Nr(this.rootInjector)}},Nr=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Lo(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vo=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=El(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=El(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=wl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wl(e,this._root).map(t=>t.value)}};function El(n,e){if(n===e.value)return e;for(let t of e.children){let r=El(n,t);if(r)return r}return null}function wl(n,e){if(n===e.value)return[e];for(let t of e.children){let r=wl(n,t);if(r.length)return r.unshift(e),r}return[]}var rt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function br(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Vi=class extends Vo{snapshot;constructor(e,t){super(e),this.snapshot=t,Pl(this,e)}toString(){return this.snapshot.toString()}};function jp(n,e){let t=jE(n,e),r=new Be([new In("",{})]),i=new Be({}),s=new Be({}),a=new Be({}),c=new Be(""),u=new Yt(r,i,a,c,s,H,n,t.root);return u.snapshot=t.root,new Vi(new rt(u,[]),t)}function jE(n,e){let t={},r={},i={},a=new Hn([],t,i,"",r,H,n,null,{},e);return new Fi("",new rt(a,[]))}var Yt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,a,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(d=>d[Bi]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Gn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Gn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fo(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&$p(i)&&(r.resolve[Bi]=i.title),r}var Hn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Bi]}constructor(e,t,r,i,s,a,c,u,d,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=u,this._resolve=d,this._environmentInjector=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Fi=class extends Vo{url;constructor(e,t){super(t),this.url=e,Pl(this,t)}toString(){return Bp(this._root)}};function Pl(n,e){e.value._routerState=n,e.children.forEach(t=>Pl(n,t))}function Bp(n){let e=n.children.length>0?` { ${n.children.map(Bp).join(", ")} } `:"";return`${n.value}${e}`}function pl(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pt(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pt(e.params,t.params)||n.paramsSubject.next(t.params),pE(e.url,t.url)||n.urlSubject.next(t.url),Pt(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Tl(n,e){let t=Pt(n.params,e.params)&&vE(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Tl(n.parent,e.parent))}function $p(n){return typeof n.title=="string"||n.title===null}var zp=new Y(""),zi=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new Gt;deactivateEvents=new Gt;attachEvents=new Gt;detachEvents=new Gt;routerOutletData=Uf();parentContexts=C(Nr);location=C(If);changeDetector=C(Wc);inputBinder=C($o,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Il(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xs({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Gs]})}return n})(),Il=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Yt?this.route:e===Nr?this.childContexts:e===zp?this.outletData:this.parent.get(e,t)}},$o=new Y("");var kl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ut({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&we(0,"router-outlet")},dependencies:[zi],encapsulation:2})}return n})();function Dl(n){let e=n.children&&n.children.map(Dl),t=e?He(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==H&&(t.component=kl),t}function BE(n,e,t){let r=Ui(n,e._root,t?t._root:void 0);return new Vi(r,e)}function Ui(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$E(n,e,t);return new rt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>Ui(n,c)),a}}let r=zE(e.value),i=e.children.map(s=>Ui(n,s));return new rt(r,i)}}function $E(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ui(n,r,i);return Ui(n,r)})}function zE(n){return new Yt(new Be(n.url),new Be(n.params),new Be(n.queryParams),new Be(n.fragment),new Be(n.data),n.outlet,n.component,n)}var kr=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},qp="ngNavigationCancelingError";function Uo(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Sn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Hp(!1,Fe.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Hp(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[qp]=!0,t.cancellationCode=e,t}function qE(n){return Gp(n)&&Sn(n.url)}function Gp(n){return!!n&&n[qp]}var bl=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=br(t);e.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=br(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=br(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=br(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xo(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Oo(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(pl(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),pl(c.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},jo=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ar=class{component;route;constructor(e,t){this.component=e,this.route=t}};function HE(n,e,t){let r=n._root,i=e?e._root:null;return Di(r,i,t,[r.value])}function GE(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Or(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!df(n)?n:e.get(n):r}function Di(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=br(e);return n.children.forEach(a=>{WE(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>Mi(c,t.getContext(a),i)),i}function WE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let u=KE(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jo(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Di(n,e,c?c.children:null,r,i):Di(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Ar(c.outlet.component,a))}else a&&Mi(e,c,i),i.canActivateChecks.push(new jo(r)),s.component?Di(n,null,c?c.children:null,r,i):Di(n,null,t,r,i);return i}function KE(n,e,t){if(typeof t=="function")return be(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!qn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qn(n.url,e.url)||!Pt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tl(n,e)||!Pt(n.queryParams,e.queryParams);default:return!Tl(n,e)}}function Mi(n,e,t){let r=br(n),i=n.value;Object.entries(r).forEach(([s,a])=>{i.component?e?Mi(a,e.children.getContext(s),t):Mi(a,null,t):Mi(a,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ar(e.outlet.component,i)):t.canDeactivateChecks.push(new Ar(null,i)):t.canDeactivateChecks.push(new Ar(null,i))}function qi(n){return typeof n=="function"}function QE(n){return typeof n=="boolean"}function YE(n){return n&&qi(n.canLoad)}function XE(n){return n&&qi(n.canActivate)}function JE(n){return n&&qi(n.canActivateChild)}function ZE(n){return n&&qi(n.canDeactivate)}function ew(n){return n&&qi(n.canMatch)}function Wp(n){return n instanceof of||n?.name==="EmptyError"}var vo=Symbol("INITIAL_VALUE");function Dr(){return $e(n=>af(n.map(e=>e.pipe(Ge(1),lf(vo)))).pipe(ae(e=>{for(let t of e)if(t!==!0){if(t===vo)return vo;if(t===!1||tw(t))return t}return!0}),Ie(e=>e!==vo),Ge(1)))}function tw(n){return Sn(n)||n instanceof kr}function Kp(n){return n.aborted?Q(void 0).pipe(Ge(1)):new tt(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function Qp(n){return qs(Kp(n))}function nw(n){return yn(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?Q(He(U({},e),{guardsResult:!0})):rw(s,t,r).pipe(yn(a=>a&&QE(a)?iw(t,i,n):Q(a)),ae(a=>He(U({},e),{guardsResult:a})))})}function rw(n,e,t){return Ct(n).pipe(yn(r=>lw(r.component,r.route,t,e)),vn(r=>r!==!0,!0))}function iw(n,e,t){return Ct(e).pipe(pi(r=>cf(ow(r.route.parent,t),sw(r.route,t),cw(n,r.path),aw(n,r.route))),vn(r=>r!==!0,!0))}function sw(n,e){return n!==null&&e&&e(new Mo(n)),Q(!0)}function ow(n,e){return n!==null&&e&&e(new No(n)),Q(!0)}function aw(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return Q(!0);let r=t.map(i=>$s(()=>{let s=e._environmentInjector,a=Or(i,s),c=XE(a)?a.canActivate(e,n):be(s,()=>a(e,n));return Qn(c).pipe(vn())}));return Q(r).pipe(Dr())}function cw(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>GE(s)).filter(s=>s!==null).map(s=>$s(()=>{let a=s.guards.map(c=>{let u=s.node._environmentInjector,d=Or(c,u),y=JE(d)?d.canActivateChild(t,n):be(u,()=>d(t,n));return Qn(y).pipe(vn())});return Q(a).pipe(Dr())}));return Q(i).pipe(Dr())}function lw(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return Q(!0);let s=i.map(a=>{let c=e._environmentInjector,u=Or(a,c),d=ZE(u)?u.canDeactivate(n,e,t,r):be(c,()=>u(n,e,t,r));return Qn(d).pipe(vn())});return Q(s).pipe(Dr())}function uw(n,e,t,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return Q(!0);let a=s.map(c=>{let u=Or(c,n),d=YE(u)?u.canLoad(e,t):be(n,()=>u(e,t)),y=Qn(d);return i?y.pipe(Qp(i)):y});return Q(a).pipe(Dr(),Yp(r))}function Yp(n){return nf(Ht(e=>{if(typeof e!="boolean")throw Uo(n,e)}),ae(e=>e===!0))}function hw(n,e,t,r,i){let s=e.canMatch;if(!s||s.length===0)return Q(!0);let a=s.map(c=>{let u=Or(c,n),d=ew(u)?u.canMatch(e,t):be(n,()=>u(e,t));return Qn(d).pipe(Qp(i))});return Q(a).pipe(Dr(),Yp(r))}var Kt=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},ji=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function dw(n){throw new x(4e3,!1)}function fw(n){throw Hp(!1,Fe.GuardRejected)}var Sl=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[H])throw dw(`${e.redirectTo}`);i=i.children[H]}}async applyRedirectCommands(e,t,r,i,s){let a=await pw(t,i,s);if(a instanceof Et)throw new ji(a);let c=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new ji(c);return c}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Et(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),a={};return Object.entries(t.children).forEach(([c,u])=>{a[c]=this.createSegmentGroup(e,u,r,i)}),new ie(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function pw(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:a,url:c,outlet:u,params:d,data:y,title:_,paramMap:b,queryParamMap:R}=e;return Io(Qn(be(t,()=>r({params:d,data:y,queryParams:i,fragment:s,routeConfig:a,url:c,outlet:u,title:_,paramMap:b,queryParamMap:R}))))}function mw(n,e){return n.providers&&!n._injector&&(n._injector=Hc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vt(n){return n.outlet||H}function gw(n,e){let t=n.filter(r=>vt(r)===e);return t.push(...n.filter(r=>vt(r)!==e)),t}var Al={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yw(n,e,t,r,i,s){let a=Xp(n,e,t);return a.matched?(r=mw(e,r),hw(r,e,t,i,s).pipe(ae(c=>c===!0?a:U({},Al)))):Q(a)}function Xp(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},Al):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ip)(t,n,e);if(!i)return U({},Al);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let a=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function vp(n,e,t,r){return t.length>0&&Ew(n,t,r)?{segmentGroup:new ie(e,vw(r,new ie(t,n.children))),slicedSegments:[]}:t.length===0&&ww(n,t,r)?{segmentGroup:new ie(n.segments,_w(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ie(n.segments,n.children),slicedSegments:t}}function _w(n,e,t,r){let i={};for(let s of t)if(zo(n,e,s)&&!r[vt(s)]){let a=new ie([],{});i[vt(s)]=a}return U(U({},r),i)}function vw(n,e){let t={};t[H]=e;for(let r of n)if(r.path===""&&vt(r)!==H){let i=new ie([],{});t[vt(r)]=i}return t}function Ew(n,e,t){return t.some(r=>zo(n,e,r)&&vt(r)!==H)}function ww(n,e,t){return t.some(r=>zo(n,e,r))}function zo(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Tw(n,e,t){return e.length===0&&!n.children[t]}var Rl=class{};async function Iw(n,e,t,r,i,s,a="emptyOnly",c){return new Cl(n,e,t,r,i,a,s,c).recognize()}var bw=31,Cl=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,a,c,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.abortSignal=u,this.applyRedirects=new Sl(this.urlSerializer,this.urlTree)}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}async recognize(){let e=vp(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new rt(r,t),s=new Fi("",i),a=Mp(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}async match(e){let t=new Hn([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,H,t),rootSnapshot:t}}catch(r){if(r instanceof ji)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Kt?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,s);let a=await this.processSegment(e,t,r,r.segments,i,!0,s);return a instanceof rt?[a]:[]}async processChildren(e,t,r,i){let s=[];for(let u of Object.keys(r.children))u==="primary"?s.unshift(u):s.push(u);let a=[];for(let u of s){let d=r.children[u],y=gw(t,u),_=await this.processSegmentGroup(e,y,d,u,i);a.push(..._)}let c=Jp(a);return Sw(c),c}async processSegment(e,t,r,i,s,a,c){for(let u of t)try{return await this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,a,c)}catch(d){if(d instanceof Kt||Wp(d))continue;throw d}if(Tw(r,i,s))return new Rl;throw new Kt(r)}async processSegmentAgainstRoute(e,t,r,i,s,a,c,u){if(vt(r)!==a&&(a===H||!zo(i,s,r)))throw new Kt(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,a,u);if(this.allowRedirects&&c)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a,u);throw new Kt(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a,c){let{matched:u,parameters:d,consumedSegments:y,positionalParamSegments:_,remainingSegments:b}=Xp(t,i,s);if(!u)throw new Kt(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bw&&(this.allowRedirects=!1));let R=new Hn(s,d,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Ep(i),vt(i),i.component??i._loadedComponent??null,i,wp(i),e),A=Fo(R,c,this.paramsInheritanceStrategy);if(R.params=Object.freeze(A.params),R.data=Object.freeze(A.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let D=await this.applyRedirects.applyRedirectCommands(y,i.redirectTo,_,R,e),P=await this.applyRedirects.lineralizeSegments(i,D);return this.processSegment(e,r,t,P.concat(b),a,!1,c)}async matchSegmentAgainstRoute(e,t,r,i,s,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let c=await Io(yw(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!c?.matched)throw new Kt(t);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:y,consumedSegments:_,remainingSegments:b}=c,R=new Hn(_,y,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Ep(r),vt(r),r.component??r._loadedComponent??null,r,wp(r),e),A=Fo(R,a,this.paramsInheritanceStrategy);R.params=Object.freeze(A.params),R.data=Object.freeze(A.data);let{segmentGroup:D,slicedSegments:P}=vp(t,_,b,u);if(P.length===0&&D.hasChildren()){let z=await this.processChildren(d,u,D,R);return new rt(R,z)}if(u.length===0&&P.length===0)return new rt(R,[]);let L=vt(r)===s,B=await this.processSegment(d,u,D,P,L?H:s,!0,R);return new rt(R,B instanceof rt?[B]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let s=t._loadedNgModuleFactory;return s&&!t._loadedInjector&&(t._loadedInjector=s.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Io(uw(e,t,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=s.routes,t._loadedInjector=s.injector,t._loadedNgModuleFactory=s.factory,s}throw fw(t)}return{routes:[],injector:e}}};function Sw(n){n.sort((e,t)=>e.value.outlet===H?-1:t.value.outlet===H?1:e.value.outlet.localeCompare(t.value.outlet))}function Aw(n){let e=n.value.routeConfig;return e&&e.path===""}function Jp(n){let e=[],t=new Set;for(let r of n){if(!Aw(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Jp(r.children);e.push(new rt(r.value,i))}return e.filter(r=>!t.has(r))}function Ep(n){return n.data||{}}function wp(n){return n.resolve||{}}function Rw(n,e,t,r,i,s,a){return yn(async c=>{let{state:u,tree:d}=await Iw(n,e,t,r,c.extractedUrl,i,s,a);return He(U({},c),{targetSnapshot:u,urlAfterRedirects:d})})}function Cw(n){return yn(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return Q(e);let i=new Set(r.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of Zp(c))s.add(u);let a=0;return Ct(s).pipe(pi(c=>i.has(c)?Pw(c,t,n):(c.data=Fo(c,c.parent,n).resolve,Q(void 0))),Ht(()=>a++),Mc(1),yn(c=>a===s.size?Q(e):lt))})}function Zp(n){let e=n.children.map(t=>Zp(t)).flat();return[n,...e]}function Pw(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!$p(r)&&(i[Bi]=r.title),$s(()=>(n.data=Fo(n,n.parent,t).resolve,kw(i,n,e).pipe(ae(s=>(n._resolvedData=s,n.data=U(U({},n.data),s),null)))))}function kw(n,e,t){let r=gl(n);if(r.length===0)return Q({});let i={};return Ct(r).pipe(yn(s=>Dw(n[s],e,t).pipe(vn(),Ht(a=>{if(a instanceof kr)throw Uo(new bn,a);i[s]=a}))),Mc(1),ae(()=>i),fi(s=>Wp(s)?lt:js(s)))}function Dw(n,e,t){let r=e._environmentInjector,i=Or(n,r),s=i.resolve?i.resolve(e,t):be(r,()=>i(e,t));return Qn(s)}function Tp(n){return $e(e=>{let t=n(e);return t?Ct(t).pipe(ae(()=>e)):Q(e)})}var Nl=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===H);return r}getResolvedTitleForRoute(t){return t.data[Bi]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>C(em),providedIn:"root"})}return n})(),em=(()=>{class n extends Nl{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(fp))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mr=new Y("",{factory:()=>({})}),Hi=new Y(""),tm=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(Lf);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await Sp(be(t,()=>r.loadComponent())),a=await im(rm(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a,a}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await nm(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,r._loadedNgModuleFactory=s.factory,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function nm(n,e,t,r){let i=await Sp(be(t,()=>n.loadChildren())),s=await im(rm(i)),a;s instanceof bf||Array.isArray(s)?a=s:a=await e.compileModuleAsync(s),r&&r(n);let c,u,d=!1,y;return Array.isArray(a)?(u=a,d=!0):(c=a.create(t).injector,y=a,u=c.get(Hi,[],{optional:!0,self:!0}).flat()),{routes:u.map(Dl),injector:c,factory:y}}function Nw(n){return n&&typeof n=="object"&&"default"in n}function rm(n){return Nw(n)?n.default:n}async function im(n){return n}var qo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>C(Ow),providedIn:"root"})}return n})(),Ow=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sm=new Y("");var Mw=()=>{},om=new Y(""),am=(()=>{class n{currentNavigation=En(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=En(null);events=new gt;transitionAbortWithErrorSubject=new gt;configLoader=C(tm);environmentInjector=C(nt);destroyRef=C(yr);urlSerializer=C($i);rootContexts=C(Nr);location=C(wr);inputBindingEnabled=C($o,{optional:!0})!==null;titleStrategy=C(Nl);options=C(Mr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(qo);createViewTransition=C(sm,{optional:!0});navigationErrorHandler=C(om,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ko(i)),r=i=>this.events.next(new Do(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;yt(()=>{this.transitions?.next(He(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Be(null),this.transitions.pipe(Ie(r=>r!==null),$e(r=>{let i=!1,s=new AbortController,a=()=>!i&&this.currentTransition?.id===r.id;return Q(r).pipe($e(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Fe.SupersededByNewNavigation),lt;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:u?He(U({},u),{previousNavigation:null}):null,abort:()=>s.abort()});let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&y!=="reload")return this.events.next(new Qt(c.id,this.urlSerializer.serialize(c.rawUrl),"",Li.IgnoredSameUrlNavigation)),c.resolve(!1),lt;if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Q(c).pipe($e(_=>(this.events.next(new Wn(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),_.id!==this.navigationId?lt:Promise.resolve(_))),Rw(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),Ht(_=>{r.targetSnapshot=_.targetSnapshot,r.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation.update(R=>(R.finalUrl=_.urlAfterRedirects,R));let b=new Rr(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(b)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:_,extractedUrl:b,source:R,restoredState:A,extras:D}=c,P=new Wn(_,this.urlSerializer.serialize(b),R,A);this.events.next(P);let L=jp(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=He(U({},c),{targetSnapshot:L,urlAfterRedirects:b,extras:He(U({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(B=>(B.finalUrl=b,B)),Q(r)}else return this.events.next(new Qt(c.id,this.urlSerializer.serialize(c.extractedUrl),"",Li.IgnoredByUrlHandlingStrategy)),c.resolve(!1),lt}),ae(c=>{let u=new Ao(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);return this.events.next(u),this.currentTransition=r=He(U({},c),{guards:HE(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),r}),nw(c=>this.events.next(c)),$e(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Uo(this.urlSerializer,c.guardsResult);let u=new Ro(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);if(this.events.next(u),!a())return lt;if(!c.guardsResult)return this.cancelNavigationTransition(c,"",Fe.GuardRejected),lt;if(c.guards.canActivateChecks.length===0)return Q(c);let d=new Co(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);if(this.events.next(d),!a())return lt;let y=!1;return Q(c).pipe(Cw(this.paramsInheritanceStrategy),Ht({next:()=>{y=!0;let _=new Po(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(_)},complete:()=>{y||this.cancelNavigationTransition(c,"",Fe.NoDataFromResolver)}}))}),Tp(c=>{let u=y=>{let _=[];if(y.routeConfig?._loadedComponent)y.component=y.routeConfig?._loadedComponent;else if(y.routeConfig?.loadComponent){let b=y._environmentInjector;_.push(this.configLoader.loadComponent(b,y.routeConfig).then(R=>{y.component=R}))}for(let b of y.children)_.push(...u(b));return _},d=u(c.targetSnapshot.root);return d.length===0?Q(c):Ct(Promise.all(d).then(()=>c))}),Tp(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:c,targetSnapshot:u}=r,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Ct(d).pipe(ae(()=>r)):Q(r)}),Ge(1),ae(c=>{let u=BE(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);this.currentTransition=r=c=He(U({},c),{targetRouterState:u}),this.currentNavigation.update(d=>(d.targetRouterState=u,d)),this.events.next(new Cr),a()&&(new bl(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,d=>this.events.next(d),this.inputBindingEnabled).activate(this.rootContexts),a()&&(i=!0,this.currentNavigation.update(d=>(d.abort=Mw,d)),this.lastSuccessfulNavigation.set(yt(this.currentNavigation)),this.events.next(new kt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)))}),qs(Kp(s.signal).pipe(Ie(()=>!i&&!r.targetRouterState),Ht(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",Fe.Aborted)}))),Ht({complete:()=>{i=!0}}),qs(this.transitionAbortWithErrorSubject.pipe(Ht(c=>{throw c}))),zs(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",Fe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),fi(c=>{if(i=!0,this.destroyed)return r.resolve(!1),lt;if(Gp(c))this.events.next(new dt(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),qE(c)?this.events.next(new Pr(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{let u=new Kn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{let d=be(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof kr){let{message:y,cancellationCode:_}=Uo(this.urlSerializer,d);this.events.next(new dt(r.id,this.urlSerializer.serialize(r.extractedUrl),y,_)),this.events.next(new Pr(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),c}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return lt}))}))}cancelNavigationTransition(t,r,i){let s=new dt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=yt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xw(n){return n!==Oi}var cm=new Y("");var lm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>C(Lw),providedIn:"root"})}return n})(),Bo=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},Lw=(()=>{class n extends Bo{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uc(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ol=(()=>{class n{urlSerializer=C($i);options=C(Mr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(wr);urlHandlingStrategy=C(qo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Et;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,a=i??s;return a instanceof Et?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=jp(null,C(nt));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>C(Vw),providedIn:"root"})}return n})(),Vw=(()=>{class n extends Ol{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wn?this.updateStateMemento():t instanceof Qt?this.commitTransition(r):t instanceof Rr?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Cr?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof dt&&!Up(t)?this.restoreHistory(r):t instanceof Kn?this.restoreHistory(r,!0):t instanceof kt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||s){let c=this.browserPageId,u=U(U({},a),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=U(U({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uc(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ml(n,e){n.events.pipe(Ie(t=>t instanceof kt||t instanceof dt||t instanceof Kn||t instanceof Qt),ae(t=>t instanceof kt||t instanceof Qt?0:(t instanceof dt?t.code===Fe.Redirect||t.code===Fe.SupersededByNewNavigation:!1)?2:1),Ie(t=>t!==2),Ge(1)).subscribe(()=>{e()})}var um={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},st=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(Sf);stateManager=C(Ol);options=C(Mr,{optional:!0})||{};pendingTasks=C(pf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(am);urlSerializer=C($i);location=C(wr);urlHandlingStrategy=C(qo);injector=C(nt);_events=new gt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(lm);injectorCleanup=C(cm,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(Hi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C($o,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new tf;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=yt(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof dt&&r.code!==Fe.Redirect&&r.code!==Fe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof kt)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Pr){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||xw(i.source)},a);this.scheduleNavigation(c,Oi,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}UE(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Oi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,a,s).catch(u=>{this.disposed||this.injector.get(Hs)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return yt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Dl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,y=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":y=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}y!==null&&(y=this.removeEmptyProps(y));let _;try{let b=i?i.snapshot:this.routerState.snapshot.root;_=xp(b)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),_=this.currentUrlTree.root}return Lp(_,t,y,d??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Sn(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Oi,null,r)}navigate(t,r={skipLocationChange:!1}){return Fw(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(mi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},um):r===!1?i=U({},hm):i=r,Sn(t))return pp(this.currentUrlTree,t,i);let s=this.parseUrl(t);return pp(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((_,b)=>{c=_,u=b});let y=this.pendingTasks.add();return Ml(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(_=>Promise.reject(_))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fw(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new x(4008,!1)}var xr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=En(null);get href(){return yt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new gt;applicationErrorHandler=C(Hs);options=C(Mr,{optional:!0});constructor(t,r,i,s,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=a,this.locationStrategy=c,this.reactiveHref.set(C(new Ff("href"),{optional:!0}));let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(t=>{t instanceof kt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Sn(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Sn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(wn(st),wn(Yt),yf("tabindex"),wn(Tf),wn(jc),wn(qf))};static \u0275dir=Xs({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&fe("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Cf("href",i.reactiveHref(),Ef)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",eo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",eo],replaceUrl:[2,"replaceUrl","replaceUrl",eo],routerLink:"routerLink"},features:[Gs]})}return n})();var Bw=new Y("");function xl(n,...e){return We([{provide:Hi,multi:!0,useValue:n},[],{provide:Yt,useFactory:$w},{provide:Rf,multi:!0,useFactory:zw},e.map(t=>t.\u0275providers)])}function $w(){return C(st).routerState.root}function zw(){let n=C(Pe);return e=>{let t=n.get(yi);if(e!==t.components[0])return;let r=n.get(st),i=n.get(qw);n.get(Hw)===1&&r.initialNavigation(),n.get(Gw,null,{optional:!0})?.setUpPreloading(),n.get(Bw,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qw=new Y("",{factory:()=>new gt}),Hw=new Y("",{factory:()=>1});var Gw=new Y("");var dm=(n,e)=>{let t=C(io);return e(n).pipe(fi(r=>{let i="Ha ocurrido un error inesperado.";return r.error instanceof ErrorEvent?i=`Error: ${r.error.message}`:r.status===0?i="No hay conexi\xF3n con el servidor. Verifica tu internet.":r.status===401?i="No tienes permiso para realizar esta acci\xF3n.":r.status===403?i="Acceso denegado.":r.status===404?i="El recurso solicitado no existe.":r.status>=500&&(i="Error en el servidor. Int\xE9ntalo m\xE1s tarde."),t.error(i),js(()=>r)}))};function fm(n){return new x(3e3,!1)}function Ww(){return new x(3100,!1)}function Kw(){return new x(3101,!1)}function Qw(n){return new x(3001,!1)}function Yw(n){return new x(3003,!1)}function Xw(n){return new x(3004,!1)}function mm(n,e){return new x(3005,!1)}function gm(){return new x(3006,!1)}function ym(){return new x(3007,!1)}function _m(n,e){return new x(3008,!1)}function vm(n){return new x(3002,!1)}function Em(n,e,t,r,i){return new x(3010,!1)}function wm(){return new x(3011,!1)}function Tm(){return new x(3012,!1)}function Im(){return new x(3200,!1)}function bm(){return new x(3202,!1)}function Sm(){return new x(3013,!1)}function Am(n){return new x(3014,!1)}function Rm(n){return new x(3015,!1)}function Cm(n){return new x(3016,!1)}function Pm(n,e){return new x(3404,!1)}function Jw(n){return new x(3502,!1)}function km(n){return new x(3503,!1)}function Dm(){return new x(3300,!1)}function Nm(n){return new x(3504,!1)}function Om(n){return new x(3301,!1)}function Mm(n,e){return new x(3302,!1)}function xm(n){return new x(3303,!1)}function Lm(n,e){return new x(3400,!1)}function Vm(n){return new x(3401,!1)}function Fm(n){return new x(3402,!1)}function Um(n,e){return new x(3505,!1)}function Xt(n){switch(n.length){case 0:return new $n;case 1:return n[0];default:return new so(n)}}function Ul(n,e,t=new Map,r=new Map){let i=[],s=[],a=-1,c=null;if(e.forEach(u=>{let d=u.get("offset"),y=d==a,_=y&&c||new Map;u.forEach((b,R)=>{let A=R,D=b;if(R!=="offset")switch(A=n.normalizePropertyName(A,i),D){case Ei:D=t.get(R);break;case _t:D=r.get(R);break;default:D=n.normalizeStyleValue(R,A,D,i);break}_.set(A,D)}),y||s.push(_),c=_,a=d}),i.length)throw Jw(i);return s}function Go(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ll(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ll(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ll(t,"destroy",n)));break}}function Ll(n,e,t){let r=t.totalTime,i=!!t.disabled,s=Wo(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),a=n._data;return a!=null&&(s._data=a),s}function Wo(n,e,t,r,i="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function Ye(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function jl(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var Zw=typeof document>"u"?null:document.documentElement;function Ko(n){let e=n.parentNode||n.host||null;return e===Zw?null:e}function eT(n){return n.substring(1,6)=="ebkit"}var Yn=null,pm=!1;function jm(n){Yn||(Yn=tT()||{},pm=Yn.style?"WebkitAppearance"in Yn.style:!1);let e=!0;return Yn.style&&!eT(n)&&(e=n in Yn.style,!e&&pm&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yn.style)),e}function tT(){return typeof document<"u"?document.body:null}function Bl(n,e){for(;e;){if(e===n)return!0;e=Ko(e)}return!1}function $l(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var nT=1e3,zl="{{",rT="}}",ql="ng-enter",Qo="ng-leave",Gi="ng-trigger",Wi=".ng-trigger",Hl="ng-animating",Yo=".ng-animating";function Dt(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Vl(parseFloat(e[1]),e[2])}function Vl(n,e){return e==="s"?n*nT:n}function Ki(n,e,t){return n.hasOwnProperty("duration")?n:sT(n,e,t)}var iT=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function sT(n,e,t){let r,i=0,s="";if(typeof n=="string"){let a=n.match(iT);if(a===null)return e.push(fm(n)),{duration:0,delay:0,easing:""};r=Vl(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(i=Vl(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(Ww()),a=!0),i<0&&(e.push(Kw()),a=!0),a&&e.splice(c,0,fm(n))}return{duration:r,delay:i,easing:s}}function Bm(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function wt(n,e,t){e.forEach((r,i)=>{let s=Xo(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function An(n,e){e.forEach((t,r)=>{let i=Xo(r);n.style[i]=""})}function Lr(n){return Array.isArray(n)?n.length==1?n[0]:Kf(n):n}function $m(n,e,t){let r=e.params||{},i=Gl(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(Qw(s))})}var Fl=new RegExp(`${zl}\\s*(.+?)\\s*${rT}`,"g");function Gl(n){let e=[];if(typeof n=="string"){let t;for(;t=Fl.exec(n);)e.push(t[1]);Fl.lastIndex=0}return e}function Vr(n,e,t){let r=`${n}`,i=r.replace(Fl,(s,a)=>{let c=e[a];return c==null&&(t.push(Yw(a)),c=""),c.toString()});return i==r?n:i}var oT=/-+([a-z0-9])/g;function Xo(n){return n.replace(oT,(...e)=>e[1].toUpperCase())}function zm(n,e){return n===0||e===0}function qm(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,a)=>{r.has(a)||i.push(a),r.set(a,s)}),i.length)for(let s=1;s<e.length;s++){let a=e[s];i.forEach(c=>a.set(c,Jo(n,c)))}}return e}function Xe(n,e,t){switch(e.type){case X.Trigger:return n.visitTrigger(e,t);case X.State:return n.visitState(e,t);case X.Transition:return n.visitTransition(e,t);case X.Sequence:return n.visitSequence(e,t);case X.Group:return n.visitGroup(e,t);case X.Animate:return n.visitAnimate(e,t);case X.Keyframes:return n.visitKeyframes(e,t);case X.Style:return n.visitStyle(e,t);case X.Reference:return n.visitReference(e,t);case X.AnimateChild:return n.visitAnimateChild(e,t);case X.AnimateRef:return n.visitAnimateRef(e,t);case X.Query:return n.visitQuery(e,t);case X.Stagger:return n.visitStagger(e,t);default:throw Xw(e.type)}}function Jo(n,e){return window.getComputedStyle(n)[e]}var lu=(()=>{class n{validateStyleProperty(t){return jm(t)}containsElement(t,r){return Bl(t,r)}getParentElement(t){return Ko(t)}query(t,r,i){return $l(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,a,c=[],u){return new $n(i,s)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Jn=class{static NOOP=new lu},Zn=class{};var aT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ra=class extends Zn{normalizePropertyName(e,t){return Xo(e)}normalizeStyleValue(e,t,r,i){let s="",a=r.toString().trim();if(aT.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&i.push(mm(e,r))}return a+s}};var ia="*";function cT(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>lT(r,t,e)):t.push(n),t}function lT(n,e,t){if(n[0]==":"){let u=uT(n,t);if(typeof u=="function"){e.push(u);return}n=u}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(Rm(n)),e;let i=r[1],s=r[2],a=r[3];e.push(Hm(i,a));let c=i==ia&&a==ia;s[0]=="<"&&!c&&e.push(Hm(a,i))}function uT(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Cm(n)),"* => *"}}var Zo=new Set(["true","1"]),ea=new Set(["false","0"]);function Hm(n,e){let t=Zo.has(n)||ea.has(n),r=Zo.has(e)||ea.has(e);return(i,s)=>{let a=n==ia||n==i,c=e==ia||e==s;return!a&&t&&typeof i=="boolean"&&(a=i?Zo.has(n):ea.has(n)),!c&&r&&typeof s=="boolean"&&(c=s?Zo.has(e):ea.has(e)),a&&c}}var tg=":self",hT=new RegExp(`s*${tg}s*,?`,"g");function ng(n,e,t,r){return new Jl(n).build(e,t,r)}var Gm="",Jl=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new Zl(t);return this._resetContextStyleTimingState(i),Xe(this,Lr(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Gm,e.collectedStyles=new Map,e.collectedStyles.set(Gm,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],a=[];return e.name.charAt(0)=="@"&&t.errors.push(gm()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),c.type==X.State){let u=c,d=u.name;d.toString().split(/\s*,\s*/).forEach(y=>{u.name=y,s.push(this.visitState(u,t))}),u.name=d}else if(c.type==X.Transition){let u=this.visitTransition(c,t);r+=u.queryCount,i+=u.depCount,a.push(u)}else t.errors.push(ym())}),{type:X.Trigger,name:e.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,a=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{Gl(u).forEach(d=>{a.hasOwnProperty(d)||s.add(d)})})}),s.size&&t.errors.push(_m(e.name,[...s.values()]))}return{type:X.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Xe(this,Lr(e.animation),t),i=cT(e.expr,t.errors);return{type:X.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xn(e.options)}}visitSequence(e,t){return{type:X.Sequence,steps:e.steps.map(r=>Xe(this,r,t)),options:Xn(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(a=>{t.currentTime=r;let c=Xe(this,a,t);return i=Math.max(i,t.currentTime),c});return t.currentTime=i,{type:X.Group,steps:s,options:Xn(e.options)}}visitAnimate(e,t){let r=mT(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Kc({});if(s.type==X.Keyframes)i=this.visitKeyframes(s,t);else{let a=e.styles,c=!1;if(!a){c=!0;let d={};r.easing&&(d.easing=r.easing),a=Kc(d)}t.currentTime+=r.duration+r.delay;let u=this.visitStyle(a,t);u.isEmptyStep=c,i=u}return t.currentAnimateTimings=null,{type:X.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of i)typeof c=="string"?c===_t?r.push(c):t.errors.push(vm(c)):r.push(new Map(Object.entries(c)));let s=!1,a=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!s)){for(let u of c.values())if(u.toString().indexOf(zl)>=0){s=!0;break}}}),{type:X.Style,styles:r,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((c,u)=>{let d=t.collectedStyles.get(t.currentQuerySelector),y=d.get(u),_=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(t.errors.push(Em(u,y.startTime,y.endTime,s,i)),_=!1),s=y.startTime),_&&d.set(u,{startTime:s,endTime:i}),t.options&&$m(c,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:X.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(wm()),r;let i=1,s=0,a=[],c=!1,u=!1,d=0,y=e.steps.map(L=>{let B=this._makeStyleAst(L,t),z=B.offset!=null?B.offset:pT(B.styles),F=0;return z!=null&&(s++,F=B.offset=z),u=u||F<0||F>1,c=c||F<d,d=F,a.push(F),B});u&&t.errors.push(Tm()),c&&t.errors.push(Im());let _=e.steps.length,b=0;s>0&&s<_?t.errors.push(bm()):s==0&&(b=i/(_-1));let R=_-1,A=t.currentTime,D=t.currentAnimateTimings,P=D.duration;return y.forEach((L,B)=>{let z=b>0?B==R?1:b*B:a[B],F=z*P;t.currentTime=A+D.delay+F,D.duration=F,this._validateStyleAst(L,t),L.offset=z,r.styles.push(L)}),r}visitReference(e,t){return{type:X.Reference,animation:Xe(this,Lr(e.animation),t),options:Xn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:X.AnimateChild,options:Xn(e.options)}}visitAnimateRef(e,t){return{type:X.AnimateRef,animation:this.visitReference(e.animation,t),options:Xn(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,a]=dT(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ye(t.collectedStyles,t.currentQuerySelector,new Map);let c=Xe(this,Lr(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:X.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:c,originalSelector:e.selector,options:Xn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Sm());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ki(e.timings,t.errors,!0);return{type:X.Stagger,animation:Xe(this,Lr(e.animation),t),timings:r,options:null}}};function dT(n){let e=!!n.split(/\s*,\s*/).find(t=>t==tg);return e&&(n=n.replace(hT,"")),n=n.replace(/@\*/g,Wi).replace(/@\w+/g,t=>Wi+"-"+t.slice(1)).replace(/:animating/g,Yo),[n,e]}function fT(n){return n?U({},n):null}var Zl=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function pT(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function mT(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Ki(n,e).duration;return Wl(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Wl(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=Ki(t,e);return Wl(i.duration,i.delay,i.easing)}function Xn(n){return n?(n=U({},n),n.params&&(n.params=fT(n.params))):n={},n}function Wl(n,e,t){return{duration:n,delay:e,easing:t}}function uu(n,e,t,r,i,s,a=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:c}}var Yi=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},gT=1,yT=":enter",_T=new RegExp(yT,"g"),vT=":leave",ET=new RegExp(vT,"g");function rg(n,e,t,r,i,s=new Map,a=new Map,c,u,d=[]){return new eu().buildKeyframes(n,e,t,r,i,s,a,c,u,d)}var eu=class{buildKeyframes(e,t,r,i,s,a,c,u,d,y=[]){d=d||new Yi;let _=new tu(e,t,d,i,s,y,[]);_.options=u;let b=u.delay?Dt(u.delay):0;_.currentTimeline.delayNextStep(b),_.currentTimeline.setStyles([a],null,_.errors,u),Xe(this,r,_);let R=_.timelines.filter(A=>A.containsAnimation());if(R.length&&c.size){let A;for(let D=R.length-1;D>=0;D--){let P=R[D];if(P.element===t){A=P;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([c],null,_.errors,u)}return R.length?R.map(A=>A.buildKeyframes()):[uu(t,[],[],[],0,b,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let a=typeof s=="number"?s:Dt(Vr(s,i?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,a=r.duration!=null?Dt(r.duration):null,c=r.delay!=null?Dt(r.delay):null;return a!==0&&e.forEach(u=>{let d=t.appendInstructionToTimeline(u,a,c);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Xe(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==X.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=sa);let a=Dt(s.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Xe(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Dt(e.options.delay):0;e.steps.forEach(a=>{let c=t.createSubContext(e.options);s&&c.delayNextStep(s),Xe(this,a,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Vr(r,t.params,t.errors):r;return Ki(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==X.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,c=t.createSubContext().currentTimeline;c.easing=r.easing,e.styles.forEach(u=>{let d=u.offset||0;c.forwardTime(d*s),c.setStyles(u.styles,u.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Dt(i.delay):0;s&&(t.previousNode.type===X.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=sa);let a=r,c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=c.length;let u=null;c.forEach((d,y)=>{t.currentQueryIndex=y;let _=t.createSubContext(e.options,d);s&&_.delayNextStep(s),d===t.element&&(u=_.currentTimeline),Xe(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe();let b=_.currentTimeline.currentTime;a=Math.max(a,b)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),c=a*(t.currentQueryTotal-1),u=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=c-u;break;case"full":u=r.currentStaggerTime;break}let y=t.currentTimeline;u&&y.delayNextStep(u);let _=y.currentTime;Xe(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-_+(i.startTime-r.currentTimeline.startTime)}},sa={},tu=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=sa;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,s,a,c,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=c,this.currentTimeline=u||new oa(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Dt(r.duration)),r.delay!=null&&(i.delay=Dt(r.delay));let s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!a.hasOwnProperty(c))&&(a[c]=Vr(s[c],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=sa,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new nu(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,a){let c=[];if(i&&c.push(this.element),e.length>0){e=e.replace(_T,"."+this._enterClassName),e=e.replace(ET,"."+this._leaveClassName);let u=r!=1,d=this._driver.query(this.element,e,u);r!==0&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),c.push(...d)}return!s&&c.length==0&&a.push(Am(t)),c}},oa=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=gT,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||_t),this._currentKeyframe.set(t,_t);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},a=wT(e,this._globalTimelineStyles);for(let[c,u]of a){let d=Vr(u,s,r);this._pendingStyles.set(c,d),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??_t),this._updateStyle(c,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((c,u)=>{let d=new Map([...this._backFill,...c]);d.forEach((y,_)=>{y===Ei?e.add(_):y===_t&&t.add(_)}),r||d.set("offset",u/this.duration),i.push(d)});let s=[...e.values()],a=[...t.values()];if(r){let c=i[0],u=new Map(c);c.set("offset",0),u.set("offset",1),i=[c,u]}return uu(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}},nu=class extends oa{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,s,a,c=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],a=r+t,c=t/a,u=new Map(e[0]);u.set("offset",0),s.push(u);let d=new Map(e[0]);d.set("offset",Wm(c)),s.push(d);let y=e.length-1;for(let _=1;_<=y;_++){let b=new Map(e[_]),R=b.get("offset"),A=t+R*r;b.set("offset",Wm(A/a)),s.push(b)}r=a,t=0,i="",e=s}return uu(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function Wm(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function wT(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,_t)}else for(let[s,a]of i)t.set(s,a)}),t}function Km(n,e,t,r,i,s,a,c,u,d,y,_,b){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:a,timelines:c,queriedElements:u,preStyleProps:d,postStyleProps:y,totalTime:_,errors:b}}var Kl={},aa=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return TT(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,a,c,u,d,y){let _=[],b=this.ast.options&&this.ast.options.params||Kl,R=c&&c.params||Kl,A=this.buildStyles(r,R,_),D=u&&u.params||Kl,P=this.buildStyles(i,D,_),L=new Set,B=new Map,z=new Map,F=i==="void",le={params:ig(D,b),delay:this.ast.options?.delay},Z=y?[]:rg(e,t,this.ast.animation,s,a,A,P,le,d,_),v=0;return Z.forEach(p=>{v=Math.max(p.duration+p.delay,v)}),_.length?Km(t,this._triggerName,r,i,F,A,P,[],[],B,z,v,_):(Z.forEach(p=>{let m=p.element,E=Ye(B,m,new Set);p.preStyleProps.forEach(I=>E.add(I));let w=Ye(z,m,new Set);p.postStyleProps.forEach(I=>w.add(I)),m!==t&&L.add(m)}),Km(t,this._triggerName,r,i,F,A,P,Z,[...L.values()],B,z,v))}};function TT(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function ig(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var ru=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=ig(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{a&&(a=Vr(a,i,t));let u=this.normalizer.normalizePropertyName(c,t);a=this.normalizer.normalizeStyleValue(c,u,a,t),r.set(c,a)})}),r}};function IT(n,e,t){return new iu(n,e,t)}var iu=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new ru(i.style,s,r))}),Qm(this.states,"true","1"),Qm(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new aa(e,i,this.states))}),this.fallbackTransition=bT(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(a=>a.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function bT(n,e,t){let r=[(a,c)=>!0],i={type:X.Sequence,steps:[],options:null},s={type:X.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new aa(n,s,e)}function Qm(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var ST=new Yi,su=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],s=ng(this._driver,t,r,i);if(r.length)throw km(r);this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=Ul(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),a,c=new Map;if(s?(a=rg(this._driver,t,s,ql,Qo,new Map,new Map,r,ST,i),a.forEach(y=>{let _=Ye(c,y.element,new Map);y.postStyleProps.forEach(b=>_.set(b,null))})):(i.push(Dm()),a=[]),i.length)throw Nm(i);c.forEach((y,_)=>{y.forEach((b,R)=>{y.set(R,this._driver.computeStyle(_,R,_t))})});let u=a.map(y=>{let _=c.get(y.element);return this._buildPlayer(y,new Map,_)}),d=Xt(u);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Om(e);return t}listen(e,t,r,i){let s=Wo(t,"","","");return Go(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let a=i[0]||{};this.create(e,t,a);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Ym="ng-animate-queued",AT=".ng-animate-queued",Ql="ng-animate-disabled",RT=".ng-animate-disabled",CT="ng-star-inserted",PT=".ng-star-inserted",kT=[],sg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tt="__ng_removed",Xi=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=OT(i),r){let s=e,{value:a}=s,c=Pc(s,["value"]);this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Qi="void",Yl=new Xi(Qi),ou=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,ft(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Mm(r,t);if(r==null||r.length==0)throw xm(t);if(!MT(r))throw Lm(r,t);let s=Ye(this._elementListeners,e,[]),a={name:t,phase:r,callback:i};s.push(a);let c=Ye(this._engine.statesByElement,e,new Map);return c.has(t)||(ft(e,Gi),ft(e,Gi+"-"+t),c.set(t,Yl)),()=>{this._engine.afterFlush(()=>{let u=s.indexOf(a);u>=0&&s.splice(u,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Vm(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),a=new Ji(this.id,t,e),c=this._engine.statesByElement.get(e);c||(ft(e,Gi),ft(e,Gi+"-"+t),this._engine.statesByElement.set(e,c=new Map));let u=c.get(t),d=new Xi(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),c.set(t,d),u||(u=Yl),!(d.value===Qi)&&u.value===d.value){if(!VT(u.params,d.params)){let D=[],P=s.matchStyles(u.value,u.params,D),L=s.matchStyles(d.value,d.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{An(e,P),wt(e,L)})}return}let b=Ye(this._engine.playersByElement,e,[]);b.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let R=s.matchTransition(u.value,d.value,e,d.params),A=!1;if(!R){if(!i)return;R=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:R,fromState:u,toState:d,player:a,isFallbackTransition:A}),A||(ft(e,Ym),a.onStart(()=>{Fr(e,Ym)})),a.onDone(()=>{let D=this.players.indexOf(a);D>=0&&this.players.splice(D,1);let P=this._engine.playersByElement.get(e);if(P){let L=P.indexOf(a);L>=0&&P.splice(L,1)}}),this.players.push(a),b.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Wi,!0);r.forEach(i=>{if(i[Tt])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),a=new Map;if(s){let c=[];if(s.forEach((u,d)=>{if(a.set(d,u.value),this._triggers.has(d)){let y=this.trigger(e,d,Qi,i);y&&c.push(y)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&Xt(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let a=s.name;if(i.has(a))return;i.add(a);let u=this._triggers.get(a).fallbackTransition,d=r.get(a)||Yl,y=new Xi(Qi),_=new Ji(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:u,fromState:d,toState:y,player:_,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Tt];(!s||s===sg)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ft(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,a=this._elementListeners.get(s);a&&a.forEach(c=>{if(c.name==r.triggerName){let u=Wo(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,Go(r.player,c.phase,u,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,a=i.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},au=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new ou(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,c=this.driver.getParentElement(t);for(;c;){let u=i.get(c);if(u){let d=r.indexOf(u);r.splice(d+1,0,e),a=!0;break}c=this.driver.getParentElement(c)}a||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(ta(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ta(t))return;let s=t[Tt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ft(e,Ql)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fr(e,Ql))}removeNode(e,t,r){if(ta(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Tt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return ta(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Wi,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Yo,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xt(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Tt];if(t&&t.setForRemoval){if(e[Tt]=sg,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ql)&&this.markElementAsDisabled(e,!1),this.driver.query(e,RT,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];ft(i,CT)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Xt(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Fm(e)}_flushAnimations(e,t){let r=new Yi,i=[],s=new Map,a=[],c=new Map,u=new Map,d=new Map,y=new Set;this.disabledNodes.forEach(V=>{y.add(V);let j=this.driver.query(V,AT,!0);for(let $=0;$<j.length;$++)y.add(j[$])});let _=this.bodyNode,b=Array.from(this.statesByElement.keys()),R=Zm(b,this.collectedEnterElements),A=new Map,D=0;R.forEach((V,j)=>{let $=ql+D++;A.set(j,$),V.forEach(K=>ft(K,$))});let P=[],L=new Set,B=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let j=this.collectedLeaveElements[V],$=j[Tt];$&&$.setForRemoval&&(P.push(j),L.add(j),$.hasAnimation?this.driver.query(j,PT,!0).forEach(K=>L.add(K)):B.add(j))}let z=new Map,F=Zm(b,Array.from(L));F.forEach((V,j)=>{let $=Qo+D++;z.set(j,$),V.forEach(K=>ft(K,$))}),e.push(()=>{R.forEach((V,j)=>{let $=A.get(j);V.forEach(K=>Fr(K,$))}),F.forEach((V,j)=>{let $=z.get(j);V.forEach(K=>Fr(K,$))}),P.forEach(V=>{this.processLeaveNode(V)})});let le=[],Z=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(t).forEach($=>{let K=$.player,ve=$.element;if(le.push(K),this.collectedEnterElements.length){let me=ve[Tt];if(me&&me.setForMove){if(me.previousTriggersValues&&me.previousTriggersValues.has($.triggerName)){let Bt=me.previousTriggersValues.get($.triggerName),qe=this.statesByElement.get($.element);if(qe&&qe.has($.triggerName)){let $t=qe.get($.triggerName);$t.value=Bt,qe.set($.triggerName,$t)}}K.destroy();return}}let ct=!_||!this.driver.containsElement(_,ve),pe=z.get(ve),ue=A.get(ve),he=this._buildInstruction($,r,ue,pe,ct);if(he.errors&&he.errors.length){Z.push(he);return}if(ct){K.onStart(()=>An(ve,he.fromStyles)),K.onDestroy(()=>wt(ve,he.toStyles)),i.push(K);return}if($.isFallbackTransition){K.onStart(()=>An(ve,he.fromStyles)),K.onDestroy(()=>wt(ve,he.toStyles)),i.push(K);return}let dn=[];he.timelines.forEach(me=>{me.stretchStartingKeyframe=!0,this.disabledNodes.has(me.element)||dn.push(me)}),he.timelines=dn,r.append(ve,he.timelines);let ic={instruction:he,player:K,element:ve};a.push(ic),he.queriedElements.forEach(me=>Ye(c,me,[]).push(K)),he.preStyleProps.forEach((me,Bt)=>{if(me.size){let qe=u.get(Bt);qe||u.set(Bt,qe=new Set),me.forEach(($t,fn)=>qe.add(fn))}}),he.postStyleProps.forEach((me,Bt)=>{let qe=d.get(Bt);qe||d.set(Bt,qe=new Set),me.forEach(($t,fn)=>qe.add(fn))})});if(Z.length){let V=[];Z.forEach(j=>{V.push(Um(j.triggerName,j.errors))}),le.forEach(j=>j.destroy()),this.reportError(V)}let v=new Map,p=new Map;a.forEach(V=>{let j=V.element;r.has(j)&&(p.set(j,j),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,v))}),i.forEach(V=>{let j=V.element;this._getPreviousPlayers(j,!1,V.namespaceId,V.triggerName,null).forEach(K=>{Ye(v,j,[]).push(K),K.destroy()})});let m=P.filter(V=>eg(V,u,d)),E=new Map;Jm(E,this.driver,B,d,_t).forEach(V=>{eg(V,u,d)&&m.push(V)});let I=new Map;R.forEach((V,j)=>{Jm(I,this.driver,new Set(V),u,Ei)}),m.forEach(V=>{let j=E.get(V),$=I.get(V);E.set(V,new Map([...j?.entries()??[],...$?.entries()??[]]))});let g=[],at=[],hn={};a.forEach(V=>{let{element:j,player:$,instruction:K}=V;if(r.has(j)){if(y.has(j)){$.onDestroy(()=>wt(j,K.toStyles)),$.disabled=!0,$.overrideTotalTime(K.totalTime),i.push($);return}let ve=hn;if(p.size>1){let pe=j,ue=[];for(;pe=pe.parentNode;){let he=p.get(pe);if(he){ve=he;break}ue.push(pe)}ue.forEach(he=>p.set(he,ve))}let ct=this._buildAnimation($.namespaceId,K,v,s,I,E);if($.setRealPlayer(ct),ve===hn)g.push($);else{let pe=this.playersByElement.get(ve);pe&&pe.length&&($.parentPlayer=Xt(pe)),i.push($)}}else An(j,K.fromStyles),$.onDestroy(()=>wt(j,K.toStyles)),at.push($),y.has(j)&&i.push($)}),at.forEach(V=>{let j=s.get(V.element);if(j&&j.length){let $=Xt(j);V.setRealPlayer($)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<P.length;V++){let j=P[V],$=j[Tt];if(Fr(j,Qo),$&&$.hasAnimation)continue;let K=[];if(c.size){let ct=c.get(j);ct&&ct.length&&K.push(...ct);let pe=this.driver.query(j,Yo,!0);for(let ue=0;ue<pe.length;ue++){let he=c.get(pe[ue]);he&&he.length&&K.push(...he)}}let ve=K.filter(ct=>!ct.destroyed);ve.length?xT(this,j,ve):this.processLeaveNode(j)}return P.length=0,g.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let j=this.players.indexOf(V);this.players.splice(j,1)}),V.play()}),g}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let a=[];if(t){let c=this.playersByQueriedElement.get(e);c&&(a=c)}else{let c=this.playersByElement.get(e);if(c){let u=!s||s==Qi;c.forEach(d=>{d.queued||!u&&d.triggerName!=i||a.push(d)})}}return(r||i)&&(a=a.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),a}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,a=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:i;for(let u of t.timelines){let d=u.element,y=d!==s,_=Ye(r,d,[]);this._getPreviousPlayers(d,y,a,c,t.toState).forEach(R=>{let A=R.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),R.destroy(),_.push(R)})}An(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,a){let c=t.triggerName,u=t.element,d=[],y=new Set,_=new Set,b=t.timelines.map(A=>{let D=A.element;y.add(D);let P=D[Tt];if(P&&P.removedBeforeQueried)return new $n(A.duration,A.delay);let L=D!==u,B=LT((r.get(D)||kT).map(v=>v.getRealPlayer())).filter(v=>{let p=v;return p.element?p.element===D:!1}),z=s.get(D),F=a.get(D),le=Ul(this._normalizer,A.keyframes,z,F),Z=this._buildPlayer(A,le,B);if(A.subTimeline&&i&&_.add(D),L){let v=new Ji(e,c,D);v.setRealPlayer(Z),d.push(v)}return Z});d.forEach(A=>{Ye(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>NT(this.playersByQueriedElement,A.element,A))}),y.forEach(A=>ft(A,Hl));let R=Xt(b);return R.onDestroy(()=>{y.forEach(A=>Fr(A,Hl)),wt(u,t.toStyles)}),_.forEach(A=>{Ye(i,A,[]).push(R)}),R}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $n(e.duration,e.delay)}},Ji=class{namespaceId;triggerName;element;_player=new $n;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Go(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ye(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function NT(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function OT(n){return n??null}function ta(n){return n&&n.nodeType===1}function MT(n){return n=="start"||n=="done"}function Xm(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Jm(n,e,t,r,i){let s=[];t.forEach(u=>s.push(Xm(u)));let a=[];r.forEach((u,d)=>{let y=new Map;u.forEach(_=>{let b=e.computeStyle(d,_,i);y.set(_,b),(!b||b.length==0)&&(d[Tt]=DT,a.push(d))}),n.set(d,y)});let c=0;return t.forEach(u=>Xm(u,s[c++])),a}function Zm(n,e){let t=new Map;if(n.forEach(c=>t.set(c,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function a(c){if(!c)return r;let u=s.get(c);if(u)return u;let d=c.parentNode;return t.has(d)?u=d:i.has(d)?u=r:u=a(d),s.set(c,u),u}return e.forEach(c=>{let u=a(c);u!==r&&t.get(u).push(c)}),t}function ft(n,e){n.classList?.add(e)}function Fr(n,e){n.classList?.remove(e)}function xT(n,e,t){Xt(t).onDone(()=>n.processLeaveNode(e))}function LT(n){let e=[];return og(n,e),e}function og(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof so?og(r.players,e):e.push(r)}}function VT(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function eg(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var Ur=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new au(e.body,t,r),this._timelineEngine=new su(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){let a=e+"-"+i,c=this._triggerCache[a];if(!c){let u=[],d=[],y=ng(this._driver,s,u,d);if(u.length)throw Pm(i,u);c=IT(i,y,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(t,i,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,a]=jl(r),c=i;this._timelineEngine.command(s,t,a,c)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[a,c]=jl(r);return this._timelineEngine.listen(a,t,c,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function FT(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Xl(e[0]),e.length>1&&(r=Xl(e[e.length-1]))):e instanceof Map&&(t=Xl(e)),t||r?new UT(n,t,r):null}var UT=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&wt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wt(this._element,this._initialStyles),this._endStyles&&(wt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(An(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(An(this._element,this._endStyles),this._endStyles=null),wt(this._element,this._initialStyles),this._state=3)}}return n})();function Xl(n){let e=null;return n.forEach((t,r)=>{jT(r)&&(e=e||new Map,e.set(r,t))}),e}function jT(n){return n==="display"||n==="position"}var ca=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){let i=this._convertKeyframesToObject(t);try{return e.animate(i,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Jo(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},la=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Bl(e,t)}getParentElement(e){return Ko(e)}query(e,t,r){return $l(e,t,r)}computeStyle(e,t,r){return Jo(e,t)}animate(e,t,r,i,s,a=[]){let c=i==0?"both":"forwards",u={duration:r,delay:i,fill:c};s&&(u.easing=s);let d=new Map,y=a.filter(R=>R instanceof ca);zm(r,i)&&y.forEach(R=>{R.currentSnapshot.forEach((A,D)=>d.set(D,A))});let _=Bm(t).map(R=>new Map(R));_=qm(e,_,d);let b=FT(e,_);return new ca(e,_,u,b)}};var na="@",ag="@.disabled",ua=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r,i){if(i){this.delegate.removeChild(e,t,r,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==na&&t==ag?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},cu=class extends ua{factory;constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==na?t.charAt(1)=="."&&t==ag?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==na){let s=BT(e),a=t.slice(1),c="";return a.charAt(0)!=na&&([a,c]=$T(a)),this.engine.listen(this.namespaceId,s,a,c,u=>{let d=u._data||-1;this.factory.scheduleListenerCallback(d,r,u)})}return this.delegate.listen(e,t,r,i)}};function BT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function $T(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var ha=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let d=this._rendererCache,y=d.get(i);if(!y){let _=()=>d.delete(i);y=new ua("",i,this.engine,_),d.set(i,y)}return y}let s=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,e,d.name,d)};return t.data.animation.forEach(c),new cu(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[a,c]=s;a(c)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var qT=(()=>{class n extends Ur{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(W(Ke),W(Jn),W(Zn))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function HT(){return new ra}function GT(){return new ha(C(bi),C(Ur),C(ye))}var cg=[{provide:Zn,useFactory:HT},{provide:Ur,useClass:qT},{provide:Ys,useFactory:GT}],Bk=[{provide:Jn,useClass:lu},{provide:$c,useValue:"NoopAnimations"},...cg],WT=[{provide:Jn,useFactory:()=>new la},{provide:$c,useFactory:()=>"BrowserAnimations"},...cg];function lg(){return qc("NgEagerAnimations"),[...WT]}var du=class{constructor(){}loadScript(e,t,r,i=null){if(typeof document<"u"&&!document.getElementById(e)){let s=document.createElement("script");s.async=!0,s.src=t,s.onload=r,i||(i=document.head),i.appendChild(s)}}},fu=class{constructor(){}},ug=()=>typeof window.google?.accounts<"u",KT=()=>{if(!ug())throw new Error("Google Accounts API is undefined")},hu=()=>(KT(),window.google.accounts),QT={oneTapEnabled:!0},pu=(()=>{class n extends du{static{this.PROVIDER_ID="GOOGLE"}constructor(t,r){super(),this.clientId=t,this.initOptions=r,this.changeUser=new Gt,this._socialUser=new Be(null),this._accessToken=new Be(null),this._receivedAccessToken=new Gt,this.initOptions=U(U({},QT),this.initOptions),this._socialUser.pipe(xc(1)).subscribe(this.changeUser),this._accessToken.pipe(xc(1)).subscribe(this._receivedAccessToken)}initialize(t,r){return new Promise((i,s)=>{try{this.loadScript(n.PROVIDER_ID,this.getGoogleLoginScriptSrc(r||""),()=>{if(ug()){if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:a})=>{let c=this.createSocialUser(a);this._socialUser.next(c)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled,use_fedcm_for_prompt:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(Ie(a=>a===null)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){let a=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(c=>c).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:a,prompt:this.initOptions.prompt,callback:c=>{c.error?this._accessToken.error({code:c.error,description:c.error_description,uri:c.error_uri}):this._accessToken.next(c.access_token)}})}i()}})}catch(a){s(a)}})}getLoginStatus(){return new Promise((t,r)=>{this._socialUser.value?t(this._socialUser.value):r(`No user is currently logged in with ${n.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,r)=>{hu().id.revoke(this._socialUser.value.id,i=>{i.error?r(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,r)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe(Ge(1)).subscribe(t)):this._socialUser.value?r("No token client was instantiated, you should specify some scopes."):r("You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,r)=>{this._tokenClient?this._accessToken.value?hu().oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):r("No access token to revoke"):r("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}async signOut(){hu().id.disableAutoSelect(),this._socialUser.next(null)}createSocialUser(t){let r=new fu;r.idToken=t;let i=this.decodeJwt(t);return r.id=i.sub,r.name=i.name,r.email=i.email,r.photoUrl=i.picture,r.firstName=i.given_name,r.lastName=i.family_name,r}decodeJwt(t){let i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(i).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}getGoogleLoginScriptSrc(t){return t?`https://accounts.google.com/gsi/client?hl=${t}`:"https://accounts.google.com/gsi/client"}}return n})();var mu="Service workers are disabled or not supported by this browser",jr=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new tt(r=>r.error(new x(5601,!1)));else{let r=null,i=new gt;this.worker=new tt(d=>(r!==null&&d.next(r),i.subscribe(y=>d.next(y))));let s=()=>{let{controller:d}=e;d!==null&&(r=d,i.next(r))};e.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe($e(()=>e.getRegistration().then(d=>{if(!d)throw new x(5601,!1);return d})));let a=new gt;this.events=a.asObservable();let c=d=>{let{data:y}=d;y?.type&&a.next(y)};e.addEventListener("message",c),t?.get(yi,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",s),e.removeEventListener("message",c)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Ge(1)).subscribe(i=>{i.postMessage(U({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ie(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ge(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Ie(i=>i.nonce===e),Ge(1),ae(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},YT=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new gt;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=_n,this.notificationClicks=_n,this.notificationCloses=_n,this.pushSubscriptionChanges=_n,this.subscription=_n;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ae(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ae(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(ae(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(ae(i=>i.data)),this.pushManager=this.sw.registration.pipe(ae(i=>i.pushManager));let r=this.pushManager.pipe($e(i=>i.getSubscription()));this.subscription=new tt(i=>{let s=r.subscribe(i),a=this.subscriptionChanges.subscribe(i);return()=>{s.unsubscribe(),a.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(mu));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return r.applicationServerKey=s,new Promise((a,c)=>{this.pushManager.pipe($e(u=>u.subscribe(r)),Ge(1)).subscribe({next:u=>{this.subscriptionChanges.next(u),a(u)},error:c})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(mu));let t=r=>{if(r===null)throw new x(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new x(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Ge(1),$e(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(W(jr))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),XT=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=_n,this.unrecoverable=_n;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(mu));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new x(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(W(jr))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),dg=new Y("");function JT(){let n=C(Zi);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=C(dg),t=C(ye),r=C(yi);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,s=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",s),r.onDestroy(()=>{i.removeEventListener("controllerchange",s)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:s}=n;if(typeof s=="function")i=new Promise(a=>s().subscribe(()=>a()));else{let[a,...c]=(s||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=hg(+c[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),hg(+c[0])]);break;default:throw new x(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(a=>console.error(mi(5604,!1)))})})}function hg(n){return new Promise(e=>setTimeout(e,n))}function ZT(){let n=C(Zi),e=C(Pe),t=!0;return new jr(t&&n.enabled!==!1?navigator.serviceWorker:void 0,e)}var Zi=class{enabled;updateViaCache;type;scope;registrationStrategy};function fg(n,e={}){return We([YT,XT,{provide:dg,useValue:n},{provide:Zi,useValue:e},{provide:jr,useFactory:ZT},Gc(JT)])}var pg=()=>{};var yg=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},eI=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},da={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,c=a?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,y=s>>2,_=(s&3)<<4|c>>4,b=(c&15)<<2|d>>6,R=d&63;u||(R=64,a||(b=64)),r.push(t[y],t[_],t[b],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yg(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let _=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||d==null||_==null)throw new yu;let b=s<<2|c>>4;if(r.push(b),d!==64){let R=c<<4&240|d>>2;if(r.push(R),_!==64){let A=d<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},yu=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},tI=function(n){let e=yg(n);return da.encodeByteArray(e,!0)},ts=function(n){return tI(n).replace(/\./g,"")},fa=function(n){try{return da.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var nI=()=>vu().__FIREBASE_DEFAULTS__,rI=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&fa(n[1]);return e&&JSON.parse(e)},Eu=()=>{try{return pg()||nI()||rI()||iI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wu=n=>{var e,t;return(t=(e=Eu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pa=n=>{let e=wu(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Tu=()=>{var n;return(n=Eu())===null||n===void 0?void 0:n.config},Iu=n=>{var e;return(e=Eu())===null||e===void 0?void 0:e[`_${n}`]};var er=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Jt(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Br(n){return(await fetch(n,{credentials:"include"})).ok}function ma(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ts(JSON.stringify(t)),ts(JSON.stringify(a)),""].join(".")}var es={};function sI(){let n={prod:[],emulator:[]};for(let e of Object.keys(es))es[e]?n.emulator.push(e):n.prod.push(e);return n}function oI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var mg=!1;function $r(n,e){if(typeof window>"u"||typeof document>"u"||!Jt(window.location.host)||es[n]===e||es[n]||mg)return;es[n]=e;function t(b){return`__firebase__banner__${b}`}let r="__firebase__banner",s=sI().prod.length>0;function a(){let b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function u(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){let b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{mg=!0,a()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){let b=oI(r),R=t("text"),A=document.getElementById(R)||document.createElement("span"),D=t("learnmore"),P=document.getElementById(D)||document.createElement("a"),L=t("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){let z=b.element;c(z),y(P,D);let F=d();u(B,L),z.append(B,A,P,F),document.body.appendChild(z)}s?(A.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _g(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function vg(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Eg(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tg(){let n=De();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ns(){try{return typeof indexedDB=="object"}catch{return!1}}function Ig(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var aI="FirebaseError",ze=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=aI,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}},It=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?cI(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new ze(i,c,r)}};function cI(n,e){return n.replace(lI,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lI=/\{\$([^}]+)}/g;function bg(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nt(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(gg(s)&&gg(a)){if(!Nt(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function gg(n){return n!==null&&typeof n=="object"}function rs(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sg(n,e){let t=new _u(n,e);return t.subscribe.bind(t)}var _u=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");uI(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=gu),i.error===void 0&&(i.error=gu),i.complete===void 0&&(i.complete=gu);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uI(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gu(){}var cD=14400*1e3;function bt(n){return n&&n._delegate?n._delegate:n}var Ne=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var tr="[DEFAULT]";var bu=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new er;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dI(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hI(n){return n===tr?void 0:n}function dI(n){return n.instantiationMode==="EAGER"}var ga=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new bu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var fI=[],se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(se||{}),pI={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},mI=se.INFO,gI={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},yI=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=gI[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ot=class{constructor(e){this.name=e,this._logLevel=mI,this._logHandler=yI,this._userLogHandler=null,fI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var Au=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_I(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function _I(n){let e=n.getComponent();return e?.type==="VERSION"}var Ru="@firebase/app",Ag="0.13.2";var Zt=new Ot("@firebase/app"),vI="@firebase/app-compat",EI="@firebase/analytics-compat",wI="@firebase/analytics",TI="@firebase/app-check-compat",II="@firebase/app-check",bI="@firebase/auth",SI="@firebase/auth-compat",AI="@firebase/database",RI="@firebase/data-connect",CI="@firebase/database-compat",PI="@firebase/functions",kI="@firebase/functions-compat",DI="@firebase/installations",NI="@firebase/installations-compat",OI="@firebase/messaging",MI="@firebase/messaging-compat",xI="@firebase/performance",LI="@firebase/performance-compat",VI="@firebase/remote-config",FI="@firebase/remote-config-compat",UI="@firebase/storage",jI="@firebase/storage-compat",BI="@firebase/firestore",$I="@firebase/ai",zI="@firebase/firestore-compat",qI="firebase",HI="11.10.0";var Cu="[DEFAULT]",GI={[Ru]:"fire-core",[vI]:"fire-core-compat",[wI]:"fire-analytics",[EI]:"fire-analytics-compat",[II]:"fire-app-check",[TI]:"fire-app-check-compat",[bI]:"fire-auth",[SI]:"fire-auth-compat",[AI]:"fire-rtdb",[RI]:"fire-data-connect",[CI]:"fire-rtdb-compat",[PI]:"fire-fn",[kI]:"fire-fn-compat",[DI]:"fire-iid",[NI]:"fire-iid-compat",[OI]:"fire-fcm",[MI]:"fire-fcm-compat",[xI]:"fire-perf",[LI]:"fire-perf-compat",[VI]:"fire-rc",[FI]:"fire-rc-compat",[UI]:"fire-gcs",[jI]:"fire-gcs-compat",[BI]:"fire-fst",[zI]:"fire-fst-compat",[$I]:"fire-vertex","fire-js":"fire-js",[qI]:"fire-js-all"};var is=new Map,WI=new Map,Pu=new Map;function Rg(n,e){try{n.container.addComponent(e)}catch(t){Zt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ot(n){let e=n.name;if(Pu.has(e))return Zt.debug(`There were multiple attempts to register component ${e}.`),!1;Pu.set(e,n);for(let t of is.values())Rg(t,n);for(let t of WI.values())Rg(t,n);return!0}function Cn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Je(n){return n==null?!1:n.settings!==void 0}var KI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new It("app","Firebase",KI);var ku=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ne("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}};var Mt=HI;function Ou(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Cu,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Rn.create("bad-app-name",{appName:String(i)});if(t||(t=Tu()),!t)throw Rn.create("no-options");let s=is.get(i);if(s){if(Nt(t,s.options)&&Nt(r,s.config))return s;throw Rn.create("duplicate-app",{appName:i})}let a=new ga(i);for(let u of Pu.values())a.addComponent(u);let c=new ku(t,r,a);return is.set(i,c),c}function en(n=Cu){let e=is.get(n);if(!e&&n===Cu&&Tu())return Ou();if(!e)throw Rn.create("no-app",{appName:n});return e}function ya(){return Array.from(is.values())}function ce(n,e,t){var r;let i=(r=GI[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zt.warn(c.join(" "));return}ot(new Ne(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var QI="firebase-heartbeat-database",YI=1,ss="firebase-heartbeat-store",Su=null;function Dg(){return Su||(Su=Qf(QI,YI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ss)}catch(t){console.warn(t)}}}}).catch(n=>{throw Rn.create("idb-open",{originalErrorMessage:n.message})})),Su}async function XI(n){try{let t=(await Dg()).transaction(ss),r=await t.objectStore(ss).get(Ng(n));return await t.done,r}catch(e){if(e instanceof ze)Zt.warn(e.message);else{let t=Rn.create("idb-get",{originalErrorMessage:e?.message});Zt.warn(t.message)}}}async function Cg(n,e){try{let r=(await Dg()).transaction(ss,"readwrite");await r.objectStore(ss).put(e,Ng(n)),await r.done}catch(t){if(t instanceof ze)Zt.warn(t.message);else{let r=Rn.create("idb-set",{originalErrorMessage:t?.message});Zt.warn(r.message)}}}function Ng(n){return`${n.name}!${n.options.appId}`}var JI=1024,ZI=30,Du=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Nu(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>ZI){let a=tb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Pg(),{heartbeatsToSend:r,unsentEntries:i}=eb(this._heartbeatsCache.heartbeats),s=ts(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Zt.warn(t),""}}};function Pg(){return new Date().toISOString().substring(0,10)}function eb(n,e=JI){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),kg(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kg(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Nu=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ns()?Ig().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await XI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return Cg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return Cg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function kg(n){return ts(JSON.stringify({version:2,heartbeats:n})).length}function tb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function nb(n){ot(new Ne("platform-logger",e=>new Au(e),"PRIVATE")),ot(new Ne("heartbeat",e=>new Du(e),"PRIVATE")),ce(Ru,Ag,n),ce(Ru,Ag,"esm2017"),ce("fire-js","")}nb("");var rb="firebase",ib="11.10.0";ce(rb,ib,"app");function zr(n,e){let t=e?.injector??C(Pe),r=new kc(1),i=gf(()=>{let s;try{s=n()}catch(a){yt(()=>r.error(a));return}yt(()=>r.next(s))},{injector:t,manualCleanup:!0});return t.get(yr).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}function Og(n){n===void 0&&(n=C(Pe));let e=n.get(_r);return t=>new tt(r=>{let i=e.add(),s=!1;function a(){s||(i(),s=!0)}let c=t.subscribe({next:u=>{r.next(u),a()},complete:()=>{r.complete(),a()},error:u=>{r.error(u),a()}});return c.add(()=>{r.unsubscribe(),a()}),c})}var xt=new uf("ANGULARFIRE2_VERSION");function rr(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Pn=(n,e)=>{let t=e?[e]:ya(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},qr=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(qr||{}),Mg=_i()&&typeof Zone<"u"?qr.WARN:qr.SILENT;var _a=class{zone;delegate;constructor(e,t=sf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(a){i?i.runGuarded(()=>{e.apply(this,[a])}):e.apply(this,[a])};return this.delegate.schedule(s,t,r)}},Lt=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=C(ye);this.outsideAngular=t.runOutsideAngular(()=>new _a(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new _a(typeof Zone>"u"?void 0:Zone.current,rf))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xg=!1;function sb(n,e){!xg&&(Mg>qr.SILENT||_i())&&(xg=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Mg>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function ob(n){let e=C(ye,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function nr(n){let e=C(ye,{optional:!0});return e?e.run(()=>n()):n()}var ab=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),be(t,()=>nr(()=>n.apply(void 0,r)))),tn=(n,e,t)=>(t||=e?qr.WARN:qr.VERBOSE,function(){let r,i=arguments,s,a,c;try{s=C(Lt),a=C(_r),c=C(nt)}catch{return sb(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=nr(()=>a.add())),i[d]=ab(i[d],r,c));let u=ob(()=>n.apply(this,i));return e?u instanceof tt?u.pipe(Oc(s.outsideAngular),Nc(s.insideAngular),Og(c)):u instanceof Promise?nr(()=>{let d=a.add();return new Promise((y,_)=>{u.then(b=>be(c,()=>nr(()=>y(b))),b=>be(c,()=>nr(()=>_(b)))).finally(d)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:nr(()=>u):u instanceof tt?u.pipe(Oc(s.outsideAngular),Nc(s.insideAngular)):nr(()=>u)});var St=class{constructor(e){return e}},nn=class{constructor(){return ya()}};function cb(n){return n&&n.length===1?n[0]:new St(en())}var Mu=new Y("angularfire2._apps"),lb={provide:St,useFactory:cb,deps:[[new ke,Mu]]},ub={provide:nn,deps:[[new ke,Mu]]};function hb(n){return(e,t)=>{let r=t.get(vr);ce("angularfire",xt.full,"core"),ce("angularfire",xt.full,"app"),ce("angular",hf.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new St(i)}}function Lg(n,...e){return We([lb,ub,{provide:Mu,useFactory:hb(n),multi:!0,deps:[ye,Pe,Lt,...e]}])}var xu=tn(Ou,!0);var db=new Map,fb={activated:!1,tokenObservers:[]},pb={initialized:!1,enabled:!1};function At(n){return db.get(n)||Object.assign({},fb)}function jg(){return pb}var mb="https://content-firebaseappcheck.googleapis.com/v1";var gb="exchangeDebugToken",Vg={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},nN=1440*60*1e3;var Fu=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new er,this.pending.promise.catch(t=>{}),await yb(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new er,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function yb(n){return new Promise(e=>{setTimeout(e,n)})}var _b={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},kn=new It("appCheck","AppCheck",_b);function Bg(n){if(!At(n).activated)throw kn.create("use-before-activation",{appName:n.name})}async function $g({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let _=await i.getHeartbeatsHeader();_&&(r["X-Firebase-Client"]=_)}let s={method:"POST",body:JSON.stringify(e),headers:r},a;try{a=await fetch(n,s)}catch(_){throw kn.create("fetch-network-error",{originalErrorMessage:_?.message})}if(a.status!==200)throw kn.create("fetch-status-error",{httpStatus:a.status});let c;try{c=await a.json()}catch(_){throw kn.create("fetch-parse-error",{originalErrorMessage:_?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw kn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,y=Date.now();return{token:c.token,expireTimeMillis:y+d,issuedAtTimeMillis:y}}function zg(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${mb}/projects/${t}/apps/${r}:${gb}?key=${i}`,body:{debug_token:e}}}var vb="firebase-app-check-database",Eb=1,Uu="firebase-app-check-store";var va=null;function wb(){return va||(va=new Promise((n,e)=>{try{let t=indexedDB.open(vb,Eb);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(kn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;r.oldVersion===0&&i.createObjectStore(Uu,{keyPath:"compositeKey"})}}catch(t){e(kn.create("storage-open",{originalErrorMessage:t?.message}))}}),va)}function Tb(n,e){return Ib(bb(n),e)}async function Ib(n,e){let r=(await wb()).transaction(Uu,"readwrite"),s=r.objectStore(Uu).put({compositeKey:n,value:e});return new Promise((a,c)=>{s.onsuccess=u=>{a()},r.onerror=u=>{var d;c(kn.create("storage-set",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})}function bb(n){return`${n.options.appId}-${n.name}`}var os=new Ot("@firebase/app-check");function Lu(n,e){return ns()?Tb(n,e).catch(t=>{os.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qg(){return jg().enabled}async function Hg(){let n=jg();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var Sb={error:"UNKNOWN_ERROR"};function Ab(n){return da.encodeString(JSON.stringify(n),!1)}async function ju(n,e=!1,t=!1){let r=n.app;Bg(r);let i=At(r),s=i.token,a;if(s&&!as(s)&&(i.token=void 0,s=void 0),!s){let d=await i.cachedTokenPromise;d&&(as(d)?s=d:await Lu(r,void 0))}if(!e&&s&&as(s))return{token:s.token};let c=!1;if(qg())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=$g(zg(r,await Hg()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let d=await i.exchangeTokenPromise;return await Lu(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?os.warn(d.message):t&&os.error(d),Vu(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),s=await At(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?os.warn(d.message):t&&os.error(d),a=d}let u;return s?a?as(s)?u={token:s.token,internalError:a}:u=Vu(a):(u={token:s.token},i.token=s,await Lu(r,s)):u=Vu(a),c&&kb(r,u),u}async function Rb(n){let e=n.app;Bg(e);let{provider:t}=At(e);if(qg()){let r=await Hg(),{token:i}=await $g(zg(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function Cb(n,e,t,r){let{app:i}=n,s=At(i),a={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,a],s.token&&as(s.token)){let c=s.token;Promise.resolve().then(()=>{t({token:c.token}),Fg(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Fg(n))}function Gg(n,e){let t=At(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Fg(n){let{app:e}=n,t=At(e),r=t.tokenRefresher;r||(r=Pb(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Pb(n){let{app:e}=n;return new Fu(async()=>{let t=At(e),r;if(t.token?r=await ju(n,!0):r=await ju(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=At(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Vg.RETRIAL_MIN_WAIT,Vg.RETRIAL_MAX_WAIT)}function kb(n,e){let t=At(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function as(n){return n.expireTimeMillis-Date.now()>0}function Vu(n){return{token:Ab(Sb),error:n}}var Bu=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=At(this.app);for(let t of e)Gg(this.app,t.next);return Promise.resolve()}};function Db(n,e){return new Bu(n,e)}function Nb(n){return{getToken:e=>ju(n,e),getLimitedUseToken:()=>Rb(n),addTokenListener:e=>Cb(n,"INTERNAL",e),removeTokenListener:e=>Gg(n.app,e)}}var Ob="@firebase/app-check",Mb="0.10.1";var xb="app-check",Ug="app-check-internal";function Lb(){ot(new Ne(xb,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Db(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ug).initialize()})),ot(new Ne(Ug,n=>{let e=n.getProvider("app-check").getImmediate();return Nb(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ce(Ob,Mb)}Lb();var Vb="app-check";var Dn=class{constructor(){return Pn(Vb)}};var Fb=["localhost","0.0.0.0","127.0.0.1"],pN=typeof window<"u"&&Fb.includes(window.location.hostname);function ay(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cy=ay,ly=new It("auth","Firebase",ay());var Sa=new Ot("@firebase/auth");function Ub(n,...e){Sa.logLevel<=se.WARN&&Sa.warn(`Auth (${Mt}): ${n}`,...e)}function wa(n,...e){Sa.logLevel<=se.ERROR&&Sa.error(`Auth (${Mt}): ${n}`,...e)}function Mn(n,...e){throw ah(n,...e)}function sr(n,...e){return ah(n,...e)}function uy(n,e,t){let r=Object.assign(Object.assign({},cy()),{[e]:t});return new It("auth","Firebase",r).create(e,{appName:n.name})}function ir(n){return uy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ah(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ly.create(n,...e)}function q(n,e,...t){if(!n)throw ah(e,...t)}function rn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw wa(e),new Error(e)}function xn(n,e){n||rn(e)}function Hu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jb(){return Wg()==="http:"||Wg()==="https:"}function Wg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Bb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jb()||Eg()||"connection"in navigator)?navigator.onLine:!0}function $b(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var or=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xn(t>e,"Short delay should be less than long delay!"),this.isMobile=_g()||wg()}get(){return Bb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ch(n,e){xn(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Aa=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var zb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hb=new or(3e4,6e4);function lh(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Hr(n,e,t,r,i={}){return hy(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});let c=rs(Object.assign({key:n.config.apiKey},a)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let d=Object.assign({method:e,headers:u},s);return vg()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Jt(n.emulatorConfig.host)&&(d.credentials="include"),Aa.fetch()(await dy(n,n.config.apiHost,t,c),d)})}async function hy(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},zb),e);try{let i=new Gu(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=await s.json();if("needConfirmation"in a)throw Ea(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ea(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Ea(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw Ea(n,"user-disabled",a);let y=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw uy(n,y,d);Mn(n,y)}}catch(i){if(i instanceof ze)throw i;Mn(n,"network-request-failed",{message:String(i)})}}async function Gb(n,e,t,r,i={}){let s=await Hr(n,e,t,r,i);return"mfaPendingCredential"in s&&Mn(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function dy(n,e,t,r){let i=`${e}${t}?${r}`,s=n,a=s.config.emulator?ch(n.config,i):`${n.config.apiScheme}://${i}`;return qb.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}var Gu=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),Hb.get())})}};function Ea(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=sr(n,e,r);return i.customData._tokenResponse=t,i}async function Wb(n,e){return Hr(n,"POST","/v1/accounts:delete",e)}async function Ra(n,e){return Hr(n,"POST","/v1/accounts:lookup",e)}function cs(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uh(n,e=!1){let t=bt(n),r=await t.getIdToken(e),i=hh(r);q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:cs($u(i.auth_time)),issuedAtTime:cs($u(i.iat)),expirationTime:cs($u(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function $u(n){return Number(n)*1e3}function hh(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wa("JWT malformed, contained fewer than 3 sections"),null;try{let i=fa(t);return i?JSON.parse(i):(wa("Failed to decode base64 JWT payload"),null)}catch(i){return wa("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Kg(n){let e=hh(n);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function us(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ze&&Kb(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Kb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Wu=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var hs=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cs(this.lastLoginAt),this.creationTime=cs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Ca(n){var e;let t=n.auth,r=await n.getIdToken(),i=await us(n,Ra(t,{idToken:r}));q(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fy(s.providerUserInfo):[],c=Qb(n.providerData,a),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,y=u?d:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new hs(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function dh(n){let e=bt(n);await Ca(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qb(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fy(n){return n.map(e=>{var{providerId:t}=e,r=Dc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Yb(n,e){let t=await hy(n,{},async()=>{let r=rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await dy(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Jt(n.emulatorConfig.host)&&(u.credentials="include"),Aa.fetch()(a,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xb(n,e){return Hr(n,"POST","/v2/accounts:revokeToken",lh(n,e))}var ls=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){q(e.length!==0,"internal-error");let t=Kg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await Yb(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new n;return r&&(q(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return rn("not implemented")}};function Nn(n,e){q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var On=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Dc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hs(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await us(this,this.stsTokenManager.getToken(this.auth,e));return q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uh(this,e)}reload(){return dh(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ca(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Je(this.auth.app))return Promise.reject(ir(this.auth));let e=await this.getIdToken();return await us(this,Wb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,c,u,d,y;let _=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(i=t.email)!==null&&i!==void 0?i:void 0,R=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(a=t.photoURL)!==null&&a!==void 0?a:void 0,D=(c=t.tenantId)!==null&&c!==void 0?c:void 0,P=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(d=t.createdAt)!==null&&d!==void 0?d:void 0,B=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:z,emailVerified:F,isAnonymous:le,providerData:Z,stsTokenManager:v}=t;q(z&&v,e,"internal-error");let p=ls.fromJSON(this.name,v);q(typeof z=="string",e,"internal-error"),Nn(_,e.name),Nn(b,e.name),q(typeof F=="boolean",e,"internal-error"),q(typeof le=="boolean",e,"internal-error"),Nn(R,e.name),Nn(A,e.name),Nn(D,e.name),Nn(P,e.name),Nn(L,e.name),Nn(B,e.name);let m=new n({uid:z,auth:e,email:b,emailVerified:F,displayName:_,isAnonymous:le,photoURL:A,phoneNumber:R,tenantId:D,stsTokenManager:p,createdAt:L,lastLoginAt:B});return Z&&Array.isArray(Z)&&(m.providerData=Z.map(E=>Object.assign({},E))),P&&(m._redirectEventId=P),m}static async _fromIdTokenResponse(e,t,r=!1){let i=new ls;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ca(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?fy(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new ls;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}};var Qg=new Map;function sn(n){xn(n instanceof Function,"Expected a class definition");let e=Qg.get(n);return e?(xn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Qg.set(n,e),e)}var Jb=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ku=Jb;function Ta(n,e,t){return`firebase:${n}:${e}:${t}`}var Pa=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ta(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ta("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Ra(this.auth,{idToken:e}).catch(()=>{});return t?On._fromGetAccountInfoResponse(this.auth,t,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(sn(Ku),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),s=i[0]||sn(Ku),a=Ta(r,e.config.apiKey,e.name),c=null;for(let d of t)try{let y=await d._get(a);if(y){let _;if(typeof y=="string"){let b=await Ra(e,{idToken:y}).catch(()=>{});if(!b)break;_=await On._fromGetAccountInfoResponse(e,b,y)}else _=On._fromJSON(e,y);d!==s&&(c=_),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new n(s,e,r))}};function Yg(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(py(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vy(e))return"Blackberry";if(Ey(e))return"Webos";if(my(e))return"Safari";if((e.includes("chrome/")||gy(e))&&!e.includes("edge/"))return"Chrome";if(_y(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function py(n=De()){return/firefox\//i.test(n)}function my(n=De()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gy(n=De()){return/crios\//i.test(n)}function yy(n=De()){return/iemobile/i.test(n)}function _y(n=De()){return/android/i.test(n)}function vy(n=De()){return/blackberry/i.test(n)}function Ey(n=De()){return/webos/i.test(n)}function fh(n=De()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Zb(n=De()){var e;return fh(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e0(){return Tg()&&document.documentMode===10}function wy(n=De()){return fh(n)||_y(n)||Ey(n)||vy(n)||/windows phone/i.test(n)||yy(n)}function Ty(n,e=[]){let t;switch(n){case"Browser":t=Yg(De());break;case"Worker":t=`${Yg(De())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mt}/${r}`}var Qu=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((a,c)=>{try{let u=e(s);a(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function t0(n,e={}){return Hr(n,"GET","/v2/passwordPolicy",lh(n,e))}var n0=6,Yu=class{constructor(e){var t,r,i,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:n0,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Xu=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ka(this),this.idTokenSubscription=new ka(this),this.beforeStateQueue=new Qu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ly,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sn(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Ra(this,{idToken:e}),r=await On._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Je(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ca(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$b()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Je(this.app))return Promise.reject(ir(this));let t=e?bt(e):null;return t&&q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Je(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Je(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await t0(this),t=new Yu(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new It("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&sn(e)||this._popupRedirectResolver;q(t,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[sn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{a=!0,u()}}else{let u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ty(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Ub(`Error while retrieving App Check token: ${t.error}`),t?.token}};function ph(n){return bt(n)}var ka=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sg(t=>this.observer=t)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r0(n){mh=n}function i0(n){return mh.loadJS(n)}function s0(){return mh.gapiScript}function Iy(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function gh(n,e){let t=Cn(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Nt(s,e??{}))return i;Mn(i,"already-initialized")}return t.initialize({options:e})}function o0(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(sn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function yh(n,e,t){let r=ph(n);q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=by(e),{host:a,port:c}=a0(e),u=c===null?"":`:${c}`,d={url:`${s}//${a}${u}/`},y=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(Nt(d,r.config.emulator)&&Nt(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Jt(a)?(Br(`${s}//${a}${u}`),$r("Auth",!0)):i||c0()}function by(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function a0(n){let e=by(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Xg(r.substr(s.length+1))}}else{let[s,a]=r.split(":");return{host:s,port:Xg(a)}}}function Xg(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function c0(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Da=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rn("not implemented")}_getIdTokenResponse(e){return rn("not implemented")}_linkToIdToken(e,t){return rn("not implemented")}_getReauthenticationResolver(e){return rn("not implemented")}};async function zu(n,e){return Gb(n,"POST","/v1/accounts:signInWithIdp",lh(n,e))}var Na=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ju=class extends Na{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ds=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await On._fromIdTokenResponse(e,r,i),a=Jg(r);return new n({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=Jg(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function Jg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Zu=class n extends ze{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Sy(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(n,s,e,r):s})}async function l0(n,e,t=!1){let r=await us(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ds._forOperation(n,"link",r)}async function u0(n,e,t=!1){let{auth:r}=n;if(Je(r.app))return Promise.reject(ir(r));let i="reauthenticate";try{let s=await us(n,Sy(r,i,e,n),t);q(s.idToken,r,"internal-error");let a=hh(s.idToken);q(a,r,"internal-error");let{sub:c}=a;return q(n.uid===c,r,"user-mismatch"),ds._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}}async function h0(n,e,t=!1){if(Je(n.app))return Promise.reject(ir(n));let r="signIn",i=await Sy(n,r,e),s=await ds._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function _h(n,e,t,r){return bt(n).onIdTokenChanged(e,t,r)}function vh(n,e,t){return bt(n).beforeAuthStateChanged(e,t)}var Oa="__sak";var Ma=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oa,"1"),this.storage.removeItem(Oa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var d0=1e3,f0=10,p0=(()=>{class n extends Ma{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wy(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);e0()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,f0):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},d0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),Ay=p0;var m0=(()=>{class n extends Ma{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Eh=m0;function g0(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var y0=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:a}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(async y=>y(r.origin,a)),d=await g0(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ry(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var eh=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{let d=Ry("",20);i.port1.start();let y=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(_){let b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(y),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(y),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function Vt(){return window}function _0(n){Vt().location.href=n}function Cy(){return typeof Vt().WorkerGlobalScope<"u"&&typeof Vt().importScripts=="function"}async function v0(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E0(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function w0(){return Cy()?self:null}var Py="firebaseLocalStorageDb",T0=1,xa="firebaseLocalStorage",ky="fbase_key",ar=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Va(n,e){return n.transaction([xa],e?"readwrite":"readonly").objectStore(xa)}function I0(){let n=indexedDB.deleteDatabase(Py);return new ar(n).toPromise()}function th(){let n=indexedDB.open(Py,T0);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(xa,{keyPath:ky})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(xa)?e(r):(r.close(),await I0(),e(await th()))})})}async function Zg(n,e,t){let r=Va(n,!0).put({[ky]:e,value:t});return new ar(r).toPromise()}async function b0(n,e){let t=Va(n,!1).get(e),r=await new ar(t).toPromise();return r===void 0?null:r.value}function ey(n,e){let t=Va(n,!0).delete(e);return new ar(t).toPromise()}var S0=800,A0=3,R0=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await th(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>A0)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y0._getInstance(w0()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await v0(),!this.activeServiceWorker)return;this.sender=new eh(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||E0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await th();return await Zg(t,Oa,"1"),await ey(t,Oa),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>Zg(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>b0(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ey(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let a=Va(s,!1).getAll();return new ar(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Dy=R0;var bN=Iy("rcb"),SN=new or(3e4,6e4);function C0(n,e){return e?sn(e):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var fs=class extends Da{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function P0(n){return h0(n.auth,new fs(n),n.bypassAuthState)}function k0(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),u0(t,new fs(n),n.bypassAuthState)}async function D0(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),l0(t,new fs(n),n.bypassAuthState)}var nh=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P0;case"linkViaPopup":case"linkViaRedirect":return D0;case"reauthViaPopup":case"reauthViaRedirect":return k0;default:Mn(this.auth,"internal-error")}}resolve(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AN=new or(2e3,1e4);var N0="pendingRedirect",Ia=new Map,rh=class extends nh{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ia.get(this.auth._key());if(!e){try{let r=await O0(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ia.set(this.auth._key(),e)}return this.bypassAuthState||Ia.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function O0(n,e){let t=L0(e),r=x0(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function M0(n,e){Ia.set(n._key(),e)}function x0(n){return sn(n._redirectPersistence)}function L0(n){return Ta(N0,n.config.apiKey,n.name)}async function V0(n,e,t=!1){if(Je(n.app))return Promise.reject(ir(n));let r=ph(n),i=C0(r,e),a=await new rh(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}var F0=600*1e3,ih=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U0(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ny(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(sr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F0&&this.cachedEventUids.clear(),this.cachedEventUids.has(ty(e))}saveEventToCache(e){this.cachedEventUids.add(ty(e)),this.lastProcessedEventTime=Date.now()}};function ty(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ny({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function U0(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ny(n);default:return!1}}async function j0(n,e={}){return Hr(n,"GET","/v1/projects",e)}var B0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$0=/^https?/;async function z0(n){if(n.config.emulator)return;let{authorizedDomains:e}=await j0(n);for(let t of e)try{if(q0(t))return}catch{}Mn(n,"unauthorized-domain")}function q0(n){let e=Hu(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!$0.test(t))return!1;if(B0.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var H0=new or(3e4,6e4);function ny(){let n=Vt().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function G0(n){return new Promise((e,t)=>{var r,i,s;function a(){ny(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ny(),t(sr(n,"network-request-failed"))},timeout:H0.get()})}if(!((i=(r=Vt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vt().gapi)===null||s===void 0)&&s.load)a();else{let c=Iy("iframefcb");return Vt()[c]=()=>{gapi.load?a():t(sr(n,"network-request-failed"))},i0(`${s0()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw ba=null,e})}var ba=null;function W0(n){return ba=ba||G0(n),ba}var K0=new or(5e3,15e3),Q0="__/auth/iframe",Y0="emulator/auth/iframe",X0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z0(n){let e=n.config;q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ch(e,Y0):`https://${n.config.authDomain}/${Q0}`,r={apiKey:e.apiKey,appName:n.name,v:Mt},i=J0.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${rs(r).slice(1)}`}async function eS(n){let e=await W0(n),t=Vt().gapi;return q(t,n,"internal-error"),e.open({where:document.body,url:Z0(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X0,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let a=sr(n,"network-request-failed"),c=Vt().setTimeout(()=>{s(a)},K0.get());function u(){Vt().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})}))}var tS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nS=500,rS=600,iS="_blank",sS="http://localhost",La=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function oS(n,e,t,r=nS,i=rS){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},tS),{width:r.toString(),height:i.toString(),top:s,left:a}),d=De().toLowerCase();t&&(c=gy(d)?iS:t),py(d)&&(e=e||sS,u.scrollbars="yes");let y=Object.entries(u).reduce((b,[R,A])=>`${b}${R}=${A},`,"");if(Zb(d)&&c!=="_self")return aS(e||"",c),new La(null);let _=window.open(e||"",c,y);q(_,n,"popup-blocked");try{_.focus()}catch{}return new La(_)}function aS(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var cS="__/auth/handler",lS="emulator/auth/handler",uS=encodeURIComponent("fac");async function ry(n,e,t,r,i,s){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Mt,eventId:i};if(e instanceof Na){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",bg(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[y,_]of Object.entries(s||{}))a[y]=_}if(e instanceof Ju){let y=e.getScopes().filter(_=>_!=="");y.length>0&&(a.scopes=y.join(","))}n.tenantId&&(a.tid=n.tenantId);let c=a;for(let y of Object.keys(c))c[y]===void 0&&delete c[y];let u=await n._getAppCheckToken(),d=u?`#${uS}=${encodeURIComponent(u)}`:"";return`${hS(n)}?${rs(c).slice(1)}${d}`}function hS({config:n}){return n.emulator?ch(n,lS):`https://${n.authDomain}/${cS}`}var qu="webStorageSupport",sh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eh,this._completeRedirectFn=V0,this._overrideRedirectResult=M0}async _openPopup(e,t,r,i){var s;xn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=await ry(e,t,r,Hu(),i);return oS(e,a,Ry())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await ry(e,t,r,Hu(),i);return _0(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(xn(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await eS(e),r=new ih(e);return t.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qu,{type:qu},i=>{var s;let a=(s=i?.[0])===null||s===void 0?void 0:s[qu];a!==void 0&&t(!!a),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z0(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wy()||my()||fh()}},Oy=sh;var iy="@firebase/auth",sy="1.10.8";var oh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dS(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fS(n){ot(new Ne("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;q(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ty(n)},d=new Xu(r,i,s,u);return o0(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ot(new Ne("auth-internal",e=>{let t=ph(e.getProvider("auth").getImmediate());return(r=>new oh(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ce(iy,sy,dS(n)),ce(iy,sy,"esm2017")}var pS=300,mS=Iu("authIdTokenMaxAge")||pS,oy=null,gS=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>mS)return;let i=t?.token;oy!==i&&(oy=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wh(n=en()){let e=Cn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=gh(n,{popupRedirectResolver:Oy,persistence:[Dy,Ay,Eh]}),r=Iu("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let a=gS(s.toString());vh(t,a,()=>a(t.currentUser)),_h(t,c=>a(c))}}let i=wu("auth");return i&&yh(t,`http://${i}`),t}function yS(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}r0({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=sr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",yS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fS("Browser");var My="auth",ps=class{constructor(e){return e}},cr=class{constructor(){return Pn(My)}};var Th=new Y("angularfire2.auth-instances");function uA(n,e){let t=rr(My,n,e);return t&&new ps(t)}function hA(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ps(r)}}var dA={provide:cr,deps:[[new ke,Th]]},fA={provide:ps,useFactory:uA,deps:[[new ke,Th],St]};function xy(n,...e){return ce("angularfire",xt.full,"auth"),We([fA,dA,{provide:Th,useFactory:hA(n),multi:!0,deps:[ye,Pe,Lt,nn,[new ke,Dn],...e]}])}var Ly=tn(wh,!0);var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fy={};var Fa,Uy;(function(){var n;function e(v,p){function m(){}m.prototype=p.prototype,v.D=p.prototype,v.prototype=new m,v.prototype.constructor=v,v.C=function(E,w,I){for(var g=Array(arguments.length-2),at=2;at<arguments.length;at++)g[at-2]=arguments[at];return p.prototype[w].apply(E,g)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,p,m){m||(m=0);var E=Array(16);if(typeof p=="string")for(var w=0;16>w;++w)E[w]=p.charCodeAt(m++)|p.charCodeAt(m++)<<8|p.charCodeAt(m++)<<16|p.charCodeAt(m++)<<24;else for(w=0;16>w;++w)E[w]=p[m++]|p[m++]<<8|p[m++]<<16|p[m++]<<24;p=v.g[0],m=v.g[1],w=v.g[2];var I=v.g[3],g=p+(I^m&(w^I))+E[0]+3614090360&4294967295;p=m+(g<<7&4294967295|g>>>25),g=I+(w^p&(m^w))+E[1]+3905402710&4294967295,I=p+(g<<12&4294967295|g>>>20),g=w+(m^I&(p^m))+E[2]+606105819&4294967295,w=I+(g<<17&4294967295|g>>>15),g=m+(p^w&(I^p))+E[3]+3250441966&4294967295,m=w+(g<<22&4294967295|g>>>10),g=p+(I^m&(w^I))+E[4]+4118548399&4294967295,p=m+(g<<7&4294967295|g>>>25),g=I+(w^p&(m^w))+E[5]+1200080426&4294967295,I=p+(g<<12&4294967295|g>>>20),g=w+(m^I&(p^m))+E[6]+2821735955&4294967295,w=I+(g<<17&4294967295|g>>>15),g=m+(p^w&(I^p))+E[7]+4249261313&4294967295,m=w+(g<<22&4294967295|g>>>10),g=p+(I^m&(w^I))+E[8]+1770035416&4294967295,p=m+(g<<7&4294967295|g>>>25),g=I+(w^p&(m^w))+E[9]+2336552879&4294967295,I=p+(g<<12&4294967295|g>>>20),g=w+(m^I&(p^m))+E[10]+4294925233&4294967295,w=I+(g<<17&4294967295|g>>>15),g=m+(p^w&(I^p))+E[11]+2304563134&4294967295,m=w+(g<<22&4294967295|g>>>10),g=p+(I^m&(w^I))+E[12]+1804603682&4294967295,p=m+(g<<7&4294967295|g>>>25),g=I+(w^p&(m^w))+E[13]+4254626195&4294967295,I=p+(g<<12&4294967295|g>>>20),g=w+(m^I&(p^m))+E[14]+2792965006&4294967295,w=I+(g<<17&4294967295|g>>>15),g=m+(p^w&(I^p))+E[15]+1236535329&4294967295,m=w+(g<<22&4294967295|g>>>10),g=p+(w^I&(m^w))+E[1]+4129170786&4294967295,p=m+(g<<5&4294967295|g>>>27),g=I+(m^w&(p^m))+E[6]+3225465664&4294967295,I=p+(g<<9&4294967295|g>>>23),g=w+(p^m&(I^p))+E[11]+643717713&4294967295,w=I+(g<<14&4294967295|g>>>18),g=m+(I^p&(w^I))+E[0]+3921069994&4294967295,m=w+(g<<20&4294967295|g>>>12),g=p+(w^I&(m^w))+E[5]+3593408605&4294967295,p=m+(g<<5&4294967295|g>>>27),g=I+(m^w&(p^m))+E[10]+38016083&4294967295,I=p+(g<<9&4294967295|g>>>23),g=w+(p^m&(I^p))+E[15]+3634488961&4294967295,w=I+(g<<14&4294967295|g>>>18),g=m+(I^p&(w^I))+E[4]+3889429448&4294967295,m=w+(g<<20&4294967295|g>>>12),g=p+(w^I&(m^w))+E[9]+568446438&4294967295,p=m+(g<<5&4294967295|g>>>27),g=I+(m^w&(p^m))+E[14]+3275163606&4294967295,I=p+(g<<9&4294967295|g>>>23),g=w+(p^m&(I^p))+E[3]+4107603335&4294967295,w=I+(g<<14&4294967295|g>>>18),g=m+(I^p&(w^I))+E[8]+1163531501&4294967295,m=w+(g<<20&4294967295|g>>>12),g=p+(w^I&(m^w))+E[13]+2850285829&4294967295,p=m+(g<<5&4294967295|g>>>27),g=I+(m^w&(p^m))+E[2]+4243563512&4294967295,I=p+(g<<9&4294967295|g>>>23),g=w+(p^m&(I^p))+E[7]+1735328473&4294967295,w=I+(g<<14&4294967295|g>>>18),g=m+(I^p&(w^I))+E[12]+2368359562&4294967295,m=w+(g<<20&4294967295|g>>>12),g=p+(m^w^I)+E[5]+4294588738&4294967295,p=m+(g<<4&4294967295|g>>>28),g=I+(p^m^w)+E[8]+2272392833&4294967295,I=p+(g<<11&4294967295|g>>>21),g=w+(I^p^m)+E[11]+1839030562&4294967295,w=I+(g<<16&4294967295|g>>>16),g=m+(w^I^p)+E[14]+4259657740&4294967295,m=w+(g<<23&4294967295|g>>>9),g=p+(m^w^I)+E[1]+2763975236&4294967295,p=m+(g<<4&4294967295|g>>>28),g=I+(p^m^w)+E[4]+1272893353&4294967295,I=p+(g<<11&4294967295|g>>>21),g=w+(I^p^m)+E[7]+4139469664&4294967295,w=I+(g<<16&4294967295|g>>>16),g=m+(w^I^p)+E[10]+3200236656&4294967295,m=w+(g<<23&4294967295|g>>>9),g=p+(m^w^I)+E[13]+681279174&4294967295,p=m+(g<<4&4294967295|g>>>28),g=I+(p^m^w)+E[0]+3936430074&4294967295,I=p+(g<<11&4294967295|g>>>21),g=w+(I^p^m)+E[3]+3572445317&4294967295,w=I+(g<<16&4294967295|g>>>16),g=m+(w^I^p)+E[6]+76029189&4294967295,m=w+(g<<23&4294967295|g>>>9),g=p+(m^w^I)+E[9]+3654602809&4294967295,p=m+(g<<4&4294967295|g>>>28),g=I+(p^m^w)+E[12]+3873151461&4294967295,I=p+(g<<11&4294967295|g>>>21),g=w+(I^p^m)+E[15]+530742520&4294967295,w=I+(g<<16&4294967295|g>>>16),g=m+(w^I^p)+E[2]+3299628645&4294967295,m=w+(g<<23&4294967295|g>>>9),g=p+(w^(m|~I))+E[0]+4096336452&4294967295,p=m+(g<<6&4294967295|g>>>26),g=I+(m^(p|~w))+E[7]+1126891415&4294967295,I=p+(g<<10&4294967295|g>>>22),g=w+(p^(I|~m))+E[14]+2878612391&4294967295,w=I+(g<<15&4294967295|g>>>17),g=m+(I^(w|~p))+E[5]+4237533241&4294967295,m=w+(g<<21&4294967295|g>>>11),g=p+(w^(m|~I))+E[12]+1700485571&4294967295,p=m+(g<<6&4294967295|g>>>26),g=I+(m^(p|~w))+E[3]+2399980690&4294967295,I=p+(g<<10&4294967295|g>>>22),g=w+(p^(I|~m))+E[10]+4293915773&4294967295,w=I+(g<<15&4294967295|g>>>17),g=m+(I^(w|~p))+E[1]+2240044497&4294967295,m=w+(g<<21&4294967295|g>>>11),g=p+(w^(m|~I))+E[8]+1873313359&4294967295,p=m+(g<<6&4294967295|g>>>26),g=I+(m^(p|~w))+E[15]+4264355552&4294967295,I=p+(g<<10&4294967295|g>>>22),g=w+(p^(I|~m))+E[6]+2734768916&4294967295,w=I+(g<<15&4294967295|g>>>17),g=m+(I^(w|~p))+E[13]+1309151649&4294967295,m=w+(g<<21&4294967295|g>>>11),g=p+(w^(m|~I))+E[4]+4149444226&4294967295,p=m+(g<<6&4294967295|g>>>26),g=I+(m^(p|~w))+E[11]+3174756917&4294967295,I=p+(g<<10&4294967295|g>>>22),g=w+(p^(I|~m))+E[2]+718787259&4294967295,w=I+(g<<15&4294967295|g>>>17),g=m+(I^(w|~p))+E[9]+3951481745&4294967295,v.g[0]=v.g[0]+p&4294967295,v.g[1]=v.g[1]+(w+(g<<21&4294967295|g>>>11))&4294967295,v.g[2]=v.g[2]+w&4294967295,v.g[3]=v.g[3]+I&4294967295}r.prototype.u=function(v,p){p===void 0&&(p=v.length);for(var m=p-this.blockSize,E=this.B,w=this.h,I=0;I<p;){if(w==0)for(;I<=m;)i(this,v,I),I+=this.blockSize;if(typeof v=="string"){for(;I<p;)if(E[w++]=v.charCodeAt(I++),w==this.blockSize){i(this,E),w=0;break}}else for(;I<p;)if(E[w++]=v[I++],w==this.blockSize){i(this,E),w=0;break}}this.h=w,this.o+=p},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var p=1;p<v.length-8;++p)v[p]=0;var m=8*this.o;for(p=v.length-8;p<v.length;++p)v[p]=m&255,m/=256;for(this.u(v),v=Array(16),p=m=0;4>p;++p)for(var E=0;32>E;E+=8)v[m++]=this.g[p]>>>E&255;return v};function s(v,p){var m=c;return Object.prototype.hasOwnProperty.call(m,v)?m[v]:m[v]=p(v)}function a(v,p){this.h=p;for(var m=[],E=!0,w=v.length-1;0<=w;w--){var I=v[w]|0;E&&I==p||(m[w]=I,E=!1)}this.g=m}var c={};function u(v){return-128<=v&&128>v?s(v,function(p){return new a([p|0],0>p?-1:0)}):new a([v|0],0>v?-1:0)}function d(v){if(isNaN(v)||!isFinite(v))return _;if(0>v)return P(d(-v));for(var p=[],m=1,E=0;v>=m;E++)p[E]=v/m|0,m*=4294967296;return new a(p,0)}function y(v,p){if(v.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(v.charAt(0)=="-")return P(y(v.substring(1),p));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=d(Math.pow(p,8)),E=_,w=0;w<v.length;w+=8){var I=Math.min(8,v.length-w),g=parseInt(v.substring(w,w+I),p);8>I?(I=d(Math.pow(p,I)),E=E.j(I).add(d(g))):(E=E.j(m),E=E.add(d(g)))}return E}var _=u(0),b=u(1),R=u(16777216);n=a.prototype,n.m=function(){if(D(this))return-P(this).m();for(var v=0,p=1,m=0;m<this.g.length;m++){var E=this.i(m);v+=(0<=E?E:4294967296+E)*p,p*=4294967296}return v},n.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(A(this))return"0";if(D(this))return"-"+P(this).toString(v);for(var p=d(Math.pow(v,6)),m=this,E="";;){var w=F(m,p).g;m=L(m,w.j(p));var I=((0<m.g.length?m.g[0]:m.h)>>>0).toString(v);if(m=w,A(m))return I+E;for(;6>I.length;)I="0"+I;E=I+E}},n.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function A(v){if(v.h!=0)return!1;for(var p=0;p<v.g.length;p++)if(v.g[p]!=0)return!1;return!0}function D(v){return v.h==-1}n.l=function(v){return v=L(this,v),D(v)?-1:A(v)?0:1};function P(v){for(var p=v.g.length,m=[],E=0;E<p;E++)m[E]=~v.g[E];return new a(m,~v.h).add(b)}n.abs=function(){return D(this)?P(this):this},n.add=function(v){for(var p=Math.max(this.g.length,v.g.length),m=[],E=0,w=0;w<=p;w++){var I=E+(this.i(w)&65535)+(v.i(w)&65535),g=(I>>>16)+(this.i(w)>>>16)+(v.i(w)>>>16);E=g>>>16,I&=65535,g&=65535,m[w]=g<<16|I}return new a(m,m[m.length-1]&-2147483648?-1:0)};function L(v,p){return v.add(P(p))}n.j=function(v){if(A(this)||A(v))return _;if(D(this))return D(v)?P(this).j(P(v)):P(P(this).j(v));if(D(v))return P(this.j(P(v)));if(0>this.l(R)&&0>v.l(R))return d(this.m()*v.m());for(var p=this.g.length+v.g.length,m=[],E=0;E<2*p;E++)m[E]=0;for(E=0;E<this.g.length;E++)for(var w=0;w<v.g.length;w++){var I=this.i(E)>>>16,g=this.i(E)&65535,at=v.i(w)>>>16,hn=v.i(w)&65535;m[2*E+2*w]+=g*hn,B(m,2*E+2*w),m[2*E+2*w+1]+=I*hn,B(m,2*E+2*w+1),m[2*E+2*w+1]+=g*at,B(m,2*E+2*w+1),m[2*E+2*w+2]+=I*at,B(m,2*E+2*w+2)}for(E=0;E<p;E++)m[E]=m[2*E+1]<<16|m[2*E];for(E=p;E<2*p;E++)m[E]=0;return new a(m,0)};function B(v,p){for(;(v[p]&65535)!=v[p];)v[p+1]+=v[p]>>>16,v[p]&=65535,p++}function z(v,p){this.g=v,this.h=p}function F(v,p){if(A(p))throw Error("division by zero");if(A(v))return new z(_,_);if(D(v))return p=F(P(v),p),new z(P(p.g),P(p.h));if(D(p))return p=F(v,P(p)),new z(P(p.g),p.h);if(30<v.g.length){if(D(v)||D(p))throw Error("slowDivide_ only works with positive integers.");for(var m=b,E=p;0>=E.l(v);)m=le(m),E=le(E);var w=Z(m,1),I=Z(E,1);for(E=Z(E,2),m=Z(m,2);!A(E);){var g=I.add(E);0>=g.l(v)&&(w=w.add(m),I=g),E=Z(E,1),m=Z(m,1)}return p=L(v,w.j(p)),new z(w,p)}for(w=_;0<=v.l(p);){for(m=Math.max(1,Math.floor(v.m()/p.m())),E=Math.ceil(Math.log(m)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),I=d(m),g=I.j(p);D(g)||0<g.l(v);)m-=E,I=d(m),g=I.j(p);A(I)&&(I=b),w=w.add(I),v=L(v,g)}return new z(w,v)}n.A=function(v){return F(this,v).h},n.and=function(v){for(var p=Math.max(this.g.length,v.g.length),m=[],E=0;E<p;E++)m[E]=this.i(E)&v.i(E);return new a(m,this.h&v.h)},n.or=function(v){for(var p=Math.max(this.g.length,v.g.length),m=[],E=0;E<p;E++)m[E]=this.i(E)|v.i(E);return new a(m,this.h|v.h)},n.xor=function(v){for(var p=Math.max(this.g.length,v.g.length),m=[],E=0;E<p;E++)m[E]=this.i(E)^v.i(E);return new a(m,this.h^v.h)};function le(v){for(var p=v.g.length+1,m=[],E=0;E<p;E++)m[E]=v.i(E)<<1|v.i(E-1)>>>31;return new a(m,v.h)}function Z(v,p){var m=p>>5;p%=32;for(var E=v.g.length-m,w=[],I=0;I<E;I++)w[I]=0<p?v.i(I+m)>>>p|v.i(I+m+1)<<32-p:v.i(I+m);return new a(w,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Uy=Fy.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=y,Fa=Fy.Integer=a}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},on={};var jy,pA,By,$y,zy,qy,Hy,Gy,Wy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,l,h){return o==Array.prototype||o==Object.prototype||(o[l]=h.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ua=="object"&&Ua];for(var l=0;l<o.length;++l){var h=o[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(o,l){if(l)e:{var h=r;o=o.split(".");for(var f=0;f<o.length-1;f++){var T=o[f];if(!(T in h))break e;h=h[T]}o=o[o.length-1],f=h[o],l=l(f),l!=f&&l!=null&&e(h,o,{configurable:!0,writable:!0,value:l})}}function s(o,l){o instanceof String&&(o+="");var h=0,f=!1,T={next:function(){if(!f&&h<o.length){var S=h++;return{value:l(S,o[S]),done:!1}}return f=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(o){return o||function(){return s(this,function(l,h){return h})}});var a=a||{},c=this||self;function u(o){var l=typeof o;return l=l!="object"?l:o?Array.isArray(o)?"array":l:"null",l=="array"||l=="object"&&typeof o.length=="number"}function d(o){var l=typeof o;return l=="object"&&o!=null||l=="function"}function y(o,l,h){return o.call.apply(o.bind,arguments)}function _(o,l,h){if(!o)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,f),o.apply(l,T)}}return function(){return o.apply(l,arguments)}}function b(o,l,h){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function R(o,l){var h=Array.prototype.slice.call(arguments,1);return function(){var f=h.slice();return f.push.apply(f,arguments),o.apply(this,f)}}function A(o,l){function h(){}h.prototype=l.prototype,o.aa=l.prototype,o.prototype=new h,o.prototype.constructor=o,o.Qb=function(f,T,S){for(var O=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)O[oe-2]=arguments[oe];return l.prototype[T].apply(f,O)}}function D(o){let l=o.length;if(0<l){let h=Array(l);for(let f=0;f<l;f++)h[f]=o[f];return h}return[]}function P(o,l){for(let h=1;h<arguments.length;h++){let f=arguments[h];if(u(f)){let T=o.length||0,S=f.length||0;o.length=T+S;for(let O=0;O<S;O++)o[T+O]=f[O]}else o.push(f)}}class L{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function B(o){return/^[\s\xa0]*$/.test(o)}function z(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function F(o){return F[" "](o),o}F[" "]=function(){};var le=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Z(o,l,h){for(let f in o)l.call(h,o[f],f,o)}function v(o,l){for(let h in o)l.call(void 0,o[h],h,o)}function p(o){let l={};for(let h in o)l[h]=o[h];return l}let m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(o,l){let h,f;for(let T=1;T<arguments.length;T++){f=arguments[T];for(h in f)o[h]=f[h];for(let S=0;S<m.length;S++)h=m[S],Object.prototype.hasOwnProperty.call(f,h)&&(o[h]=f[h])}}function w(o){var l=1;o=o.split(":");let h=[];for(;0<l&&o.length;)h.push(o.shift()),l--;return o.length&&h.push(o.join(":")),h}function I(o){c.setTimeout(()=>{throw o},0)}function g(){var o=K;let l=null;return o.g&&(l=o.g,o.g=o.g.next,o.g||(o.h=null),l.next=null),l}class at{constructor(){this.h=this.g=null}add(l,h){let f=hn.get();f.set(l,h),this.h?this.h.next=f:this.g=f,this.h=f}}var hn=new L(()=>new V,o=>o.reset());class V{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let j,$=!1,K=new at,ve=()=>{let o=c.Promise.resolve(void 0);j=()=>{o.then(ct)}};var ct=()=>{for(var o;o=g();){try{o.h.call(o.g)}catch(h){I(h)}var l=hn;l.j(o),100>l.h&&(l.h++,o.next=l.g,l.g=o)}$=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(o,l){this.type=o,this.g=this.target=l,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var he=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,l=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return o})();function dn(o,l){if(ue.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var h=this.type=o.type,f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=l,l=o.relatedTarget){if(le){e:{try{F(l.nodeName);var T=!0;break e}catch{}T=!1}T||(l=null)}}else h=="mouseover"?l=o.fromElement:h=="mouseout"&&(l=o.toElement);this.relatedTarget=l,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ic[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&dn.aa.h.call(this)}}A(dn,ue);var ic={2:"touch",3:"pen",4:"mouse"};dn.prototype.h=function(){dn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function qe(o,l,h,f,T){this.listener=o,this.proxy=null,this.src=l,this.type=h,this.capture=!!f,this.ha=T,this.key=++Bt,this.da=this.fa=!1}function $t(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function fn(o){this.src=o,this.g={},this.h=0}fn.prototype.add=function(o,l,h,f,T){var S=o.toString();o=this.g[S],o||(o=this.g[S]=[],this.h++);var O=oc(o,l,f,T);return-1<O?(l=o[O],h||(l.fa=!1)):(l=new qe(l,this.src,S,!!f,T),l.fa=h,o.push(l)),l};function sc(o,l){var h=l.type;if(h in o.g){var f=o.g[h],T=Array.prototype.indexOf.call(f,l,void 0),S;(S=0<=T)&&Array.prototype.splice.call(f,T,1),S&&($t(l),o.g[h].length==0&&(delete o.g[h],o.h--))}}function oc(o,l,h,f){for(var T=0;T<o.length;++T){var S=o[T];if(!S.da&&S.listener==l&&S.capture==!!h&&S.ha==f)return T}return-1}var ac="closure_lm_"+(1e6*Math.random()|0),cc={};function td(o,l,h,f,T){if(f&&f.once)return rd(o,l,h,f,T);if(Array.isArray(l)){for(var S=0;S<l.length;S++)td(o,l[S],h,f,T);return null}return h=dc(h),o&&o[me]?o.K(l,h,d(f)?!!f.capture:!!f,T):nd(o,l,h,!1,f,T)}function nd(o,l,h,f,T,S){if(!l)throw Error("Invalid event type");var O=d(T)?!!T.capture:!!T,oe=uc(o);if(oe||(o[ac]=oe=new fn(o)),h=oe.add(l,h,f,O,S),h.proxy)return h;if(f=J_(),h.proxy=f,f.src=o,f.listener=h,o.addEventListener)he||(T=O),T===void 0&&(T=!1),o.addEventListener(l.toString(),f,T);else if(o.attachEvent)o.attachEvent(sd(l.toString()),f);else if(o.addListener&&o.removeListener)o.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return h}function J_(){function o(h){return l.call(o.src,o.listener,h)}let l=Z_;return o}function rd(o,l,h,f,T){if(Array.isArray(l)){for(var S=0;S<l.length;S++)rd(o,l[S],h,f,T);return null}return h=dc(h),o&&o[me]?o.L(l,h,d(f)?!!f.capture:!!f,T):nd(o,l,h,!0,f,T)}function id(o,l,h,f,T){if(Array.isArray(l))for(var S=0;S<l.length;S++)id(o,l[S],h,f,T);else f=d(f)?!!f.capture:!!f,h=dc(h),o&&o[me]?(o=o.i,l=String(l).toString(),l in o.g&&(S=o.g[l],h=oc(S,h,f,T),-1<h&&($t(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete o.g[l],o.h--)))):o&&(o=uc(o))&&(l=o.g[l.toString()],o=-1,l&&(o=oc(l,h,f,T)),(h=-1<o?l[o]:null)&&lc(h))}function lc(o){if(typeof o!="number"&&o&&!o.da){var l=o.src;if(l&&l[me])sc(l.i,o);else{var h=o.type,f=o.proxy;l.removeEventListener?l.removeEventListener(h,f,o.capture):l.detachEvent?l.detachEvent(sd(h),f):l.addListener&&l.removeListener&&l.removeListener(f),(h=uc(l))?(sc(h,o),h.h==0&&(h.src=null,l[ac]=null)):$t(o)}}}function sd(o){return o in cc?cc[o]:cc[o]="on"+o}function Z_(o,l){if(o.da)o=!0;else{l=new dn(l,this);var h=o.listener,f=o.ha||o.src;o.fa&&lc(o),o=h.call(f,l)}return o}function uc(o){return o=o[ac],o instanceof fn?o:null}var hc="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(o){return typeof o=="function"?o:(o[hc]||(o[hc]=function(l){return o.handleEvent(l)}),o[hc])}function Me(){pe.call(this),this.i=new fn(this),this.M=this,this.F=null}A(Me,pe),Me.prototype[me]=!0,Me.prototype.removeEventListener=function(o,l,h,f){id(this,o,l,h,f)};function Ue(o,l){var h,f=o.F;if(f)for(h=[];f;f=f.F)h.push(f);if(o=o.M,f=l.type||l,typeof l=="string")l=new ue(l,o);else if(l instanceof ue)l.target=l.target||o;else{var T=l;l=new ue(f,o),E(l,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var O=l.g=h[S];T=Ss(O,f,!0,l)&&T}if(O=l.g=o,T=Ss(O,f,!0,l)&&T,T=Ss(O,f,!1,l)&&T,h)for(S=0;S<h.length;S++)O=l.g=h[S],T=Ss(O,f,!1,l)&&T}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var o=this.i,l;for(l in o.g){for(var h=o.g[l],f=0;f<h.length;f++)$t(h[f]);delete o.g[l],o.h--}}this.F=null},Me.prototype.K=function(o,l,h,f){return this.i.add(String(o),l,!1,h,f)},Me.prototype.L=function(o,l,h,f){return this.i.add(String(o),l,!0,h,f)};function Ss(o,l,h,f){if(l=o.i.g[String(l)],!l)return!0;l=l.concat();for(var T=!0,S=0;S<l.length;++S){var O=l[S];if(O&&!O.da&&O.capture==h){var oe=O.listener,Ce=O.ha||O.src;O.fa&&sc(o.i,O),T=oe.call(Ce,f)!==!1&&T}}return T&&!f.defaultPrevented}function od(o,l,h){if(typeof o=="function")h&&(o=b(o,h));else if(o&&typeof o.handleEvent=="function")o=b(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(o,l||0)}function ad(o){o.g=od(()=>{o.g=null,o.i&&(o.i=!1,ad(o))},o.l);let l=o.h;o.h=null,o.m.apply(null,l)}class ev extends pe{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:ad(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(o){pe.call(this),this.h=o,this.g={}}A(Zr,pe);var cd=[];function ld(o){Z(o.g,function(l,h){this.g.hasOwnProperty(h)&&lc(l)},o),o.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),ld(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fc=c.JSON.stringify,tv=c.JSON.parse,nv=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function pc(){}pc.prototype.h=null;function ud(o){return o.h||(o.h=o.i())}function hd(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mc(){ue.call(this,"d")}A(mc,ue);function gc(){ue.call(this,"c")}A(gc,ue);var Vn={},dd=null;function As(){return dd=dd||new Me}Vn.La="serverreachability";function fd(o){ue.call(this,Vn.La,o)}A(fd,ue);function ti(o){let l=As();Ue(l,new fd(l))}Vn.STAT_EVENT="statevent";function pd(o,l){ue.call(this,Vn.STAT_EVENT,o),this.stat=l}A(pd,ue);function je(o){let l=As();Ue(l,new pd(l,o))}Vn.Ma="timingevent";function md(o,l){ue.call(this,Vn.Ma,o),this.size=l}A(md,ue);function ni(o,l){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},l)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function rv(o,l,h,f,T,S){o.info(function(){if(o.g)if(S)for(var O="",oe=S.split("&"),Ce=0;Ce<oe.length;Ce++){var ne=oe[Ce].split("=");if(1<ne.length){var xe=ne[0];ne=ne[1];var Le=xe.split("_");O=2<=Le.length&&Le[1]=="type"?O+(xe+"="+ne+"&"):O+(xe+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+f+") [attempt "+T+"]: "+l+`
`+h+`
`+O})}function iv(o,l,h,f,T,S,O){o.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+T+"]: "+l+`
`+h+`
`+S+" "+O})}function dr(o,l,h,f){o.info(function(){return"XMLHTTP TEXT ("+l+"): "+ov(o,h)+(f?" "+f:"")})}function sv(o,l){o.info(function(){return"TIMEOUT: "+l})}ri.prototype.info=function(){};function ov(o,l){if(!o.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(o=0;o<h.length;o++)if(Array.isArray(h[o])){var f=h[o];if(!(2>f.length)){var T=f[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return fc(h)}catch{return l}}var Rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yc;function Cs(){}A(Cs,pc),Cs.prototype.g=function(){return new XMLHttpRequest},Cs.prototype.i=function(){return{}},yc=new Cs;function pn(o,l,h,f){this.j=o,this.i=l,this.l=h,this.R=f||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yd}function yd(){this.i=null,this.g="",this.h=!1}var _d={},_c={};function vc(o,l,h){o.L=1,o.v=Ns(zt(l)),o.m=h,o.P=!0,vd(o,null)}function vd(o,l){o.F=Date.now(),Ps(o),o.A=zt(o.v);var h=o.A,f=o.R;Array.isArray(f)||(f=[String(f)]),Od(h.i,"t",f),o.C=0,h=o.j.J,o.h=new yd,o.g=Xd(o.j,h?l:null,!o.m),0<o.O&&(o.M=new ev(b(o.Y,o,o.g),o.O)),l=o.U,h=o.g,f=o.ca;var T="readystatechange";Array.isArray(T)||(T&&(cd[0]=T.toString()),T=cd);for(var S=0;S<T.length;S++){var O=td(h,T[S],f||l.handleEvent,!1,l.h||l);if(!O)break;l.g[O.key]=O}l=o.H?p(o.H):{},o.m?(o.u||(o.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,l)):(o.u="GET",o.g.ea(o.A,o.u,null,l)),ti(),rv(o.i,o.u,o.A,o.l,o.R,o.m)}pn.prototype.ca=function(o){o=o.target;let l=this.M;l&&qt(o)==3?l.j():this.Y(o)},pn.prototype.Y=function(o){try{if(o==this.g)e:{let Le=qt(this.g);var l=this.g.Ba();let mr=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||jd(this.g)))){this.J||Le!=4||l==7||(l==8||0>=mr?ti(3):ti(2)),Ec(this);var h=this.g.Z();this.X=h;t:if(Ed(this)){var f=jd(this.g);o="";var T=f.length,S=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),ii(this);var O="";break t}this.h.i=new c.TextDecoder}for(l=0;l<T;l++)this.h.h=!0,o+=this.h.i.decode(f[l],{stream:!(S&&l==T-1)});f.length=0,this.h.g+=o,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,iv(this.i,this.u,this.A,this.l,this.R,Le,h),this.o){if(this.T&&!this.K){t:{if(this.g){var oe,Ce=this.g;if((oe=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(oe)){var ne=oe;break t}}ne=null}if(h=ne)dr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wc(this,h);else{this.o=!1,this.s=3,je(12),Fn(this),ii(this);break e}}if(this.P){h=!0;let mt;for(;!this.J&&this.C<O.length;)if(mt=av(this,O),mt==_c){Le==4&&(this.s=4,je(14),h=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==_d){this.s=4,je(15),dr(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else dr(this.i,this.l,mt,null),wc(this,mt);if(Ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||O.length!=0||this.h.h||(this.s=1,je(16),h=!1),this.o=this.o&&h,!h)dr(this.i,this.l,O,"[Invalid Chunked Response]"),Fn(this),ii(this);else if(0<O.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Rc(xe),xe.M=!0,je(11))}}else dr(this.i,this.l,O,null),wc(this,O);Le==4&&Fn(this),this.o&&!this.J&&(Le==4?Wd(this.j,this):(this.o=!1,Ps(this)))}else bv(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),Fn(this),ii(this)}}}catch{}};function Ed(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function av(o,l){var h=o.C,f=l.indexOf(`
`,h);return f==-1?_c:(h=Number(l.substring(h,f)),isNaN(h)?_d:(f+=1,f+h>l.length?_c:(l=l.slice(f,f+h),o.C=f+h,l)))}pn.prototype.cancel=function(){this.J=!0,Fn(this)};function Ps(o){o.S=Date.now()+o.I,wd(o,o.I)}function wd(o,l){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ni(b(o.ba,o),l)}function Ec(o){o.B&&(c.clearTimeout(o.B),o.B=null)}pn.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(sv(this.i,this.A),this.L!=2&&(ti(),je(17)),Fn(this),this.s=2,ii(this)):wd(this,this.S-o)};function ii(o){o.j.G==0||o.J||Wd(o.j,o)}function Fn(o){Ec(o);var l=o.M;l&&typeof l.ma=="function"&&l.ma(),o.M=null,ld(o.U),o.g&&(l=o.g,o.g=null,l.abort(),l.ma())}function wc(o,l){try{var h=o.j;if(h.G!=0&&(h.g==o||Tc(h.h,o))){if(!o.K&&Tc(h.h,o)&&h.G==3){try{var f=h.Da.g.parse(l)}catch{f=null}if(Array.isArray(f)&&f.length==3){var T=f;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<o.F)Vs(h),xs(h);else break e;Ac(h),je(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=ni(b(h.Za,h),6e3));if(1>=bd(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else jn(h,11)}else if((o.K||h.g==o)&&Vs(h),!B(l))for(T=h.Da.g.parse(l),l=0;l<T.length;l++){let ne=T[l];if(h.T=ne[0],ne=ne[1],h.G==2)if(ne[0]=="c"){h.K=ne[1],h.ia=ne[2];let xe=ne[3];xe!=null&&(h.la=xe,h.j.info("VER="+h.la));let Le=ne[4];Le!=null&&(h.Aa=Le,h.j.info("SVER="+h.Aa));let mr=ne[5];mr!=null&&typeof mr=="number"&&0<mr&&(f=1.5*mr,h.L=f,h.j.info("backChannelRequestTimeoutMs_="+f)),f=h;let mt=o.g;if(mt){let Us=mt.g?mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var S=f.h;S.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ic(S,S.h),S.h=null))}if(f.D){let Cc=mt.g?mt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cc&&(f.ya=Cc,de(f.I,f.D,Cc))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-o.F,h.j.info("Handshake RTT: "+h.R+"ms")),f=h;var O=o;if(f.qa=Yd(f,f.J?f.ia:null,f.W),O.K){Sd(f.h,O);var oe=O,Ce=f.L;Ce&&(oe.I=Ce),oe.B&&(Ec(oe),Ps(oe)),f.g=O}else Hd(f);0<h.i.length&&Ls(h)}else ne[0]!="stop"&&ne[0]!="close"||jn(h,7);else h.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?jn(h,7):Sc(h):ne[0]!="noop"&&h.l&&h.l.ta(ne),h.v=0)}}ti(4)}catch{}}var cv=class{constructor(o,l){this.g=o,this.map=l}};function Td(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Id(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function bd(o){return o.h?1:o.g?o.g.size:0}function Tc(o,l){return o.h?o.h==l:o.g?o.g.has(l):!1}function Ic(o,l){o.g?o.g.add(l):o.h=l}function Sd(o,l){o.h&&o.h==l?o.h=null:o.g&&o.g.has(l)&&o.g.delete(l)}Td.prototype.cancel=function(){if(this.i=Ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function Ad(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let l=o.i;for(let h of o.g.values())l=l.concat(h.D);return l}return D(o.i)}function lv(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var l=[],h=o.length,f=0;f<h;f++)l.push(o[f]);return l}l=[],h=0;for(f in o)l[h++]=o[f];return l}function uv(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var l=[];o=o.length;for(var h=0;h<o;h++)l.push(h);return l}l=[],h=0;for(let f in o)l[h++]=f;return l}}}function Rd(o,l){if(o.forEach&&typeof o.forEach=="function")o.forEach(l,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,l,void 0);else for(var h=uv(o),f=lv(o),T=f.length,S=0;S<T;S++)l.call(void 0,f[S],h&&h[S],o)}var Cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hv(o,l){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var f=o[h].indexOf("="),T=null;if(0<=f){var S=o[h].substring(0,f);T=o[h].substring(f+1)}else S=o[h];l(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Un(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Un){this.h=o.h,ks(this,o.j),this.o=o.o,this.g=o.g,Ds(this,o.s),this.l=o.l;var l=o.i,h=new ai;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),Pd(this,h),this.m=o.m}else o&&(l=String(o).match(Cd))?(this.h=!1,ks(this,l[1]||"",!0),this.o=si(l[2]||""),this.g=si(l[3]||"",!0),Ds(this,l[4]),this.l=si(l[5]||"",!0),Pd(this,l[6]||"",!0),this.m=si(l[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Un.prototype.toString=function(){var o=[],l=this.j;l&&o.push(oi(l,kd,!0),":");var h=this.g;return(h||l=="file")&&(o.push("//"),(l=this.o)&&o.push(oi(l,kd,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&o.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(oi(h,h.charAt(0)=="/"?pv:fv,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",oi(h,gv)),o.join("")};function zt(o){return new Un(o)}function ks(o,l,h){o.j=h?si(l,!0):l,o.j&&(o.j=o.j.replace(/:$/,""))}function Ds(o,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);o.s=l}else o.s=null}function Pd(o,l,h){l instanceof ai?(o.i=l,yv(o.i,o.h)):(h||(l=oi(l,mv)),o.i=new ai(l,o.h))}function de(o,l,h){o.i.set(l,h)}function Ns(o){return de(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function si(o,l){return o?l?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function oi(o,l,h){return typeof o=="string"?(o=encodeURI(o).replace(l,dv),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function dv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var kd=/[#\/\?@]/g,fv=/[#\?:]/g,pv=/[#\?]/g,mv=/[#\?@]/g,gv=/#/g;function ai(o,l){this.h=this.g=null,this.i=o||null,this.j=!!l}function mn(o){o.g||(o.g=new Map,o.h=0,o.i&&hv(o.i,function(l,h){o.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}n=ai.prototype,n.add=function(o,l){mn(this),this.i=null,o=fr(this,o);var h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(l),this.h+=1,this};function Dd(o,l){mn(o),l=fr(o,l),o.g.has(l)&&(o.i=null,o.h-=o.g.get(l).length,o.g.delete(l))}function Nd(o,l){return mn(o),l=fr(o,l),o.g.has(l)}n.forEach=function(o,l){mn(this),this.g.forEach(function(h,f){h.forEach(function(T){o.call(l,T,f,this)},this)},this)},n.na=function(){mn(this);let o=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let f=0;f<l.length;f++){let T=o[f];for(let S=0;S<T.length;S++)h.push(l[f])}return h},n.V=function(o){mn(this);let l=[];if(typeof o=="string")Nd(this,o)&&(l=l.concat(this.g.get(fr(this,o))));else{o=Array.from(this.g.values());for(let h=0;h<o.length;h++)l=l.concat(o[h])}return l},n.set=function(o,l){return mn(this),this.i=null,o=fr(this,o),Nd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[l]),this.h+=1,this},n.get=function(o,l){return o?(o=this.V(o),0<o.length?String(o[0]):l):l};function Od(o,l,h){Dd(o,l),0<h.length&&(o.i=null,o.g.set(fr(o,l),D(h)),o.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var f=l[h];let S=encodeURIComponent(String(f)),O=this.V(f);for(f=0;f<O.length;f++){var T=S;O[f]!==""&&(T+="="+encodeURIComponent(String(O[f]))),o.push(T)}}return this.i=o.join("&")};function fr(o,l){return l=String(l),o.j&&(l=l.toLowerCase()),l}function yv(o,l){l&&!o.j&&(mn(o),o.i=null,o.g.forEach(function(h,f){var T=f.toLowerCase();f!=T&&(Dd(this,f),Od(this,T,h))},o)),o.j=l}function _v(o,l){let h=new ri;if(c.Image){let f=new Image;f.onload=R(gn,h,"TestLoadImage: loaded",!0,l,f),f.onerror=R(gn,h,"TestLoadImage: error",!1,l,f),f.onabort=R(gn,h,"TestLoadImage: abort",!1,l,f),f.ontimeout=R(gn,h,"TestLoadImage: timeout",!1,l,f),c.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=o}else l(!1)}function vv(o,l){let h=new ri,f=new AbortController,T=setTimeout(()=>{f.abort(),gn(h,"TestPingServer: timeout",!1,l)},1e4);fetch(o,{signal:f.signal}).then(S=>{clearTimeout(T),S.ok?gn(h,"TestPingServer: ok",!0,l):gn(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(T),gn(h,"TestPingServer: error",!1,l)})}function gn(o,l,h,f,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),f(h)}catch{}}function Ev(){this.g=new nv}function wv(o,l,h){let f=h||"";try{Rd(o,function(T,S){let O=T;d(T)&&(O=fc(T)),l.push(f+S+"="+encodeURIComponent(O))})}catch(T){throw l.push(f+"type="+encodeURIComponent("_badmap")),T}}function ci(o){this.l=o.Ub||null,this.j=o.eb||!1}A(ci,pc),ci.prototype.g=function(){return new Os(this.l,this.j)},ci.prototype.i=(function(o){return function(){return o}})({});function Os(o,l){Me.call(this),this.D=o,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Os,Me),n=Os.prototype,n.open=function(o,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=l,this.readyState=1,ui(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(l.body=o),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Md(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Md(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var l=o.value?o.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!o.done}))&&(this.response=this.responseText+=l)}o.done?li(this):ui(this),this.readyState==3&&Md(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,li(this))},n.Qa=function(o){this.g&&(this.response=o,li(this))},n.ga=function(){this.g&&li(this)};function li(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ui(o)}n.setRequestHeader=function(o,l){this.u.append(o,l)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=l.next();return o.join(`\r
`)};function ui(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function xd(o){let l="";return Z(o,function(h,f){l+=f,l+=":",l+=h,l+=`\r
`}),l}function bc(o,l,h){e:{for(f in h){var f=!1;break e}f=!0}f||(h=xd(h),typeof o=="string"?h!=null&&encodeURIComponent(String(h)):de(o,l,h))}function ge(o){Me.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ge,Me);var Tv=/^https?$/i,Iv=["POST","PUT"];n=ge.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,l,h,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);l=l?l.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yc.g(),this.v=this.o?ud(this.o):ud(yc),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(l,String(o),!0),this.B=!1}catch(S){Ld(this,S);return}if(o=h||"",h=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var T in f)h.set(T,f[T]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(let S of f.keys())h.set(S,f.get(S));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Iv,l,void 0))||f||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of h)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ud(this),this.u=!0,this.g.send(o),this.u=!1}catch(S){Ld(this,S)}};function Ld(o,l){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=l,o.m=5,Vd(o),Ms(o)}function Vd(o){o.A||(o.A=!0,Ue(o,"complete"),Ue(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ue(this,"complete"),Ue(this,"abort"),Ms(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fd(this):this.bb())},n.bb=function(){Fd(this)};function Fd(o){if(o.h&&typeof a<"u"&&(!o.v[1]||qt(o)!=4||o.Z()!=2)){if(o.u&&qt(o)==4)od(o.Ea,0,o);else if(Ue(o,"readystatechange"),qt(o)==4){o.h=!1;try{let O=o.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var f;if(f=O===0){var T=String(o.D).match(Cd)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),f=!Tv.test(T?T.toLowerCase():"")}h=f}if(h)Ue(o,"complete"),Ue(o,"success");else{o.m=6;try{var S=2<qt(o)?o.g.statusText:""}catch{S=""}o.l=S+" ["+o.Z()+"]",Vd(o)}}finally{Ms(o)}}}}function Ms(o,l){if(o.g){Ud(o);let h=o.g,f=o.v[0]?()=>{}:null;o.g=null,o.v=null,l||Ue(o,"ready");try{h.onreadystatechange=f}catch{}}}function Ud(o){o.I&&(c.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function qt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var l=this.g.responseText;return o&&l.indexOf(o)==0&&(l=l.substring(o.length)),tv(l)}};function jd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function bv(o){let l={};o=(o.g&&2<=qt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<o.length;f++){if(B(o[f]))continue;var h=w(o[f]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=l[T]||[];l[T]=S,S.push(h)}v(l,function(f){return f.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(o,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||l}function Bd(o){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hi("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hi("baseRetryDelayMs",5e3,o),this.cb=hi("retryDelaySeedMs",1e4,o),this.Wa=hi("forwardChannelMaxRetries",2,o),this.wa=hi("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Td(o&&o.concurrentRequestLimit),this.Da=new Ev,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bd.prototype,n.la=8,n.G=1,n.connect=function(o,l,h,f){je(0),this.W=o,this.H=l||{},h&&f!==void 0&&(this.H.OSID=h,this.H.OAID=f),this.F=this.X,this.I=Yd(this,null,this.W),Ls(this)};function Sc(o){if($d(o),o.G==3){var l=o.U++,h=zt(o.I);if(de(h,"SID",o.K),de(h,"RID",l),de(h,"TYPE","terminate"),di(o,h),l=new pn(o,o.j,l),l.L=2,l.v=Ns(zt(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=Xd(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Ps(l)}Qd(o)}function xs(o){o.g&&(Rc(o),o.g.cancel(),o.g=null)}function $d(o){xs(o),o.u&&(c.clearTimeout(o.u),o.u=null),Vs(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function Ls(o){if(!Id(o.h)&&!o.s){o.s=!0;var l=o.Ga;j||ve(),$||(j(),$=!0),K.add(l,o),o.B=0}}function Sv(o,l){return bd(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=l.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ni(b(o.Ga,o,l),Kd(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let T=new pn(this,this.j,o),S=this.o;if(this.S&&(S?(S=p(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var f=this.i[h];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(l+=f,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=qd(this,T,l),h=zt(this.I),de(h,"RID",o),de(h,"CVER",22),this.D&&de(h,"X-HTTP-Session-Id",this.D),di(this,h),S&&(this.O?l="headers="+encodeURIComponent(String(xd(S)))+"&"+l:this.m&&bc(h,this.m,S)),Ic(this.h,T),this.Ua&&de(h,"TYPE","init"),this.P?(de(h,"$req",l),de(h,"SID","null"),T.T=!0,vc(T,h,null)):vc(T,h,l),this.G=2}}else this.G==3&&(o?zd(this,o):this.i.length==0||Id(this.h)||zd(this))};function zd(o,l){var h;l?h=l.l:h=o.U++;let f=zt(o.I);de(f,"SID",o.K),de(f,"RID",h),de(f,"AID",o.T),di(o,f),o.m&&o.o&&bc(f,o.m,o.o),h=new pn(o,o.j,h,o.B+1),o.m===null&&(h.H=o.o),l&&(o.i=l.D.concat(o.i)),l=qd(o,h,1e3),h.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ic(o.h,h),vc(h,f,l)}function di(o,l){o.H&&Z(o.H,function(h,f){de(l,f,h)}),o.l&&Rd({},function(h,f){de(l,f,h)})}function qd(o,l,h){h=Math.min(o.i.length,h);var f=o.l?b(o.l.Na,o.l,o):null;e:{var T=o.i;let S=-1;for(;;){let O=["count="+h];S==-1?0<h?(S=T[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let oe=!0;for(let Ce=0;Ce<h;Ce++){let ne=T[Ce].g,xe=T[Ce].map;if(ne-=S,0>ne)S=Math.max(0,T[Ce].g-100),oe=!1;else try{wv(xe,O,"req"+ne+"_")}catch{f&&f(xe)}}if(oe){f=O.join("&");break e}}}return o=o.i.splice(0,h),l.D=o,f}function Hd(o){if(!o.g&&!o.u){o.Y=1;var l=o.Fa;j||ve(),$||(j(),$=!0),K.add(l,o),o.v=0}}function Ac(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ni(b(o.Fa,o),Kd(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,Gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ni(b(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),xs(this),Gd(this))};function Rc(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function Gd(o){o.g=new pn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var l=zt(o.qa);de(l,"RID","rpc"),de(l,"SID",o.K),de(l,"AID",o.T),de(l,"CI",o.F?"0":"1"),!o.F&&o.ja&&de(l,"TO",o.ja),de(l,"TYPE","xmlhttp"),di(o,l),o.m&&o.o&&bc(l,o.m,o.o),o.L&&(o.g.I=o.L);var h=o.g;o=o.ia,h.L=1,h.v=Ns(zt(l)),h.m=null,h.P=!0,vd(h,o)}n.Za=function(){this.C!=null&&(this.C=null,xs(this),Ac(this),je(19))};function Vs(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function Wd(o,l){var h=null;if(o.g==l){Vs(o),Rc(o),o.g=null;var f=2}else if(Tc(o.h,l))h=l.D,Sd(o.h,l),f=1;else return;if(o.G!=0){if(l.o)if(f==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var T=o.B;f=As(),Ue(f,new md(f,h)),Ls(o)}else Hd(o);else if(T=l.s,T==3||T==0&&0<l.X||!(f==1&&Sv(o,l)||f==2&&Ac(o)))switch(h&&0<h.length&&(l=o.h,l.i=l.i.concat(h)),T){case 1:jn(o,5);break;case 4:jn(o,10);break;case 3:jn(o,6);break;default:jn(o,2)}}}function Kd(o,l){let h=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(h*=2),h*l}function jn(o,l){if(o.j.info("Error code "+l),l==2){var h=b(o.fb,o),f=o.Xa;let T=!f;f=new Un(f||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ks(f,"https"),Ns(f),T?_v(f.toString(),h):vv(f.toString(),h)}else je(2);o.G=0,o.l&&o.l.sa(l),Qd(o),$d(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function Qd(o){if(o.G=0,o.ka=[],o.l){let l=Ad(o.h);(l.length!=0||o.i.length!=0)&&(P(o.ka,l),P(o.ka,o.i),o.h.i.length=0,D(o.i),o.i.length=0),o.l.ra()}}function Yd(o,l,h){var f=h instanceof Un?zt(h):new Un(h);if(f.g!="")l&&(f.g=l+"."+f.g),Ds(f,f.s);else{var T=c.location;f=T.protocol,l=l?l+"."+T.hostname:T.hostname,T=+T.port;var S=new Un(null);f&&ks(S,f),l&&(S.g=l),T&&Ds(S,T),h&&(S.l=h),f=S}return h=o.D,l=o.ya,h&&l&&de(f,h,l),de(f,"VER",o.la),di(o,f),f}function Xd(o,l,h){if(l&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=o.Ca&&!o.pa?new ge(new ci({eb:h})):new ge(o.pa),l.Ha(o.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jd(){}n=Jd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fs(){}Fs.prototype.g=function(o,l){return new et(o,l)};function et(o,l){Me.call(this),this.g=new Bd(l),this.l=o,this.h=l&&l.messageUrlParams||null,o=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(o?o["X-WebChannel-Content-Type"]=l.messageContentType:o={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(o?o["X-WebChannel-Client-Profile"]=l.va:o={"X-WebChannel-Client-Profile":l.va}),this.g.S=o,(o=l&&l.Sb)&&!B(o)&&(this.g.m=o),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!B(l)&&(this.g.D=l,o=this.h,o!==null&&l in o&&(o=this.h,l in o&&delete o[l])),this.j=new pr(this)}A(et,Me),et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},et.prototype.close=function(){Sc(this.g)},et.prototype.o=function(o){var l=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.u&&(h={},h.__data__=fc(o),o=h);l.i.push(new cv(l.Ya++,o)),l.G==3&&Ls(l)},et.prototype.N=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,et.aa.N.call(this)};function Zd(o){mc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var l=o.__sm__;if(l){e:{for(let h in l){o=h;break e}o=void 0}(this.i=o)&&(o=this.i,l=l!==null&&o in l?l[o]:void 0),this.data=l}else this.data=o}A(Zd,mc);function ef(){gc.call(this),this.status=1}A(ef,gc);function pr(o){this.g=o}A(pr,Jd),pr.prototype.ua=function(){Ue(this.g,"a")},pr.prototype.ta=function(o){Ue(this.g,new Zd(o))},pr.prototype.sa=function(o){Ue(this.g,new ef)},pr.prototype.ra=function(){Ue(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,et.prototype.send=et.prototype.o,et.prototype.open=et.prototype.m,et.prototype.close=et.prototype.close,Wy=on.createWebChannelTransport=function(){return new Fs},Gy=on.getStatEventTarget=function(){return As()},Hy=on.Event=Vn,qy=on.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,zy=on.ErrorCode=Rs,gd.COMPLETE="complete",$y=on.EventType=gd,hd.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Me.prototype.listen=Me.prototype.K,By=on.WebChannel=hd,pA=on.FetchXmlHttpFactory=ci,ge.prototype.listenOnce=ge.prototype.L,ge.prototype.getLastError=ge.prototype.Ka,ge.prototype.getLastErrorCode=ge.prototype.Ba,ge.prototype.getStatus=ge.prototype.Z,ge.prototype.getResponseJson=ge.prototype.Oa,ge.prototype.getResponseText=ge.prototype.oa,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Ha,jy=on.XhrIo=ge}).apply(typeof Ua<"u"?Ua:typeof self<"u"?self:typeof window<"u"?window:{});var Ky="@firebase/firestore",Qy="4.8.0";var Oe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Oe.UNAUTHENTICATED=new Oe(null),Oe.GOOGLE_CREDENTIALS=new Oe("google-credentials-uid"),Oe.FIRST_PARTY=new Oe("first-party-uid"),Oe.MOCK_USER=new Oe("mock-user");var ws="11.10.0";var Yr=new Ot("@firebase/firestore");function Rt(n,...e){if(Yr.logLevel<=se.DEBUG){let t=e.map(zh);Yr.debug(`Firestore (${ws}): ${n}`,...t)}}function c_(n,...e){if(Yr.logLevel<=se.ERROR){let t=e.map(zh);Yr.error(`Firestore (${ws}): ${n}`,...t)}}function mA(n,...e){if(Yr.logLevel<=se.WARN){let t=e.map(zh);Yr.warn(`Firestore (${ws}): ${n}`,...t)}}function zh(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ze(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,l_(n,r,t)}function l_(n,e,t){let r=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw c_(r),new Error(r)}function lr(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||l_(e,i,r)}var te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=class extends ze{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ja=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bh=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oe.UNAUTHENTICATED))}shutdown(){}},Sh=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Ah=class{constructor(e){this.t=e,this.currentUser=Oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lr(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lr(typeof r.accessToken=="string",31837,{l:r}),new ja(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return lr(e===null||typeof e=="string",2055,{h:e}),new Oe(e)}},Rh=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Oe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ch=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Rh(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ba=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ph=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Je(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){lr(this.o===void 0,3512);let r=s=>{s.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.m;return this.m=s.token,Rt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ba(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ba(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gA(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function yA(){return new TextEncoder}var kh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=gA(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function pt(n,e){return n<e?-1:n>e?1:0}function _A(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return pt(r,i);{let s=yA(),a=vA(s.encode(Yy(n,t)),s.encode(Yy(e,t)));return a!==0?a:pt(r,i)}}t+=r>65535?2:1}return pt(n.length,e.length)}function Yy(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vA(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pt(n[t],e[t]);return pt(n.length,e.length)}var Xy="__name__",$a=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ze(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ze(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return pt(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):_A(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fa.fromString(e.substring(4,e.length-2))}},an=class n extends $a{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new J(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},EA=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dh=class n extends $a{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return EA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new n([Xy])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new J(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new J(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new J(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var cn=class n{constructor(e){this.path=e}static fromPath(e){return new n(an.fromString(e))}static fromName(e){return new n(an.fromString(e).popFirst(5))}static empty(){return new n(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&an.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new an(e.slice()))}};function wA(n,e,t,r){if(e===!0&&r===!0)throw new J(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function IA(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ze(12329,{type:typeof n})}function bA(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=IA(n);throw new J(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Te(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ts(n,e){if(!TA(n))throw new J(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let a=n[r];if(i&&typeof a!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new J(te.INVALID_ARGUMENT,t);return!0}var Jy=-62135596800,Zy=1e6,ms=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Zy);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new J(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new J(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jy)throw new J(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zy}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ts(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ms._jsonSchemaVersion="firestore/timestamp/1.0",ms._jsonSchema={type:Te("string",ms._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};var Nh=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Nh.UNKNOWN_ID=-1;function SA(n){return n.name==="IndexedDbTransactionError"}function AA(n){return n===0&&1/n==-1/0}var RA="remoteDocuments",u_="owner";var h_="mutationQueues";var d_="mutations";var f_="documentMutations",CA="remoteDocumentsV14";var p_="remoteDocumentGlobal";var m_="targets";var g_="targetDocuments";var y_="targetGlobal",__="collectionParents";var v_="clientMetadata";var E_="bundles";var w_="namedQueries";var PA="indexConfiguration";var kA="indexState";var DA="indexEntries";var T_="documentOverlays";var NA="globals";var OA=[h_,d_,f_,RA,m_,u_,y_,g_,v_,p_,__,E_,w_],PO=[...OA,T_],MA=[h_,d_,f_,CA,m_,u_,y_,g_,v_,p_,__,E_,w_,T_],xA=MA,LA=[...xA,PA,kA,DA];var kO=[...LA,NA];var Xr=class n{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gr(this.root,e,this.comparator,!0)}},Gr=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ut=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}};Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var za=class n{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qa(this.data.getIterator())}getIteratorFrom(e){return new qa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},qa=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Oh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ln=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Oh("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ln.EMPTY_BYTE_STRING=new Ln("");var VA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function FA(n){if(lr(!!n,39018),typeof n=="string"){let e=0,t=VA.exec(n);if(lr(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gs(n.seconds),nanos:gs(n.nanos)}}function gs(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function UA(n){return typeof n=="string"?Ln.fromBase64String(n):Ln.fromUint8Array(n)}var Mh="(default)",xh=class n{constructor(e,t){this.projectId=e,this.database=t||Mh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var I_="__type__",jA="__max__";var b_="__vector__",S_="value";function BA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[I_])===null||t===void 0?void 0:t.stringValue)===b_}function $A(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jA}var NO={mapValue:{fields:{[I_]:{stringValue:b_},[S_]:{arrayValue:{}}}}};var Lh=class{constructor(e,t=null,r=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function zA(n){return new Lh(n)}var OO=new Xr(cn.comparator);var MO=new Xr(cn.comparator);var xO=new Xr(cn.comparator),LO=new za(cn.comparator);var VO=new za(pt);var e_,ee;(ee=e_||(e_={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";var FO=new Fa([4294967295,4294967295],0);var Ha=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(gs(e.integerValue));else if("doubleValue"in e){let r=gs(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),AA(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=FA(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(UA(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?$A(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):BA(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Ze(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let a=S_,c=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(gs(c)),this.xt(a,t),this.Dt(s[a],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),cn.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Ha.Ut=new Ha;var UO=new Uint8Array(0);var A_=41943040,Ft=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(A_,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);var qA=1048576;function Ih(){return typeof document<"u"?document:null}var Vh=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Fh=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,c=new n(e,t,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var t_,n_;(n_=t_||(t_={})).Fa="default",n_.Cache="cache";function HA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var r_=new Map;var R_="firestore.googleapis.com",i_=!0,Ga=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R_,this.ssl=i_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qA)throw new J(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Wa=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ga({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ga(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bh;switch(r.type){case"firstParty":return new Ch(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=r_.get(t);r&&(Rt("ComponentProvider","Removing Datastore"),r_.delete(t),r.terminate())})(this),Promise.resolve()}};function C_(n,e,t,r={}){var i;n=bA(n,Wa);let s=Jt(e),a=n._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s&&(Br(`https://${u}`),$r("Firestore",!0)),a.host!==R_&&a.host!==u&&mA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:r});if(!Nt(d,c)&&(n._setSettings(d),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Oe.MOCK_USER;else{y=ma(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new J(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Oe(b)}n._authCredentials=new Sh(new ja(y,_))}}var Uh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},hr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ts(t,n._jsonSchema))return new n(e,r||null,new cn(an.fromString(t.referencePath)))}};hr._jsonSchemaVersion="firestore/documentReference/1.0",hr._jsonSchema={type:Te("string",hr._jsonSchemaVersion),referencePath:Te("string")};var jh=class n extends Uh{constructor(e,t,r){super(e,t,zA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new cn(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var s_="AsyncQueue",Ka=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Vh(this,"async_queue_retry"),this.oc=()=>{let r=Ih();r&&Rt(s_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Ih();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Ih();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new ur;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!SA(e))throw e;Rt(s_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,c_("INTERNAL UNHANDLED ERROR: ",o_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Fh.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Ze(47125,{hc:o_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function o_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Bh=class extends Wa{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ka,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ka(e),this._firestoreClient=void 0,await e}}};function P_(n,e){let t=typeof n=="object"?n:en(),r=typeof n=="string"?n:e||Mh,i=Cn(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=pa("firestore");s&&C_(i,...s)}return i}var ys=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ln.fromBase64String(e))}catch(t){throw new J(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ts(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ys._jsonSchemaVersion="firestore/bytes/1.0",ys._jsonSchema={type:Te("string",ys._jsonSchemaVersion),bytes:Te("string")};var Qa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new J(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dh(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _s=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new J(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ts(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};_s._jsonSchemaVersion="firestore/geoPoint/1.0",_s._jsonSchema={type:Te("string",_s._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};var vs=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ts(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new J(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};vs._jsonSchemaVersion="firestore/vectorValue/1.0",vs._jsonSchema={type:Te("string",vs._jsonSchemaVersion),vectorValues:Te("object")};var GA=new RegExp("[~\\*/\\[\\]]");function WA(n,e,t){if(e.search(GA)>=0)throw a_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qa(...e.split("."))._internalPath}catch{throw a_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function a_(n,e,t,r,i){let s=r&&!r.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new J(te.INVALID_ARGUMENT,c+n+u)}var Ya=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $h(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(k_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$h=class extends Ya{data(){return super.data()}};function k_(n,e){return typeof e=="string"?WA(n,e):e instanceof Qa?e._internalPath:e._delegate._internalPath}var Wr=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Kr=class n extends Ya{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Qr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(k_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Te("string",Kr._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};var Qr=class extends Kr{data(e={}){return super.data(e)}},Es=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qr(this._firestore,this._userDataWriter,r.key,r,new Wr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{let u=new Qr(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new Qr(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,y=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),y=a.indexOf(c.doc.key)),{type:KA(c.type),doc:u,oldIndex:d,newIndex:y}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function KA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:n})}}Es._jsonSchemaVersion="firestore/querySnapshot/1.0",Es._jsonSchema={type:Te("string",Es._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};(function(e,t=!0){(function(i){ws=i})(Mt),ot(new Ne("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),c=new Bh(new Ah(r.getProvider("auth-internal")),new Ph(a,r.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new J(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(d.options.projectId,y)})(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ce(Ky,Qy,e),ce(Ky,Qy,"esm2017")})();var Is=class{constructor(e){return e}},D_="firestore",qh=class{constructor(){return Pn(D_)}};var Hh=new Y("angularfire2.firestore-instances");function QA(n,e){let t=rr(D_,n,e);return t&&new Is(t)}function YA(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Is(r)}}var XA={provide:qh,deps:[[new ke,Hh]]},JA={provide:Is,useFactory:QA,deps:[[new ke,Hh],St]};function N_(n,...e){return ce("angularfire",xt.full,"fst"),We([JA,XA,{provide:Hh,useFactory:YA(n),multi:!0,deps:[ye,Pe,Lt,nn,[new ke,cr],[new ke,Dn],...e]}])}var O_=tn(P_,!0);var U_="firebasestorage.googleapis.com",ZA="storageBucket",eR=120*1e3,tR=600*1e3;var jt=class n extends ze{constructor(e,t,r=0){super(Gh(e),`Firebase Storage: ${t} (${Gh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},un=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(un||{});function Gh(n){return"storage/"+n}function nR(){let n="An unknown error occurred, please check the error payload for server response.";return new jt(un.UNKNOWN,n)}function rR(){return new jt(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iR(){return new jt(un.CANCELED,"User canceled the upload/download.")}function sR(n){return new jt(un.INVALID_URL,"Invalid URL '"+n+"'.")}function oR(n){return new jt(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function M_(n){return new jt(un.INVALID_ARGUMENT,n)}function j_(){return new jt(un.APP_DELETED,"The Firebase app was deleted.")}function aR(n){return new jt(un.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ln=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw oR(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}let a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(F){F.path_=decodeURIComponent(F.path)}let y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${i}/o${b}`,"i"),A={bucket:1,path:3},D=t===U_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",L=new RegExp(`^https?://${D}/${i}/${P}`,"i"),z=[{regex:c,indices:u,postModify:s},{regex:R,indices:A,postModify:d},{regex:L,indices:{bucket:1,path:2},postModify:d}];for(let F=0;F<z.length;F++){let le=z[F],Z=le.regex.exec(e);if(Z){let v=Z[le.indices.bucket],p=Z[le.indices.path];p||(p=""),r=new n(v,p),le.postModify(r);break}}if(r==null)throw sR(e);return r}},Wh=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function cR(n,e,t){let r=1,i=null,s=null,a=!1,c=0;function u(){return c===2}let d=!1;function y(...P){d||(d=!0,e.apply(null,P))}function _(P){i=setTimeout(()=>{i=null,n(R,u())},P)}function b(){s&&clearTimeout(s)}function R(P,...L){if(d){b();return}if(P){b(),y.call(null,P,...L);return}if(u()||a){b(),y.call(null,P,...L);return}r<64&&(r*=2);let z;c===1?(c=2,z=0):z=(r+Math.random())*1e3,_(z)}let A=!1;function D(P){A||(A=!0,b(),!d&&(i!==null?(P||(c=2),clearTimeout(i),_(0)):P||(c=1)))}return _(0),s=setTimeout(()=>{a=!0,D(!0)},t),D}function lR(n){n(!1)}function uR(n){return n!==void 0}function x_(n,e,t,r){if(r<e)throw M_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw M_(`Invalid value for '${n}'. Expected ${t} or less.`)}function hR(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Kh=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(Kh||{});function dR(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var Qh=class{constructor(e,t,r,i,s,a,c,u,d,y,_,b=!0,R=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,D)=>{this.resolve_=A,this.reject_=D,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Jr(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let a=c=>{let u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;let c=s.getErrorCode()===Kh.NO_ERROR,u=s.getStatus();if(!c||dR(u,this.additionalRetryCodes_)&&this.retry){let y=s.getErrorCode()===Kh.ABORT;r(!1,new Jr(!1,null,y));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new Jr(d,s))})},t=(r,i)=>{let s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());uR(u)?s(u):s()}catch(u){a(u)}else if(c!==null){let u=nR();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(i.canceled){let u=this.appDelete_?j_():iR();a(u)}else{let u=rR();a(u)}};this.canceled_?t(!1,new Jr(!1,null,!0)):this.backoffId_=cR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Jr=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function fR(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function pR(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mR(n,e){e&&(n["X-Firebase-GMPID"]=e)}function gR(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function yR(n,e,t,r,i,s,a=!0,c=!1){let u=hR(n.urlParams),d=n.url+u,y=Object.assign({},n.headers);return mR(y,e),fR(y,t),pR(y,s),gR(y,r),new Qh(d,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a,c)}function _R(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function vR(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var iM=256*1024;var Yh=class n{constructor(e,t){this._service=e,t instanceof ln?this._location=t:this._location=ln.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vR(this._location.path)}get storage(){return this._service}get parent(){let e=_R(this._location.path);if(e===null)return null;let t=new ln(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw aR(e)}};function L_(n,e){let t=e?.[ZA];return t==null?null:ln.makeFromBucketSpec(t,n)}function ER(n,e,t,r={}){n.host=`${e}:${t}`;let i=Jt(e);i&&(Br(`https://${n.host}/b`),$r("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:ma(s,n.app.options.projectId))}var Xh=class{constructor(e,t,r,i,s,a=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=U_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eR,this._maxUploadRetryTime=tR,this._requests=new Set,i!=null?this._bucket=ln.makeFromBucketSpec(i,this._host):this._bucket=L_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ln.makeFromBucketSpec(this._url,e):this._bucket=L_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){x_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){x_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yh(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Wh(j_());{let a=yR(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){let[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}},V_="@firebase/storage",F_="0.13.14";var B_="storage";function $_(n=en(),e){n=bt(n);let r=Cn(n,B_).getImmediate({identifier:e}),i=pa("storage");return i&&z_(r,...i),r}function z_(n,e,t,r={}){ER(n,e,t,r)}function wR(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Xh(t,r,i,e,Mt)}function TR(){ot(new Ne(B_,wR,"PUBLIC").setMultipleInstances(!0)),ce(V_,F_,""),ce(V_,F_,"esm2017")}TR();var bs=class{constructor(e){return e}},q_="storage",Jh=class{constructor(){return Pn(q_)}};var Zh=new Y("angularfire2.storage-instances");function IR(n,e){let t=rr(q_,n,e);return t&&new bs(t)}function bR(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new bs(r)}}var SR={provide:Jh,deps:[[new ke,Zh]]},AR={provide:bs,useFactory:IR,deps:[[new ke,Zh],St]};function H_(n,...e){return ce("angularfire",xt.full,"gcs"),We([AR,SR,{provide:Zh,useFactory:bR(n),multi:!0,deps:[ye,Pe,Lt,nn,[new ke,cr],[new ke,Dn],...e]}])}var G_=tn($_,!0);function RR(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===1?1:i===0&&t!==0&&t%1e6===0&&r===0||!(i>=0&&i<=5)?4:5}var W_=["es",[["a.\u202Fm.","p.\u202Fm."],void 0,["a.\xA0m.","p.\xA0m."]],void 0,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],["DO","LU","MA","MI","JU","VI","SA"]],void 0,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],void 0,[["a. C.","d. C."],void 0,["antes de Cristo","despu\xE9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:[void 0,"$"],BRL:[void 0,"R$"],BYN:[void 0,"\u0440."],CAD:[void 0,"$"],CNY:[void 0,"\xA5"],EGP:[void 0,"EGP"],ESP:["\u20A7"],GBP:[void 0,"\xA3"],HKD:[void 0,"$"],ILS:[void 0,"\u20AA"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NZD:[void 0,"$"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:[void 0,"NT$"],USD:["US$","$"],XAF:[],XCD:[void 0,"$"],XOF:[]},"ltr",RR];function CR(n,e){n&1&&(k(0,"p"),M(1,"Bienvenido a Agility Asturias. Inicia sesi\xF3n para gestionar tus reservas."),N())}function PR(n,e){if(n&1){let t=Ve();k(0,"div",6)(1,"button",7),fe("click",function(){Se(t);let i=Ee();return Ae(i.login())}),we(2,"img",8),M(3," Continuar con Google "),N()()}}function kR(n,e){if(n&1){let t=Ve();k(0,"div",9),we(1,"img",10),k(2,"div")(3,"p",11),M(4),N(),k(5,"p",12),M(6),N(),k(7,"button",13),fe("click",function(){Se(t);let i=Ee();return Ae(i.logout())}),M(8,"Cerrar Sesi\xF3n"),N()()()}if(n&2){let t=e.ngIf;re(),_e("src",t.photoURL,Ks),re(3),Er(t.displayName),re(2),Er(t.email)}}var Xa=class n{authService=C(ht);constructor(){}async login(){try{await this.authService.loginWithGoogle()}catch(e){console.error(e)}}async logout(){await this.authService.logout()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ut({type:n,selectors:[["app-login"]],decls:8,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"logo-area"],[4,"ngIf"],["class","google-btn-wrapper",4,"ngIf"],["class","user-info",4,"ngIf"],[1,"google-btn-wrapper"],[1,"btn-google",3,"click"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","Google logo"],[1,"user-info"],["alt","User photo",3,"src"],[1,"name"],[1,"email"],[1,"btn-logout",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),M(4,"Iniciar Sesi\xF3n"),N()(),Wt(5,CR,2,0,"p",3)(6,PR,4,0,"div",4)(7,kR,9,3,"div",5),N()()),t&2&&(re(5),_e("ngIf",!r.authService.currentUserSignal()),re(),_e("ngIf",!r.authService.currentUserSignal()),re(),_e("ngIf",r.authService.currentUserSignal()))},dependencies:[Bn,to],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000001a;max-width:400px;width:100%;text-align:center}.google-btn-wrapper[_ngcontent-%COMP%]{margin:20px 0;display:flex;justify-content:center}.btn-google[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;background-color:#fff;color:#444;border:1px solid #ddd;border-radius:4px;padding:10px 20px;font-size:16px;font-weight:500;cursor:pointer;transition:background-color .2s;width:100%}.btn-google[_ngcontent-%COMP%]:hover{background-color:#f8f8f8}.btn-google[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.btn-logout[_ngcontent-%COMP%]{margin-top:10px;padding:6px 12px;background-color:#f44;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}.btn-logout[_ngcontent-%COMP%]:hover{background-color:#c00}.user-info[_ngcontent-%COMP%]{text-align:center;margin-top:20px;display:flex;flex-direction:column;align-items:center}.user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-bottom:10px}"]})};var Za=class n{constructor(e){this.location=e}get heroBackground(){return`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('${this.location.prepareExternalUrl("Images/Perros/Pumba.jpeg")}')`}static \u0275fac=function(t){return new(t||n)(wn(wr))};static \u0275cmp=ut({type:n,selectors:[["app-home"]],decls:116,vars:2,consts:[[1,"hero"],[1,"hero-overlay"],[1,"hero-content"],[1,"hero-badge"],[1,"subtitle"],[1,"hero-btns"],["routerLink","/contacto",1,"btn","btn-primary"],["routerLink","/galeria",1,"btn","btn-outline"],[1,"social-links"],["href","https://www.instagram.com/agility.asturias/","target","_blank","rel","noopener noreferrer","aria-label","Instagram",1,"social-btn","instagram"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"],["href","https://www.facebook.com/AgilityAsturias/photos","target","_blank","rel","noopener noreferrer","aria-label","Facebook",1,"social-btn","facebook"],["d","M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"],[1,"scroll-indicator"],[1,"arrow"],[1,"features-section"],[1,"container"],[1,"feature-card","fade-in"],[1,"icon-wrapper"],[1,"feature-card","fade-in","delay-1"],[1,"feature-card","fade-in","delay-2"],[1,"history-section"],[1,"section-intro"],[1,"timeline"],[1,"timeline-item","left"],[1,"timeline-icon"],[1,"timeline-content"],[1,"date"],[1,"timeline-item","right"],[1,"cta-section"],[1,"cta-content"],["routerLink","/contacto",1,"btn","btn-large"]],template:function(t,r){t&1&&(k(0,"section",0),we(1,"div",1),k(2,"div",2)(3,"span",3),M(4,"Club Deportivo"),N(),k(5,"h1"),M(6,"Agility Asturias"),N(),k(7,"p",4),M(8,"M\xE1s que un deporte, una conexi\xF3n \xFAnica con tu perro."),N(),k(9,"div",5)(10,"a",6),M(11,"\xA1Ven a probar!"),N(),k(12,"a",7),M(13,"Ver Galer\xEDa"),N()(),k(14,"div",8)(15,"a",9),Lc(),k(16,"svg",10),we(17,"path",11),N()(),Vc(),k(18,"a",12),Lc(),k(19,"svg",10),we(20,"path",13),N()()()(),Vc(),k(21,"div",14)(22,"span"),M(23,"Descubre m\xE1s"),N(),k(24,"div",15),M(25,"\u2193"),N()()(),k(26,"section",16)(27,"div",17)(28,"div",18)(29,"div",19),M(30,"\u{1F415}"),N(),k(31,"h3"),M(32,"V\xEDnculo"),N(),k(33,"p"),M(34,"Refuerza la relaci\xF3n con tu perro a trav\xE9s del trabajo en equipo y la diversi\xF3n compartida."),N()(),k(35,"div",20)(36,"div",19),M(37,"\u{1F3C6}"),N(),k(38,"h3"),M(39,"Competici\xF3n"),N(),k(40,"p"),M(41,"Participa en eventos locales y nacionales con el apoyo de nuestros entrenadores expertos."),N()(),k(42,"div",21)(43,"div",19),M(44,"\u{1F333}"),N(),k(45,"h3"),M(46,"Naturaleza"),N(),k(47,"p"),M(48,"Disfruta de nuestras instalaciones al aire libre en un entorno perfecto para el deporte."),N()()()(),k(49,"section",22)(50,"div",17)(51,"h3"),M(52,"Historia del Agility"),N(),k(53,"p",23),M(54,"De entretenimiento en descansos a deporte mundial."),N(),k(55,"div",24)(56,"div",25)(57,"div",26),M(58,"\u{1F3C1}"),N(),k(59,"div",27)(60,"span",28),M(61,"1978 - El Origen"),N(),k(62,"h4"),M(63,"Crufts Dog Show"),N(),k(64,"p"),M(65,"El Agility naci\xF3 en el Reino Unido de la mano de "),k(66,"strong"),M(67,"John Varley"),N(),M(68,", entrenador en el prestigioso Crufts Dog Show. Buscaba una forma original de entretener a la audiencia durante los descansos de las pruebas de obediencia, inspir\xE1ndose en los concursos h\xEDpicos de salto."),N()()(),k(69,"div",29)(70,"div",26),M(71,"\u{1F6A7}"),N(),k(72,"div",27)(73,"span",28),M(74,"El Primer Circuito"),N(),k(75,"h4"),M(76,"Velocidad y Agilidad"),N(),k(77,"p"),M(78,"El circuito original constaba de saltos, t\xFAneles y aros dise\xF1ados para poner a prueba la agilidad. La primera demostraci\xF3n fue un \xE9xito tan rotundo entre participantes y p\xFAblico que r\xE1pidamente se convirti\xF3 en una disciplina propia."),N()()(),k(79,"div",25)(80,"div",26),M(81,"\u{1F30D}"),N(),k(82,"div",27)(83,"span",28),M(84,"A\xF1os 80 - Expansi\xF3n"),N(),k(85,"h4"),M(86,"Organizaci\xF3n Mundial"),N(),k(87,"p"),M(88,"El deporte creci\xF3 r\xE1pidamente. Se fundaron organizaciones clave como el "),k(89,"strong"),M(90,"Kennel Club"),N(),M(91," en Reino Unido y la "),k(92,"strong"),M(93,"USDAA"),N(),M(94," en Estados Unidos, estableciendo reglamentos y estandarizando la competici\xF3n a nivel global."),N()()(),k(95,"div",29)(96,"div",26),M(97,"\u{1F680}"),N(),k(98,"div",27)(99,"span",28),M(100,"Actualidad"),N(),k(101,"h4"),M(102,"Deporte de \xC9lite y Diversi\xF3n"),N(),k(103,"p"),M(104,"Hoy es uno de los deportes caninos m\xE1s populares, con modalidades como "),k(105,"em"),M(106,"Jumping"),N(),M(107," o agilidad por equipos. Requiere un gran entrenamiento y compenetraci\xF3n, pero sobre todo, sigue siendo una actividad divertida y emocionante para disfrutar con tu perro."),N()()()()()(),k(108,"section",30)(109,"div",31)(110,"h2"),M(111,"\xBFListo para empezar?"),N(),k(112,"p"),M(113,"\xDAnete a Agility Asturias y descubre todo lo que tu perro y t\xFA pod\xE9is lograr juntos."),N(),k(114,"a",32),M(115,"Contactar Ahora"),N()()()),t&2&&Mf("background-image",r.heroBackground)},dependencies:[xr],styles:['[_nghost-%COMP%]{display:block;width:100%;overflow-x:hidden}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1.5rem}.hero[_ngcontent-%COMP%]{background-size:cover;background-position:center;background-attachment:fixed;height:90vh;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,#0006,#000000d9);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:800px;padding:2rem;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.hero-badge[_ngcontent-%COMP%]{display:inline-block;background-color:var(--accent-orange);color:#fff;padding:6px 12px;border-radius:20px;font-size:.9rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem;box-shadow:0 4px 10px #0000004d;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4.5rem;margin:.5rem 0;font-weight:800;line-height:1.1;text-align:center;text-shadow:2px 2px 10px rgba(0,0,0,.9)}.subtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin-bottom:2.5rem;color:#fff;text-shadow:1px 1px 4px rgba(0,0,0,.9)}.hero-btns[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.btn[_ngcontent-%COMP%]{padding:14px 28px;border-radius:30px;font-weight:600;text-decoration:none;transition:all .3s ease;font-size:1.1rem;cursor:pointer;display:inline-block}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-blue);color:#fff;border:2px solid var(--primary-blue);box-shadow:0 4px 15px #00449466}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#00337a;border-color:#00337a;transform:translateY(-3px);box-shadow:0 8px 20px #00449499}.btn-outline[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:2px solid white}.btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:var(--primary-blue);transform:translateY(-3px)}.scroll-indicator[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:50%;transform:translate(-50%);z-index:2;display:flex;flex-direction:column;align-items:center;gap:10px;opacity:.8;animation:_ngcontent-%COMP%_bounce 2s infinite}.features-section[_ngcontent-%COMP%]{padding:5rem 0;background-color:#fff}.features-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px}.feature-card[_ngcontent-%COMP%]{background:#fff;padding:2.5rem;border-radius:16px;text-align:center;box-shadow:0 4px 20px #0000000d;transition:transform .3s ease,box-shadow .3s ease;border:1px solid #f0f0f0}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 15px 30px #0000001a;border-color:var(--accent-orange-light, #ffd8a8)}.icon-wrapper[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:1.5rem;display:inline-block;padding:15px;background-color:#f9f9f9;border-radius:50%;width:80px;height:80px;line-height:80px;box-shadow:inset 0 0 10px #0000000d}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:var(--primary-blue);font-size:1.5rem}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.6}.history-section[_ngcontent-%COMP%]{padding:5rem 0;background-color:#f8f9fa;position:relative;overflow:hidden}.history-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:var(--primary-blue);font-size:2.5rem;font-weight:800}.section-intro[_ngcontent-%COMP%]{text-align:center;max-width:600px;margin:0 auto 4rem;color:#777;font-size:1.2rem}.timeline[_ngcontent-%COMP%]{position:relative;max-width:900px;margin:0 auto}.timeline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:4px;background-color:#e9ecef;top:0;bottom:0;left:50%;margin-left:-2px;border-radius:2px}.timeline-item[_ngcontent-%COMP%]{padding:10px 40px;position:relative;width:50%;box-sizing:border-box;opacity:0;animation:_ngcontent-%COMP%_fadeIn .8s ease-out forwards}.timeline-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.timeline-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.4s}.timeline-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}.timeline-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.8s}.left[_ngcontent-%COMP%]{left:0}.right[_ngcontent-%COMP%]{left:50%}.timeline-icon[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;right:-25px;top:20px;background-color:#fff;border:4px solid var(--accent-orange);border-radius:50%;z-index:10;display:flex;align-items:center;justify-content:center;font-size:1.5rem;box-shadow:0 4px 10px #0000001a}.right[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{left:-25px}.timeline-content[_ngcontent-%COMP%]{padding:25px;background-color:#fff;border-radius:12px;box-shadow:0 5px 20px #0000000d;position:relative;transition:transform .3s}.timeline-content[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.timeline-content[_ngcontent-%COMP%]:after{content:"";position:absolute;top:30px;width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;z-index:1}.left[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]:after{right:-10px;border-left:10px solid white}.right[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]:after{left:-10px;border-right:10px solid white}.date[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:var(--accent-orange);font-weight:700;margin-bottom:5px;text-transform:uppercase}.timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:1.3rem}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.95rem;line-height:1.6}.cta-section[_ngcontent-%COMP%]{padding:6rem 1rem;background-color:var(--primary-blue);background-image:linear-gradient(135deg,var(--primary-blue) 0%,#002a60 100%);color:#fff;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.8rem;margin-bottom:1.5rem}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2.5rem;opacity:.9}.btn-large[_ngcontent-%COMP%]{background-color:var(--accent-orange);color:#fff;padding:16px 40px;font-size:1.2rem;border-radius:50px;text-decoration:none;font-weight:700;display:inline-block;transition:all .3s;box-shadow:0 10px 20px #0003}.btn-large[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#f93;box-shadow:0 15px 30px #0000004d}@media(max-width:768px){.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.hero-btn[_ngcontent-%COMP%]{flex-direction:column}.timeline[_ngcontent-%COMP%]:after{left:31px}.timeline-item[_ngcontent-%COMP%]{width:100%;padding-left:70px;padding-right:20px}.timeline-item.right[_ngcontent-%COMP%]{left:0}.timeline-icon[_ngcontent-%COMP%]{left:6px!important;right:auto}.left[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]:after, .right[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]:after{left:-10px;right:auto;border-right:10px solid white;border-left:none}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translate(-50%)}40%{transform:translate(-50%,-10px)}60%{transform:translate(-50%,-5px)}}.social-links[_ngcontent-%COMP%]{margin-top:2rem;display:flex;gap:20px;justify-content:center}.social-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;background-color:#fff3;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:50%;color:#fff;transition:all .3s ease;border:1px solid rgba(255,255,255,.3)}.social-btn[_ngcontent-%COMP%]:hover{transform:translateY(-5px);background-color:#fff}.social-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.instagram[_ngcontent-%COMP%]:hover{color:#e1306c}.facebook[_ngcontent-%COMP%]:hover{color:#1877f2}']})};var K_=async(n,e)=>{let t=C(ht),r=C(st);return await t.getAuthState()?!0:(r.navigate(["/login"]),!1)};var ec=async(n,e)=>{let t=C(ht),r=C(st);return t.checkAuthLoading()&&await gr(zr(t.checkAuthLoading).pipe(Ie(i=>!i))),t.isStaff()?!0:(r.navigate(["/"]),!1)};var Q_=async(n,e)=>{let t=C(ht),r=C(st);return t.checkAuthLoading()&&await gr(zr(t.checkAuthLoading).pipe(Ie(i=>!i))),t.isAdmin()?!0:(r.navigate(["/"]),!1)};var ed=async(n,e)=>{let t=C(ht),r=C(st);return t.checkAuthLoading()&&await gr(zr(t.checkAuthLoading).pipe(Ie(i=>!i))),t.isMember()?!0:(r.navigate(["/"]),!1)};var Y_=[{path:"",component:Za,title:"Inicio | Agility Asturias"},{path:"reservas",loadComponent:()=>import("./chunk-QWTUHJYJ.js").then(n=>n.GestionarReservasComponent),canActivate:[ed],title:"Reservas | Agility Asturias"},{path:"contacto",loadComponent:()=>import("./chunk-RTJMVAP3.js").then(n=>n.ContactoComponent),title:"Contacto | Agility Asturias"},{path:"galeria",loadComponent:()=>import("./chunk-VTHYU3R5.js").then(n=>n.GaleriaComponent),title:"Galer\xEDa | Agility Asturias"},{path:"calendario",loadComponent:()=>import("./chunk-4WY4JMGS.js").then(n=>n.CalendarioComponent),canActivate:[ed],title:"Calendario | Agility Asturias"},{path:"gestionar-competiciones",loadComponent:()=>import("./chunk-T7S3INZE.js").then(n=>n.CrudCompeticionComponent),canActivate:[ec],title:"Gesti\xF3n Competiciones | Agility Asturias"},{path:"gestionar-miembros",loadComponent:()=>import("./chunk-3BRULQWF.js").then(n=>n.GestionarMiembrosComponent),canActivate:[ec],title:"Gesti\xF3n Miembros | Agility Asturias"},{path:"info-reservas",loadComponent:()=>import("./chunk-RAIZNMT5.js").then(n=>n.InfoReservasComponent),canActivate:[ec],title:"Info Reservas | Agility Asturias"},{path:"perfil",loadComponent:()=>import("./chunk-LMWJUNPM.js").then(n=>n.Perfil),canActivate:[K_],title:"Mi Perfil | Agility Asturias"},{path:"admin/usuarios",loadComponent:()=>import("./chunk-SEEC4VGK.js").then(n=>n.AdminUsuariosComponent),canActivate:[Q_],title:"Admin Usuarios | Agility Asturias"},{path:"login",component:Xa,title:"Iniciar Sesi\xF3n | Agility Asturias"}];Gf(W_);xu(Qc.firebase);var X_={providers:[mf(),lg(),xl(Y_),ll(ul([dm])),{provide:Vf,useValue:"es"},Lg(()=>xu(Qc.firebase)),N_(()=>O_()),xy(()=>Ly()),H_(()=>G_()),{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:pu.PROVIDER_ID,provider:new pu("YOUR_GOOGLE_CLIENT_ID")}],onError:n=>{console.error(n)}}},fg("ngsw-worker.js",{enabled:!_i(),registrationStrategy:"registerWhenStable:30000"})]};function DR(n,e){if(n&1){let t=Ve();k(0,"li")(1,"a",13),fe("click",function(){Se(t);let i=Ee();return Ae(i.closeMenu())}),M(2,"Reservas"),N()()}}function NR(n,e){if(n&1){let t=Ve();k(0,"li")(1,"a",14),fe("click",function(){Se(t);let i=Ee();return Ae(i.closeMenu())}),M(2,"Calendario"),N()()}}function OR(n,e){if(n&1){let t=Ve();k(0,"li")(1,"a",15),fe("click",function(){Se(t);let i=Ee();return Ae(i.closeMenu())}),M(2,"Eventos"),N()()}}function MR(n,e){if(n&1){let t=Ve();k(0,"a",16),fe("click",function(){Se(t);let i=Ee();return Ae(i.closeMenu())}),M(1," Iniciar Sesi\xF3n "),N()}}function xR(n,e){if(n&1&&we(0,"img",34),n&2){let t=Ee().ngIf;_e("src",t.photoURL,Ks)}}function LR(n,e){if(n&1&&(k(0,"div",35),M(1),N()),n&2){let t=Ee().ngIf;re(),Zs(" ",(t.displayName==null?null:t.displayName.charAt(0))||"U"," ")}}function VR(n,e){if(n&1){let t=Ve();k(0,"a",36),fe("click",function(){Se(t);let i=Ee(2);return Ae(i.closeMenu())}),M(1,"\u{1F4C5} Mis Reservas"),N()}}function FR(n,e){n&1&&we(0,"div",25)}function UR(n,e){if(n&1){let t=Ve();k(0,"a",37),fe("click",function(){Se(t);let i=Ee(2);return Ae(i.closeMenu())}),M(1," \u{1F465} Gesti\xF3n de Miembros "),N()}}function jR(n,e){if(n&1){let t=Ve();k(0,"a",38),fe("click",function(){Se(t);let i=Ee(2);return Ae(i.closeMenu())}),M(1," \u{1F440} Monitor Reservas "),N()}}function BR(n,e){n&1&&we(0,"div",25)}function $R(n,e){if(n&1){let t=Ve();k(0,"a",39),fe("click",function(){Se(t);let i=Ee(2);return Ae(i.closeMenu())}),M(1," \u{1F527} Administrar Sistema "),N()}}function zR(n,e){if(n&1){let t=Ve();k(0,"div",40),fe("click",function(){Se(t);let i=Ee(2);return Ae(i.closeMenu())}),N()}}function qR(n,e){if(n&1){let t=Ve();k(0,"div",17)(1,"button",18),fe("click",function(i){Se(t);let s=Ee();return Ae(s.toggleUserMenu(i))}),Wt(2,xR,1,1,"img",19)(3,LR,2,1,"ng-template",null,0,xf),k(5,"span",20),M(6,"\u25BC"),N()(),k(7,"div",21)(8,"div",22)(9,"p",23),M(10),N(),k(11,"p",24),M(12),N()(),we(13,"div",25),k(14,"a",26),fe("click",function(){Se(t);let i=Ee();return Ae(i.closeMenu())}),M(15,"\u{1F436} Mis Perretes"),N(),Wt(16,VR,2,0,"a",27)(17,FR,1,0,"div",28)(18,UR,2,0,"a",29)(19,jR,2,0,"a",30)(20,BR,1,0,"div",28)(21,$R,2,0,"a",31),k(22,"button",32),fe("click",function(){Se(t);let i=Ee();return Ae(i.logout())}),M(23,"\u{1F6AA} Cerrar Sesi\xF3n"),N()(),Wt(24,zR,1,0,"div",33),N()}if(n&2){let t=e.ngIf,r=Of(4),i=Ee();re(2),_e("ngIf",t.photoURL)("ngIfElse",r),re(5),Js("show",i.isUserMenuOpen),re(3),Er(t.displayName),re(2),Er(t.email),re(4),_e("ngIf",i.authService.isMember()),re(),_e("ngIf",i.authService.isStaff()),re(),_e("ngIf",i.authService.isStaff()),re(),_e("ngIf",i.authService.isStaff()),re(),_e("ngIf",i.authService.isAdmin()),re(),_e("ngIf",i.authService.isAdmin()),re(3),_e("ngIf",i.isUserMenuOpen)}}var tc=class n{isMenuOpen=!1;isUserMenuOpen=!1;authService=C(ht);toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1,this.isUserMenuOpen=!1}toggleUserMenu(e){e&&(e.preventDefault(),e.stopPropagation()),this.isUserMenuOpen=!this.isUserMenuOpen}async logout(){await this.authService.logout(),this.closeMenu()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ut({type:n,selectors:[["app-navbar"]],decls:26,vars:9,consts:[["defaultAvatar",""],[1,"app-header"],[1,"logo-area"],[1,"mobile-menu-btn",3,"click"],[1,"bar"],["src","Images/Agility_Asturias_logo.jpg","alt","Agility Asturias Logo",1,"nav-logo"],["routerLink","/",3,"click"],[4,"ngIf"],["routerLink","/galeria",3,"click"],["routerLink","/contacto",3,"click"],[1,"auth-section"],["routerLink","/login","class","login-btn",3,"click",4,"ngIf"],["class","user-dropdown-container",4,"ngIf"],["routerLink","/reservas",3,"click"],["routerLink","/calendario",3,"click"],["routerLink","/gestionar-competiciones",3,"click"],["routerLink","/login",1,"login-btn",3,"click"],[1,"user-dropdown-container"],[1,"user-avatar-btn",3,"click"],["alt","User","class","nav-user-img","referrerpolicy","no-referrer",3,"src",4,"ngIf","ngIfElse"],[1,"dropdown-arrow"],[1,"user-dropdown-menu"],[1,"user-header"],[1,"name"],[1,"email"],[1,"dropdown-divider"],["routerLink","/perfil",1,"dropdown-item",3,"click"],["routerLink","/reservas","class","dropdown-item",3,"click",4,"ngIf"],["class","dropdown-divider",4,"ngIf"],["routerLink","/gestionar-miembros","class","dropdown-item staff-item",3,"click",4,"ngIf"],["routerLink","/info-reservas","class","dropdown-item staff-item",3,"click",4,"ngIf"],["routerLink","/admin/usuarios","class","dropdown-item admin-item",3,"click",4,"ngIf"],[1,"dropdown-item","logout-item",3,"click"],["class","dropdown-backdrop",3,"click",4,"ngIf"],["alt","User","referrerpolicy","no-referrer",1,"nav-user-img",3,"src"],[1,"nav-user-img","default-avatar-placeholder"],["routerLink","/reservas",1,"dropdown-item",3,"click"],["routerLink","/gestionar-miembros",1,"dropdown-item","staff-item",3,"click"],["routerLink","/info-reservas",1,"dropdown-item","staff-item",3,"click"],["routerLink","/admin/usuarios",1,"dropdown-item","admin-item",3,"click"],[1,"dropdown-backdrop",3,"click"]],template:function(t,r){t&1&&(k(0,"header",1)(1,"div",2)(2,"button",3),fe("click",function(){return r.toggleMenu()}),we(3,"span",4)(4,"span",4)(5,"span",4),N(),we(6,"img",5),k(7,"h1"),M(8,"Agility Asturias"),N()(),k(9,"nav")(10,"ul")(11,"li")(12,"a",6),fe("click",function(){return r.closeMenu()}),M(13,"Bienvenido"),N()(),Wt(14,DR,3,0,"li",7),k(15,"li")(16,"a",8),fe("click",function(){return r.closeMenu()}),M(17,"Galer\xEDa"),N()(),Wt(18,NR,3,0,"li",7)(19,OR,3,0,"li",7),k(20,"li")(21,"a",9),fe("click",function(){return r.closeMenu()}),M(22,"Contacto"),N()()()(),k(23,"div",10),Wt(24,MR,2,0,"a",11)(25,qR,25,13,"div",12),N()()),t&2&&(re(2),Js("active",r.isMenuOpen),re(8),Js("active",r.isMenuOpen),re(4),_e("ngIf",r.authService.isMember()),re(4),_e("ngIf",r.authService.isMember()),re(),_e("ngIf",r.authService.isStaff()),re(5),_e("ngIf",!r.authService.userProfileSignal()),re(),_e("ngIf",r.authService.userProfileSignal()))},dependencies:[xr,Bn,to],styles:[".app-header[_ngcontent-%COMP%]{background-color:var(--primary-blue);color:var(--white);padding:1rem 2rem;display:flex;align-items:center;position:sticky;top:0;z-index:1000;box-shadow:0 2px 4px #0000001a}.logo-area[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-right:auto}.nav-logo[_ngcontent-%COMP%]{height:40px;width:auto;border-radius:4px}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--white);margin:0;font-size:1.5rem}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;gap:1.5rem;align-items:center}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);font-weight:500;text-decoration:none;transition:color .2s}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gold}.auth-section[_ngcontent-%COMP%]{margin-left:1.5rem;position:relative;display:flex;align-items:center}.login-btn[_ngcontent-%COMP%]{background-color:var(--accent-orange);padding:8px 20px;border-radius:20px;border:none;transition:all .2s;color:#fff;text-decoration:none;font-weight:700;white-space:nowrap;box-shadow:0 2px 5px #0003}.login-btn[_ngcontent-%COMP%]:hover{background-color:#f93;color:#fff!important;transform:translateY(-2px);box-shadow:0 4px 8px #0000004d}.user-dropdown-container[_ngcontent-%COMP%]{position:relative}.user-avatar-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;gap:8px}.nav-user-img[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid white}.default-avatar-placeholder[_ngcontent-%COMP%]{background-color:var(--accent-orange);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;text-transform:uppercase}.dropdown-arrow[_ngcontent-%COMP%]{color:#fff;font-size:10px}.user-dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:120%;right:0;background:#fff;color:#333;min-width:200px;border-radius:8px;box-shadow:0 4px 12px #00000026;padding:8px 0;display:none;flex-direction:column;z-index:1001;animation:_ngcontent-%COMP%_fadeIn .1s ease-out}.user-dropdown-menu.show[_ngcontent-%COMP%]{display:flex}.user-header[_ngcontent-%COMP%]{padding:12px 16px;background-color:#f8f9fa}.user-header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;margin:0;font-size:14px;color:#333}.user-header[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#666}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background-color:#eee;margin:4px 0}.dropdown-item[_ngcontent-%COMP%]{padding:10px 16px;text-align:left;background:none;border:none;width:100%;cursor:pointer;color:#444!important;font-size:14px;transition:background .2s;display:block;box-sizing:border-box}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:var(--primary-blue)!important}.logout-item[_ngcontent-%COMP%]{color:#dc3545!important}.logout-item[_ngcontent-%COMP%]:hover{background-color:#fff1f2;color:#dc3545!important}.dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mobile-menu-btn[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;width:30px;height:21px;background:transparent;border:none;cursor:pointer;padding:0;z-index:10}.mobile-menu-btn[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:100%;height:3px;background-color:var(--white);border-radius:3px;transition:all .3s ease-in-out}.mobile-menu-btn.active[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(1){transform:translateY(9px) rotate(45deg)}.mobile-menu-btn.active[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(2){opacity:0}.mobile-menu-btn.active[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-9px) rotate(-45deg)}@media(max-width:768px){.app-header[_ngcontent-%COMP%]{padding:1rem}.logo-area[_ngcontent-%COMP%]{width:auto}.mobile-menu-btn[_ngcontent-%COMP%]{display:flex}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none;flex-direction:column;width:100%;position:absolute;top:100%;left:0;background-color:var(--primary-blue);padding:1rem 0;box-shadow:0 4px 6px #0000001a;z-index:9;align-items:stretch}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul.active[_ngcontent-%COMP%]{display:flex}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 2rem;width:100%}.app-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.auth-section[_ngcontent-%COMP%]{margin-left:1rem}.user-dropdown-menu[_ngcontent-%COMP%]{right:0;width:220px}}"]})};var HR=(n,e)=>e.id;function GR(n,e){n&1&&(k(0,"span"),M(1,"\u2713"),N())}function WR(n,e){n&1&&(k(0,"span"),M(1,"\u2715"),N())}function KR(n,e){n&1&&(k(0,"span"),M(1,"\u26A0"),N())}function QR(n,e){n&1&&(k(0,"span"),M(1,"\u2139"),N())}function YR(n,e){if(n&1){let t=Ve();k(0,"div",2),fe("click",function(){let i=Se(t).$implicit,s=Ee();return Ae(s.toastService.remove(i.id))}),k(1,"div",3),Pf(2,GR,2,0,"span")(3,WR,2,0,"span")(4,KR,2,0,"span")(5,QR,2,0,"span"),N(),k(6,"div",4),M(7),N()()}if(n&2){let t=e.$implicit;_e("ngClass",t.type),re(2),kf(t.type==="success"?2:t.type==="error"?3:t.type==="warning"?4:5),re(5),Zs(" ",t.message," ")}}var nc=class n{toastService=C(io);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ut({type:n,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-container"],[1,"toast",3,"ngClass"],[1,"toast",3,"click","ngClass"],[1,"toast-icon"],[1,"toast-content"]],template:function(t,r){t&1&&(k(0,"div",0),Df(1,YR,8,3,"div",1,HR),N()),t&2&&(re(),Nf(r.toastService.toasts()))},dependencies:[Bn,Hf],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:10px;pointer-events:none}.toast[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:16px 24px;min-width:300px;max-width:400px;box-shadow:0 8px 32px #0000001a;display:flex;align-items:center;gap:12px;animation:_ngcontent-%COMP%_slideIn .3s ease-out;pointer-events:auto;cursor:pointer;border-left:6px solid #ccc;transition:transform .2s,opacity .2s}.toast[_ngcontent-%COMP%]:hover{transform:translateY(-2px);opacity:.95}.toast.success[_ngcontent-%COMP%]{border-left-color:#10b981}.toast.success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#10b981;background:#10b9811a}.toast.error[_ngcontent-%COMP%]{border-left-color:#ef4444}.toast.error[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#ef4444;background:#ef44441a}.toast.warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.toast.warning[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#f59e0b;background:#f59e0b1a}.toast.info[_ngcontent-%COMP%]{border-left-color:#3b82f6}.toast.info[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#3b82f6;background:#3b82f61a}.toast-icon[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-family:monospace}.toast-content[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:.95rem}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}"]})};var rc=class n{title=En("AgilityAsturias");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ut({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"app-container"]],template:function(t,r){t&1&&(k(0,"div",0),we(1,"app-navbar"),k(2,"main"),we(3,"router-outlet"),N(),k(4,"footer")(5,"p"),M(6,"\xA9 2026 Agility Asturias"),N()(),we(7,"app-toast"),N())},dependencies:[zi,tc,nc],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:var(--container-width);margin:0 auto;width:100%}footer[_ngcontent-%COMP%]{text-align:center;padding:1rem;background-color:#e0e0e0;font-size:.875rem}"]})};nl(rc,X_).catch(n=>console.error(n));
