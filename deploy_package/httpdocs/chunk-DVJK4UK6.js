import{S as p}from"./chunk-ASF4LTZT.js";var w=class r{constructor(){}compress(i){return new Promise((s,a)=>{let c=new FileReader;c.readAsDataURL(i),c.onload=d=>{let o=new Image;o.src=d.target.result,o.onload=()=>{let n=document.createElement("canvas"),f=n.getContext("2d");if(!f)return a("Canvas context not available");let l=800,m=800,e=o.width,t=o.height;e>t?e>l&&(t*=l/e,e=l):t>m&&(e*=m/t,t=m),n.width=e,n.height=t,f.drawImage(o,0,0,e,t),n.toBlob(g=>{if(!g)return a("Compression failed");let h=new File([g],i.name,{type:"image/jpeg",lastModified:Date.now()});s(h)},"image/jpeg",.7)},o.onerror=n=>a(n)},c.onerror=d=>a(d)})}static \u0275fac=function(s){return new(s||r)};static \u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})};export{w as a};
