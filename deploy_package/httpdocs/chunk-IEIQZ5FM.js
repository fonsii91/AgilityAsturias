import{b as d,e as h}from"./chunk-G3KG7Z62.js";import{S as p,X as g,na as l}from"./chunk-FRQHPZYJ.js";var m=class n{http=g(d);apiUrl=`${h.apiUrl}/dogs`;dogsSignal=l([]);constructor(){}loadUserDogs(){this.http.get(this.apiUrl).subscribe({next:t=>this.dogsSignal.set(t),error:t=>console.error("Error loading dogs:",t)})}getDogs(){return this.dogsSignal}addDog(t){return new Promise((o,i)=>{this.http.post(this.apiUrl,t).subscribe({next:r=>{this.dogsSignal.update(e=>[...e,r]),o(r)},error:r=>i(r)})})}deleteDog(t){return new Promise((o,i)=>{this.http.delete(`${this.apiUrl}/${t}`).subscribe({next:()=>{this.dogsSignal.update(r=>r.filter(e=>e.id!==t)),o()},error:r=>i(r)})})}updateDogPhoto(t,o){return new Promise((i,r)=>{let e=new FormData;e.append("photo",o),this.http.post(`${this.apiUrl}/${t}/photo`,e).subscribe({next:s=>{this.dogsSignal.update(c=>c.map(a=>a.id===t?s:a)),i(s)},error:s=>r(s)})})}static \u0275fac=function(o){return new(o||n)};static \u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})};export{m as a};
